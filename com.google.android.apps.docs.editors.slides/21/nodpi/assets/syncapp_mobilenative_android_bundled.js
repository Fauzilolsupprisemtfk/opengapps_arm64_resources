(function(){function g(){return function(){}}function m(a){return function(b){this[a]=b}}function n(a){return function(){return this[a]}}function aa(a){return function(){return a}}var q,ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ca;
if("function"==typeof Object.setPrototypeOf)ca=Object.setPrototypeOf;else{var da;a:{var ea={a:!0},fa={};try{fa.__proto__=ea;da=fa.a;break a}catch(a){}da=!1}ca=da?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ha=ca;
function t(a,b){a.prototype=ba(b.prototype);a.prototype.constructor=a;if(ha)ha(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.G=b.prototype}
var ia={Kb:function(a){if(null==a)return a+"";if(a instanceof Array)return"Array["+a.length+"]";if("function"==typeof a){a=a.toString();var b=a.indexOf("{");return a.substring(0,b+1).replace("\n"," ")+"...}"}return"object"==typeof a?"["+ModelServices.Mf(a)+"]":a.toString()},Sd:function(a){return null==a?ia.Kb(a):a instanceof Array?ia.ge(a,10):"function"==typeof a?a.toString():"object"==typeof a?ia.je(a,10):ia.Kb(a)},ge:function(a,b){var c="[";a.length&&(c+="\n");for(var d=0;d<a.length;d++){if(d>b){c+=
"  + "+(a.length-b)+" more...\n";break}c+="  "+ia.Kb(a[d])+"\n"}return c+"]"},je:function(a,b){var c=ia.Kb(a)+" {",d=Object.keys(a);d.length&&(c+="\n");for(var e=0;e<d.length;e++){if(e>b){c+="  + "+(d.length-b)+" more...\n";break}var f=d[e];c+="  "+f+": "+ia.Kb(a[f])+"\n"}return c+"}"},Eb:function(a,b,c){if(0!==c.length){for(var d="",e=0;e<c.length-1;e++)d+=ia.Sd(c[e])+" ";d+=ia.Sd(c[e]);ModelServices.log(b,a,d)}},log:function(a){ia.Eb("console.log",1,arguments)},Ff:function(a){ia.Eb("console.debug",
1,arguments)},T:function(a){ia.Eb("console.info",1,arguments)},lg:function(a){ia.Eb("console.warn",2,arguments)},Ea:function(a){ia.Eb("console.error",3,arguments)}},ka={search:""},la={},ma={},window={};window.location=ka;window.location.href="";window.location.Yb="";window.Af=ia;window.eg={now:function(){return ModelServices.getTime()}};window.top=window;window.C=window;window.document=ma;ma.location=ka;ma.Jf={};ma.Cf=function(){return{}};ma.Nf=function(){return[]};
function na(){throw Error("XMLHttpRequest is not supported.");}q=na.prototype;q.open=g();q.Nd=g();q.S=g();q.Ja=g();q.Sb=aa("");q.Tb=aa(null);this.__mobile_docs_flagsData&&(this._docs_flag_initialData=eval("("+this.__mobile_docs_flagsData+")"),window._docs_flag_initialData=this._docs_flag_initialData);window.uf=Function;window.wf=String;var goog=goog||{},v=this;function x(a){return void 0!==a}function A(a){return"string"==typeof a}function pa(a){return"number"==typeof a}function qa(a,b){a=a.split(".");var c=v;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&x(b)?c[d]=b:c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}}function ra(a){a=a.split(".");for(var b=v,c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b}function ta(){}
function ua(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function va(a){return"array"==ua(a)}function xa(a){var b=ua(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ya(a){return"function"==ua(a)}function za(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var Aa="closure_uid_"+(1E9*Math.random()>>>0),Ba=0;function Ca(a,b,c){return a.call.apply(a.bind,arguments)}
function Da(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function D(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?D=Ca:D=Da;return D.apply(null,arguments)}
function Ea(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function Fa(a,b){for(var c in b)a[c]=b[c]}var E=Date.now||function(){return+new Date};
function Ga(a){if(v.execScript)v.execScript(a,"JavaScript");else if(v.od){if(null==Ha){try{v.od("var _evalTest_ = 1;")}catch(b){}if("undefined"!=typeof v._evalTest_){try{delete v._evalTest_}catch(b){}Ha=!0}else Ha=!1}Ha?v.od(a):v.document.Of.removeChild({type:"text/javascript",Gf:!1})}else throw Error("goog.globalEval not available");}var Ha=null;
function F(a,b){function c(){}c.prototype=b.prototype;a.G=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.xf=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function Ia(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ia);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}F(Ia,Error);Ia.prototype.name="CustomError";function Ja(){}Ja.prototype.i=null;function Ka(a){return a.i||(a.i=a.j())};var La;function Ma(){}F(Ma,Ja);Ma.prototype.g=function(){var a=Na(this);return a?new ActiveXObject(a):new na};Ma.prototype.j=function(){var a={};Na(this)&&(a[0]=!0,a[1]=!0);return a};
function Na(a){if(!a.e&&"undefined"==typeof na&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.e=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.e}La=new Ma;var Oa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(A(a))return A(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Pa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=A(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Qa=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=
a.length,e=Array(d),f=A(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Ra=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=A(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Sa=Array.prototype.every?function(a,b,c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=A(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};
function Ta(a){a:{var b=Ua;for(var c=a.length,d=A(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:A(a)?a.charAt(b):a[b]}function Wa(a,b){b=Oa(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Xa(a){return Array.prototype.concat.apply([],arguments)}function Ya(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Za(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(xa(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var h=0;h<f;h++)a[e+h]=d[h]}else a.push(d)}}function ab(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}
function bb(a,b,c){function d(a){return za(a)?"o"+(a[Aa]||(a[Aa]=++Ba)):(typeof a).charAt(0)+a}b=b||a;c=c||d;for(var e={},f=0,h=0;h<a.length;){var l=a[h++],k=c(l);Object.prototype.hasOwnProperty.call(e,k)||(e[k]=!0,b[f++]=l)}b.length=f}function cb(a,b,c){if(!xa(a)||!xa(b)||a.length!=b.length)return!1;var d=a.length;c=c||db;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0}function db(a,b){return a===b}function eb(a,b){return Xa.apply([],Qa(a,b,void 0))};function fb(a){return function(){return a}}var hb=fb(!1),ib=fb(!0),jb=fb(null);function kb(a){return function(){throw Error(a);}}function lb(a,b){b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};function mb(a){return Math.floor(Math.random()*a)};var nb="StopIteration"in v?v.StopIteration:{message:"StopIteration",stack:""};function pb(){}pb.prototype.next=function(){throw nb;};pb.prototype.Ya=function(){return this};function qb(a){if(a instanceof pb)return a;if("function"==typeof a.Ya)return a.Ya(!1);if(xa(a)){var b=0,c=new pb;c.next=function(){for(;;){if(b>=a.length)throw nb;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");};function rb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function sb(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function tb(a){var b=0,c;for(c in a)b++;return b}function ub(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function vb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function wb(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function xb(a){for(var b in a)return!1;return!0}function yb(a){var b={},c;for(c in a)b[c]=a[c];return b}
function zb(a){var b=ua(a);if("object"==b||"array"==b){if(ya(a.Q))return a.Q();b="array"==b?[]:{};for(var c in a)b[c]=zb(a[c]);return b}return a}var Ab="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ab.length;f++)c=Ab[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Cb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Db=/&/g,Eb=/</g,Fb=/>/g,Gb=/"/g,Hb=/'/g,Ib=/\x00/g,Jb=/[\x00&<>"']/;function Kb(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};var c={};return a.replace(Lb,function(a,e){var d=b[a];if(d)return d;"#"==e.charAt(0)&&(e=Number("0"+e.substr(1)),isNaN(e)||(d=String.fromCharCode(e)));d||(c.Rf=a+" ",d=c.Kf.Vf.slice(0,-1));return b[a]=d})}
function Mb(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?a:String.fromCharCode(c)}})}var Lb=/&([^;\s<&]+);?/g,Nb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Ob(a){return null==a?"":String(a)}function Pb(a){return Array.prototype.join.call(arguments,"")}
function Qb(a,b){return a<b?-1:a>b?1:0};function Rb(a,b){this.g={};this.e=[];this.j=this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a)if(a instanceof Rb)for(c=a.la(),d=0;d<c.length;d++)this.set(c[d],a.get(c[d]));else for(d in a)this.set(d,a[d])}q=Rb.prototype;q.P=n("i");q.N=function(){Sb(this);for(var a=[],b=0;b<this.e.length;b++)a.push(this.g[this.e[b]]);return a};q.la=function(){Sb(this);return this.e.concat()};
q.Da=function(a){for(var b=0;b<this.e.length;b++){var c=this.e[b];if(Tb(this.g,c)&&this.g[c]==a)return!0}return!1};q.oa=function(a,b){if(this===a)return!0;if(this.i!=a.P())return!1;b=b||Ub;Sb(this);for(var c,d=0;c=this.e[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function Ub(a,b){return a===b}q.J=function(){return 0==this.i};function Vb(a,b){return Tb(a.g,b)?(delete a.g[b],a.i--,a.j++,a.e.length>2*a.i&&Sb(a),!0):!1}
function Sb(a){if(a.i!=a.e.length){for(var b=0,c=0;b<a.e.length;){var d=a.e[b];Tb(a.g,d)&&(a.e[c++]=d);b++}a.e.length=c}if(a.i!=a.e.length){var e={};for(c=b=0;b<a.e.length;)d=a.e[b],Tb(e,d)||(a.e[c++]=d,e[d]=1),b++;a.e.length=c}}q.get=function(a,b){return Tb(this.g,a)?this.g[a]:b};q.set=function(a,b){Tb(this.g,a)||(this.i++,this.e.push(a),this.j++);this.g[a]=b};q.forEach=function(a,b){for(var c=this.la(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};q.Q=function(){return new Rb(this)};
q.Ya=function(a){Sb(this);var b=0,c=this.j,d=this,e=new pb;e.next=function(){if(c!=d.j)throw Error("The map has changed since the iterator was created");if(b>=d.e.length)throw nb;var e=d.e[b++];return a?e:d.g[e]};return e};function Tb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Wb(a){return a.P&&"function"==typeof a.P?a.P():xa(a)||A(a)?a.length:tb(a)}function Xb(a){if(a.N&&"function"==typeof a.N)return a.N();if(A(a))return a.split("");if(xa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return ub(a)}function Yb(a){if(a.la&&"function"==typeof a.la)return a.la();if(!a.N||"function"!=typeof a.N){if(xa(a)||A(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return vb(a)}}
function Zb(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(xa(a)||A(a))Pa(a,b,void 0);else for(var c=Yb(a),d=Xb(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}function $b(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(xa(a)||A(a))return Sa(a,b,void 0);for(var c=Yb(a),d=Xb(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function ac(a,b,c,d,e,f,h){var l="";a&&(l+=a+":");c&&(l+="//",b&&(l+=b+"@"),l+=c,d&&(l+=":"+d));e&&(l+=e);f&&(l+="?"+f);h&&(l+="#"+h);return l}var bc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dc(a){a=a.match(bc);return ac(a[1],a[2],a[3],a[4])}
function ec(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}}function fc(a,b){if(!b)return a;var c=a.indexOf("#");0>c&&(c=a.length);var d=a.indexOf("?");if(0>d||d>c){d=c;var e=""}else e=a.substring(d+1,c);a=[a.substr(0,d),e,a.substr(c)];c=a[1];a[1]=b?c?c+"&"+b:b:c;return a[0]+(a[1]?"?"+a[1]:"")+a[2]}
function hc(a,b,c){if(va(b))for(var d=0;d<b.length;d++)hc(a,String(b[d]),c);else null!=b&&c.push(a+(""===b?"":"="+encodeURIComponent(String(b))))}function ic(a,b){var c=[];for(b=b||0;b<a.length;b+=2)hc(a[b],a[b+1],c);return c.join("&")}function jc(a){var b=[],c;for(c in a)hc(c,a[c],b);return b.join("&")}function kc(a,b){var c=2==arguments.length?ic(arguments[1],0):ic(arguments,1);return fc(a,c)}function lc(a,b){b=jc(b);return fc(a,b)}
function mc(a,b,c){c=null!=c?"="+encodeURIComponent(String(c)):"";return fc(a,b+c)}var nc=/#|$/;function oc(a,b){var c=a.search(nc);a:{var d=0;for(var e=b.length;0<=(d=a.indexOf(b,d))&&d<c;){var f=a.charCodeAt(d-1);if(38==f||63==f)if(f=a.charCodeAt(d+e),!f||61==f||38==f||35==f)break a;d+=e+1}d=-1}if(0>d)return null;e=a.indexOf("&",d);if(0>e||e>c)e=c;d+=b.length+1;return decodeURIComponent(a.substr(d,e-d).replace(/\+/g," "))};function pc(a){this.e=this.B=this.j="";this.k=null;this.q=this.g="";this.l=!1;var b;a instanceof pc?(this.l=x(void 0)?void 0:a.l,qc(this,a.j),this.B=a.B,this.e=a.e,sc(this,a.k),this.g=a.g,tc(this,a.i.Q()),this.q=a.q):a&&(b=String(a).match(bc))?(this.l=!1,qc(this,b[1]||"",!0),this.B=uc(b[2]||""),this.e=uc(b[3]||"",!0),sc(this,b[4]),this.g=uc(b[5]||"",!0),tc(this,b[6]||"",!0),this.q=uc(b[7]||"")):(this.l=!1,this.i=new vc(null,this.l))}
pc.prototype.toString=function(){var a=[],b=this.j;b&&a.push(wc(b,xc,!0),":");var c=this.e;if(c||"file"==b)a.push("//"),(b=this.B)&&a.push(wc(b,xc,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.k,null!=c&&a.push(":",String(c));if(c=this.g)this.e&&"/"!=c.charAt(0)&&a.push("/"),a.push(wc(c,"/"==c.charAt(0)?yc:zc,!0));(c=this.i.toString())&&a.push("?",c);(c=this.q)&&a.push("#",wc(c,Ac));return a.join("")};
pc.prototype.resolve=function(a){var b=this.Q(),c=!!a.j;c?qc(b,a.j):c=!!a.B;c?b.B=a.B:c=!!a.e;c?b.e=a.e:c=null!=a.k;var d=a.g;if(c)sc(b,a.k);else if(c=!!a.g){if("/"!=d.charAt(0))if(this.e&&!this.g)d="/"+d;else{var e=b.g.lastIndexOf("/");-1!=e&&(d=b.g.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],h=0;h<e.length;){var l=e[h++];"."==l?d&&h==e.length&&f.push(""):".."==l?((1<f.length||1==f.length&&""!=
f[0])&&f.pop(),d&&h==e.length&&f.push("")):(f.push(l),d=!0)}d=f.join("/")}else d=e}c?b.g=d:c=""!==a.i.toString();c?tc(b,a.i.Q()):c=!!a.q;c&&(b.q=a.q);return b};pc.prototype.Q=function(){return new pc(this)};function qc(a,b,c){a.j=c?uc(b,!0):b;a.j&&(a.j=a.j.replace(/:$/,""))}function sc(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.k=b}else a.k=null}function tc(a,b,c){b instanceof vc?(a.i=b,Bc(a.i,a.l)):(c||(b=wc(b,Cc)),a.i=new vc(b,a.l))}
function uc(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function wc(a,b,c){return A(a)?(a=encodeURI(a).replace(b,Dc),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Dc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var xc=/[#\/\?@]/g,zc=/[#\?:]/g,yc=/[#\?]/g,Cc=/[#\?@]/g,Ac=/#/g;function vc(a,b){this.g=this.e=null;this.i=a||null;this.j=!!b}
function Ec(a){a.e||(a.e=new Rb,a.g=0,a.i&&ec(a.i,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}q=vc.prototype;q.P=function(){Ec(this);return this.g};q.add=function(a,b){Ec(this);this.i=null;a=Fc(this,a);var c=this.e.get(a);c||this.e.set(a,c=[]);c.push(b);this.g=this.g+1;return this};function Gc(a,b){Ec(a);b=Fc(a,b);Tb(a.e.g,b)&&(a.i=null,a.g=a.g-a.e.get(b).length,Vb(a.e,b))}q.J=function(){Ec(this);return 0==this.g};function Hc(a,b){Ec(a);b=Fc(a,b);return Tb(a.e.g,b)}
q.Da=function(a){var b=this.N();return 0<=Oa(b,a)};q.forEach=function(a,b){Ec(this);this.e.forEach(function(c,d){Pa(c,function(c){a.call(b,c,d,this)},this)},this)};q.la=function(){Ec(this);for(var a=this.e.N(),b=this.e.la(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};q.N=function(a){Ec(this);var b=[];if(A(a))Hc(this,a)&&(b=Xa(b,this.e.get(Fc(this,a))));else{a=this.e.N();for(var c=0;c<a.length;c++)b=Xa(b,a[c])}return b};
q.set=function(a,b){Ec(this);this.i=null;a=Fc(this,a);Hc(this,a)&&(this.g=this.g-this.e.get(a).length);this.e.set(a,[b]);this.g=this.g+1;return this};q.get=function(a,b){a=a?this.N(a):[];return 0<a.length?String(a[0]):b};
q.toString=function(){if(this.i)return this.i;if(!this.e)return"";for(var a=[],b=this.e.la(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.N(d);for(var f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}}return this.i=a.join("&")};q.Q=function(){var a=new vc;a.i=this.i;this.e&&(a.e=this.e.Q(),a.g=this.g);return a};function Fc(a,b){b=String(b);a.j&&(b=b.toLowerCase());return b}
function Bc(a,b){b&&!a.j&&(Ec(a),a.i=null,a.e.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(Gc(this,b),Gc(this,c),0<a.length&&(this.i=null,this.e.set(Fc(this,c),Ya(a)),this.g=this.g+a.length))},a));a.j=b};function Ic(a){this.e=a}Ic.prototype.isOnline=function(){return this.e.isOnline()};var Jc;a:{var Kc=v.navigator;if(Kc){var Lc=Kc.jg;if(Lc){Jc=Lc;break a}}Jc=""}function G(a){return-1!=Jc.indexOf(a)};function Mc(){return(G("Chrome")||G("CriOS"))&&!G("Edge")};function Nc(){return G("iPhone")&&!G("iPod")&&!G("iPad")};function Oc(a){Oc[" "](a);return a}Oc[" "]=ta;function Pc(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};var Qc=G("Opera"),Rc=G("Trident")||G("MSIE"),Tc=G("Edge"),Wc=G("Gecko")&&!(-1!=Jc.toLowerCase().indexOf("webkit")&&!G("Edge"))&&!(G("Trident")||G("MSIE"))&&!G("Edge"),Xc=-1!=Jc.toLowerCase().indexOf("webkit")&&!G("Edge");Xc&&G("Mobile");G("Macintosh");G("Windows");G("Linux")||G("CrOS");var Yc=v.navigator||null;Yc&&(Yc.appVersion||"").indexOf("X11");G("Android");Nc();G("iPad");G("iPod");Nc()||G("iPad")||G("iPod");function Zc(){var a=v.document;return a?a.documentMode:void 0}var $c;
a:{var bd="",cd=function(){var a=Jc;if(Wc)return/rv:([^\);]+)(\)|;)/.exec(a);if(Tc)return/Edge\/([\d\.]+)/.exec(a);if(Rc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Xc)return/WebKit\/(\S+)/.exec(a);if(Qc)return/(?:Version)[ \/]?(\S+)/.exec(a)}();cd&&(bd=cd?cd[1]:"");if(Rc){var dd=Zc();if(null!=dd&&dd>parseFloat(bd)){$c=String(dd);break a}}$c=bd}var ed=$c,fd={};
function gd(a){return Pc(fd,a,function(){for(var b=0,c=Cb(String(ed)).split("."),d=Cb(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",l=d[f]||"";do{h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""];if(0==h[0].length&&0==l[0].length)break;b=Qb(0==h[1].length?0:parseInt(h[1],10),0==l[1].length?0:parseInt(l[1],10))||Qb(0==h[2].length,0==l[2].length)||Qb(h[2],l[2]);h=h[3];l=l[3]}while(0==b)}return 0<=b})}var hd;var id=v.document;
hd=id&&Rc?Zc()||("CSS1Compat"==id.compatMode?parseInt(ed,10):5):void 0;function jd(a){var b=v,c=b.Dd,d=!1;Xc&&!gd("535.3")&&(d=!d);b.Dd=function(b,f,h,l,k){c&&c(b,f,h,l,k);a({message:b,fileName:f,We:h,lineNumber:h,yf:l,Ea:k});return d}}function kd(a,b){a instanceof Error||(a=Error(a),Error.captureStackTrace&&Error.captureStackTrace(a,kd));a.stack||(a.stack=ld(kd));if(b){for(var c=0;a["message"+c];)++c;a["message"+c]=String(b)}return a}
function md(a,b){a=kd(a);if(b)for(var c in b){var d=a,e=c,f=b[c];d.__closure__error__context__984382||(d.__closure__error__context__984382={});d.__closure__error__context__984382[e]=f}return a}function ld(a){var b=Error();if(Error.captureStackTrace)Error.captureStackTrace(b,a||ld),b=String(b.stack);else{try{throw b;}catch(c){b=c}b=(b=b.stack)?String(b):null}b||(b=nd(a||arguments.callee.caller,[]));return b}
function nd(a,b){var c=[];if(0<=Oa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(pd(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=pd(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(nd(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function pd(a){if(qd[a])return qd[a];a=String(a);if(!qd[a]){var b=/function ([^\(]+)/.exec(a);qd[a]=b?b[1]:"[Anonymous]"}return qd[a]}var qd={};function rd(){this.ub=sd||td}function td(a,b){return String(a)<String(b)?-1:String(a)>String(b)?1:0}q=rd.prototype;q.aa=null;q.ub=null;q.xa=null;q.wa=null;
q.add=function(a){if(null==this.aa)return this.wa=this.xa=this.aa=new ud(a),!0;var b=null;vd(this,function(c){var d=null,f=this.ub(c.value,a);0<f?(d=c.e,null==c.e&&(b=new ud(a,c),c.e=b,c==this.xa&&(this.xa=b))):0>f&&(d=c.g,null==c.g&&(b=new ud(a,c),c.g=b,c==this.wa&&(this.wa=b)));return d});if(b){var c=b;vd(this,function(a){a.i++;return a.C},c.C);wd(this,c.C)}return!!b};
q.Gc=function(a){var b=null;vd(this,function(c){var d=null,e=this.ub(c.value,a);0<e?d=c.e:0>e?d=c.g:(b=c.value,xd(this,c));return d});return b};function yd(a){a.aa=null;a.xa=null;a.wa=null}q.ma=function(a){var b=!1;vd(this,function(c){var d=null,e=this.ub(c.value,a);0<e?d=c.e:0>e?d=c.g:b=!0;return d});return b};q.indexOf=function(a){var b=-1,c=0;vd(this,function(d){var e=this.ub(d.value,a);if(0<e)return d.e;d.e&&(c+=d.e.i);if(0>e)return c++,d.g;b=c;return null});return b};
q.P=function(){return this.aa?this.aa.i:0};function zd(a){return a.aa?a.aa.j:0}q.N=function(){var a=[];Ad(this,function(b){a.push(b)});return a};function Ad(a,b){if(a.aa){a=Bd(a);for(var c=a.e?a.e:a;null!=a;)if(null!=a.e&&a.e!=c&&a.g!=c)a=a.e;else{if(a.g!=c&&b(a.value))break;var d=a;a=null!=a.g&&a.g!=c?a.g:a.C;c=d}}}function vd(a,b,c){for(c=c?c:a.aa;c&&null!=c;)c=b.call(a,c)}
function wd(a,b){vd(a,function(a){var b=a.e?a.e.j:0,c=a.g?a.g.j:0;1<b-c?(a.e.g&&(!a.e.e||a.e.e.j<a.e.g.j)&&Cd(this,a.e),Dd(this,a)):1<c-b&&(a.g.e&&(!a.g.g||a.g.g.j<a.g.e.j)&&Dd(this,a.g),Cd(this,a));b=a.e?a.e.j:0;c=a.g?a.g.j:0;a.j=Math.max(b,c)+1;return a.C},b)}function Cd(a,b){Ed(b)?(b.C.e=b.g,b.g.C=b.C):Fd(b)?(b.C.g=b.g,b.g.C=b.C):(a.aa=b.g,a.aa.C=null);a=b.g;b.g=b.g.e;null!=b.g&&(b.g.C=b);a.e=b;b.C=a;a.i=b.i;b.i-=(a.g?a.g.i:0)+1}
function Dd(a,b){Ed(b)?(b.C.e=b.e,b.e.C=b.C):Fd(b)?(b.C.g=b.e,b.e.C=b.C):(a.aa=b.e,a.aa.C=null);a=b.e;b.e=b.e.g;null!=b.e&&(b.e.C=b);a.g=b;b.C=a;a.i=b.i;b.i-=(a.e?a.e.i:0)+1}
function xd(a,b){if(null!=b.e||null!=b.g){var c=null;if(null!=b.e){var d=Gd(a,b.e);vd(a,function(a){a.i--;return a.C},d);if(d!=b.e){if(d.C.g=d.e)d.e.C=d.C;d.e=b.e;d.e.C=d;c=d.C}d.C=b.C;d.g=b.g;d.g&&(d.g.C=d);b==a.wa&&(a.wa=d)}else{d=Bd(a,b.g);vd(a,function(a){a.i--;return a.C},d);if(d!=b.g){if(d.C.e=d.g)d.g.C=d.C;d.g=b.g;d.g.C=d;c=d.C}d.C=b.C;d.e=b.e;d.e&&(d.e.C=d);b==a.xa&&(a.xa=d)}d.i=b.i;Ed(b)?b.C.e=d:Fd(b)?b.C.g=d:a.aa=d;wd(a,c?c:d)}else vd(a,function(a){a.i--;return a.C},b.C),Ed(b)?(b.C.e=null,
b==a.xa&&(a.xa=b.C),wd(a,b.C)):Fd(b)?(b.C.g=null,b==a.wa&&(a.wa=b.C),wd(a,b.C)):yd(a)}function Bd(a,b){if(!b)return a.xa;var c=b;vd(a,function(a){var b=null;a.e&&(b=c=a.e);return b},b);return c}function Gd(a,b){if(!b)return a.wa;var c=b;vd(a,function(a){var b=null;a.g&&(b=c=a.g);return b},b);return c}function ud(a,b){this.value=a;this.C=b?b:null;this.i=1}ud.prototype.e=null;ud.prototype.g=null;ud.prototype.j=1;function Fd(a){return!!a.C&&a.C.g==a}function Ed(a){return!!a.C&&a.C.e==a};function Hd(){this.g=ModelServices;this.j=1;this.e=new rd;this.i=!1}function sd(a,b){var c=a.getTime(),d=b.getTime();return c==d?a.e-b.e:c-d}Hd.prototype.setTimeout=function(a,b){return Id(this,a,b,!1)};Hd.prototype.setTimeout=Hd.prototype.setTimeout;Hd.prototype.setInterval=function(a,b){return Id(this,a,b,!0)};Hd.prototype.setInterval=Hd.prototype.setInterval;
function Id(a,b,c,d){var e=a.g.getTime(),f=a.j++;e+=c;b=new Jd(f,b,e,d?c:null);d=Infinity;0<zd(a.e)&&(d=Bd(a.e).value.getTime());a.e.add(b);d>e&&!a.i&&a.g.startTimer(c);return f}Hd.prototype.clearTimeout=function(a){Kd(this,a)};Hd.prototype.clearTimeout=Hd.prototype.clearTimeout;Hd.prototype.clearInterval=function(a){Kd(this,a)};Hd.prototype.clearInterval=Hd.prototype.clearInterval;function Kd(a,b){var c=a.e.N(),d;for(d in c){var e=c[d];if(e.e==b){a.e.Gc(e);break}}}
Hd.prototype.invokeTimer=function(a){if(0==zd(this.e))return-1;var b=Bd(this.e).value;if(b.getTime()>a)return Math.max(0,b.getTime()-this.g.getTime());this.i=!0;try{b.execute()}catch(d){throw d;}a=!this.e.Gc(b);var c=b.Jd;null===c||a||this.e.add(Ld(b,this.g.getTime()+c));this.i=!1;if(0==zd(this.e))return-1;b=Bd(this.e).value;return Math.max(0,b.getTime()-this.g.getTime())};Hd.prototype.invokeTimer=Hd.prototype.invokeTimer;function Jd(a,b,c,d){this.g=b;this.e=a;this.i=c;this.Jd=d}
Jd.prototype.execute=function(){this.g.call()};Jd.prototype.getTime=n("i");function Ld(a,b){return new Jd(a.e,a.g,b,a.Jd)};var Md=[],Nd=[],Od=!1;function Pd(a){Md[Md.length]=a;if(Od)for(var b=0;b<Nd.length;b++)a(D(Nd[b].e,Nd[b]))};function Qd(){};function H(){this.I=this.I;this.B=this.B}H.prototype.I=!1;H.prototype.q=n("I");H.prototype.W=function(){this.I||(this.I=!0,this.z())};function I(a,b){b=Ea(J,b);a.I?x(void 0)?b.call(void 0):b():(a.B||(a.B=[]),a.B.push(x(void 0)?D(b,void 0):b))}H.prototype.z=function(){if(this.B)for(;this.B.length;)this.B.shift()()};function J(a){a&&"function"==typeof a.W&&a.W()}function Rd(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];xa(d)?Rd.apply(null,d):J(d)}};var Sd=!Rc||9<=Number(hd),Td=Rc&&!gd("9");!Xc||gd("528");Wc&&gd("1.9b")||Rc&&gd("8")||Qc&&gd("9.5")||Xc&&gd("528");Wc&&!gd("8")||Rc&&gd("9");var Ud={valueOf:function(){if(!v.$a||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});v.$a("test",ta,b);v.Sc("test",ta,b);return a}}.valueOf();function K(a,b){this.type=a;this.e=this.ba=b;this.gd=!1;this.Md=!0}K.prototype.Gb=function(){this.gd=!0;this.Md=!1};function Vd(a,b){K.call(this,a?a.type:"");this.Gd=this.e=this.ba=null;this.Oa="";this.Ga=0;this.hc=!1;this.g=null;if(a){var c=this.type=a.type;this.ba=a.ba||a.hg;this.e=b;if(b=a.Gd){if(Wc){a:{try{Oc(b.nodeName);var d=!0;break a}catch(e){}d=!1}d||(b=null)}}else"mouseover"==c?b=a.Lf:"mouseout"==c&&(b=a.ig);this.Gd=b;this.Ga=a.Ga||0;this.Oa=a.Oa||"";this.hc=a.hc;this.g=a;a.gd&&this.Gb()}}F(Vd,K);
Vd.prototype.Gb=function(){Vd.G.Gb.call(this);var a=this.g;if(a.Gb)a.Gb();else if(a.Tc=!1,Td)try{if(a.hc||112<=a.Ga&&123>=a.Ga)a.Ga=-1}catch(b){}};var Wd="closure_listenable_"+(1E6*Math.random()|0);function Xd(a){return!(!a||!a[Wd])}var Yd=0;function Zd(a,b,c,d,e){this.Pa=a;this.e=null;this.src=b;this.type=c;this.va=!!d;this.Vb=e;this.Oa=++Yd;this.ob=this.Ka=!1}function $d(a){a.ob=!0;a.Pa=null;a.e=null;a.src=null;a.Vb=null};function ae(a){this.src=a;this.e={};this.g=0}ae.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.e[f];a||(a=this.e[f]=[],this.g++);var h=be(a,b,d,e);-1<h?(b=a[h],c||(b.Ka=!1)):(b=new Zd(b,this.src,f,!!d,e),b.Ka=c,a.push(b));return b};function ce(a,b){var c=b.type;c in a.e&&Wa(a.e[c],b)&&($d(b),0==a.e[c].length&&(delete a.e[c],a.g--))}ae.prototype.zb=function(a,b,c,d){a=this.e[a.toString()];var e=-1;a&&(e=be(a,b,c,d));return-1<e?a[e]:null};
function be(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.ob&&f.Pa==b&&f.va==!!c&&f.Vb==d)return e}return-1};var de="closure_lm_"+(1E6*Math.random()|0),ee={},fe=0;function ge(a,b,c,d,e){if(d&&d.Zf)return he(a,b,c,d,e);if(va(b)){for(var f=0;f<b.length;f++)ge(a,b[f],c,d,e);return null}c=ie(c);return Xd(a)?a.Y(b,c,za(d)?!!d.va:!!d,e):je(a,b,c,!1,d,e)}
function je(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=za(e)?!!e.va:!!e,l=ke(a);l||(a[de]=l=new ae(a));c=l.add(b,c,d,h,f);if(c.e)return c;d=le();c.e=d;d.src=a;d.Pa=c;if(a.$a)Ud||(e=h),void 0===e&&(e=!1),a.$a(b.toString(),d,e);else if(a.Vd)a.Vd(me(b.toString()),d);else if(a.cd&&a.Id)a.cd(d);else throw Error("addEventListener and attachEvent are unavailable.");fe++;return c}
function le(){var a=ne,b=Sd?function(c){return a.call(b.src,b.Pa,c)}:function(c){c=a.call(b.src,b.Pa,c);if(!c)return c};return b}function he(a,b,c,d,e){if(va(b)){for(var f=0;f<b.length;f++)he(a,b[f],c,d,e);return null}c=ie(c);return Xd(a)?a.kb(b,c,za(d)?!!d.va:!!d,e):je(a,b,c,!0,d,e)}function oe(a,b,c,d,e){if(va(b))for(var f=0;f<b.length;f++)oe(a,b[f],c,d,e);else d=za(d)?!!d.va:!!d,c=ie(c),Xd(a)?a.$b(b,c,d,e):a&&(a=ke(a))&&(b=a.zb(b,c,d,e))&&pe(b)}
function pe(a){if(!pa(a)&&a&&!a.ob){var b=a.src;if(Xd(b))ce(b.i,a);else{var c=a.type,d=a.e;b.Sc?b.Sc(c,d,a.va):b.Yd?b.Yd(me(c),d):b.cd&&b.Id&&b.Id(d);fe--;(c=ke(b))?(ce(c,a),0==c.g&&(c.src=null,b[de]=null)):$d(a)}}}function me(a){return a in ee?ee[a]:ee[a]="on"+a}function qe(a,b,c,d){var e=!0;if(a=ke(a))if(b=a.e[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.va==c&&!f.ob&&(f=re(f,d),e=e&&!1!==f)}return e}
function re(a,b){var c=a.Pa,d=a.Vb||a.src;a.Ka&&pe(a);return c.call(d,b)}function ne(a,b){if(a.ob)return!0;if(!Sd){var c=b||ra("window.event");b=new Vd(c,this);var d=!0;if(!(0>c.Ga||void 0!=c.Tc)){a:{var e=!1;if(0==c.Ga)try{c.Ga=-1;break a}catch(h){e=!0}if(e||void 0==c.Tc)c.Tc=!0}c=[];for(e=b.e;e;e=e.cg)c.push(e);a=a.type;for(e=c.length-1;0<=e;e--){b.e=c[e];var f=qe(c[e],a,!0,b);d=d&&f}for(e=0;e<c.length;e++)b.e=c[e],f=qe(c[e],a,!1,b),d=d&&f}return d}return re(a,new Vd(b,this))}
function ke(a){a=a[de];return a instanceof ae?a:null}var se="__closure_events_fn_"+(1E9*Math.random()>>>0);function ie(a){if(ya(a))return a;a[se]||(a[se]=function(b){return a.Fa(b)});return a[se]}Pd(function(a){ne=a(ne)});function L(){H.call(this);this.i=new ae(this);this.V=this;this.L=null}F(L,H);L.prototype[Wd]=!0;q=L.prototype;q.$a=function(a,b,c,d){ge(this,a,b,c,d)};q.Sc=function(a,b,c,d){oe(this,a,b,c,d)};
function N(a,b){var c=a.L;if(c){var d=[];for(var e=1;c;c=c.L)d.push(c),++e}a=a.V;c=b.type||b;A(b)?b=new K(b,a):b instanceof K?b.ba=b.ba||a:(e=b,b=new K(c,a),Bb(b,e));e=!0;if(d)for(var f=d.length-1;0<=f;f--){var h=b.e=d[f];e=te(h,c,!0,b)&&e}h=b.e=a;e=te(h,c,!0,b)&&e;e=te(h,c,!1,b)&&e;if(d)for(f=0;f<d.length;f++)h=b.e=d[f],e=te(h,c,!1,b)&&e}q.z=function(){L.G.z.call(this);if(this.i){var a=this.i,b=0,c;for(c in a.e){for(var d=a.e[c],e=0;e<d.length;e++)++b,$d(d[e]);delete a.e[c];a.g--}}this.L=null};
q.Y=function(a,b,c,d){return this.i.add(String(a),b,!1,c,d)};q.kb=function(a,b,c,d){return this.i.add(String(a),b,!0,c,d)};q.$b=function(a,b,c,d){var e=this.i;a=String(a).toString();if(a in e.e){var f=e.e[a];b=be(f,b,c,d);-1<b&&($d(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete e.e[a],e.g--))}};
function te(a,b,c,d){b=a.i.e[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.ob&&h.va==c){var l=h.Pa,k=h.Vb||h.src;h.Ka&&ce(a.i,h);e=!1!==l.call(k,d)&&e}}return e&&0!=d.Md}q.zb=function(a,b,c,d){return this.i.zb(String(a),b,c,d)};function ue(a){var b=[];we(new xe,a,b);return b.join("")}function xe(){}
function we(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(va(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),we(a,d[f],c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");e="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(f=b[d],"function"!=typeof f&&(c.push(e),ye(d,c),c.push(":"),we(a,f,c),e=","));c.push("}");return}}switch(typeof b){case "string":ye(b,c);break;case "number":c.push(isFinite(b)&&
!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var ze={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Ae=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;
function ye(a,b){b.push('"',a.replace(Ae,function(a){var b=ze[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),ze[a]=b);return b}),'"')};function Be(){this.q=0;this.e={}}F(Be,Ja);Be.prototype.g=function(){var a=this.q++,b=new Ce(a,D(this.k,this,a));return this.e[a]=b};Be.prototype.j=function(){return{}};Be.prototype.k=function(a){delete this.e[a]};function Ce(a,b){L.call(this);this.Wc=this.sa=0;this.Hb="";this.Xb=null;this.l=a;this.v=b;this.g={};this.e={};this.o=this.n="";this.j=this.k=!1}F(Ce,L);q=Ce.prototype;q.ec=0;q.$c=1;q.rb=4;
function De(a,b,c,d,e){d&&(a.Hb+=d);if(e){d=JSON.parse(e);a.e={};for(var f in d)a.e[f.toLowerCase()]=d[f]}a.sa!=a.rb&&a.sa!=a.ec&&(a.sa=b,a.Wc=c,Ee(a),b==a.rb&&a.v())}q.open=function(a,b,c){if(this.sa!=this.ec)throw this.Ja(),Error("Error reopening a connection");this.n=a.toString();this.o=b.toString();this.k=c||!1;this.sa=this.$c;Ee(this)};q.Nd=function(a,b){var c=this.g;c[a]=c[a]?c[a]+", "+b:b.toString()};
q.S=function(a){var b=ue(this.g);this.j=!0;ModelServices.sendHttpRequest(this.l,this.n,this.o,b,this.k,(a||"").toString())};q.Ja=function(){ModelServices.abortHttpRequest(this.l);this.Hb="";this.g={};this.Wc=0;this.sa>=this.$c&&this.j&&this.sa!=this.rb&&(this.sa=this.rb,this.j=!1,Ee(this));this.sa=this.ec;this.v()};q.Tb=function(a){return(a=this.e[a.toLowerCase()])&&"string"==typeof a?a:null};
q.Sb=function(){var a=this.e,b="",c;for(c in a)"string"==typeof c&&"string"==typeof a[c]&&(b+=c+": "+a[c]+"\r\n");return b};function Ee(a){a.Xb&&a.Xb.call(a)};function Fe(a,b){this.i=a;this.j=b;this.g=0;this.e=null}Fe.prototype.get=function(){if(0<this.g){this.g--;var a=this.e;this.e=a.next;a.next=null}else a=this.i();return a};Fe.prototype.ya=function(a){this.j(a);100>this.g&&(this.g++,a.next=this.e,this.e=a)};function Ge(a){v.setTimeout(function(){throw a;},0)}var He;
function Ie(){var a=v.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.$a&&!G("Presto")&&(a=function(){var a={};a.style.If="none";a.src="";var b=a.Bf;a=b.document;a.open();a.ia("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.Yb?"*":b.location.Yb+"//"+b.location.Ve;a=D(function(a){"*"!=d&&a.ag!=d||a.data!=c||this.port1.Ze()},this);b.$a("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==
typeof a&&!G("Trident")&&!G("MSIE")){var b=new a,c={},d=c;b.port1.Ze=function(){if(x(c.next)){c=c.next;var a=c.ed;c.ed=null;a()}};return function(a){d.next={ed:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof ma&&"onreadystatechange"in{}?g():function(a){v.setTimeout(a,0)}}function Je(a){return a}Pd(function(a){Je=a});function Ke(){this.g=this.e=null}var Me=new Fe(function(){return new Le},function(a){a.reset()});Ke.prototype.add=function(a,b){var c=Me.get();c.set(a,b);this.g?this.g.next=c:this.e=c;this.g=c};function Ne(){var a=Oe,b=null;a.e&&(b=a.e,a.e=a.e.next,a.e||(a.g=null),b.next=null);return b}function Le(){this.next=this.g=this.e=null}Le.prototype.set=function(a,b){this.e=a;this.g=b;this.next=null};Le.prototype.reset=function(){this.next=this.g=this.e=null};function Pe(a,b){Qe||Re();Se||(Qe(),Se=!0);Oe.add(a,b)}var Qe;function Re(){if(v.cc&&v.cc.resolve){var a=v.cc.resolve(void 0);Qe=function(){a.then(Te)}}else Qe=function(){var a=Te;a=Je(a);!ya(v.Vc)||v.ad&&v.ad.prototype&&!G("Edge")&&v.ad.prototype.Vc==v.Vc?(He||(He=Ie()),He(a)):v.Vc(a)}}var Se=!1,Oe=new Ke;function Te(){for(var a;a=Ne();){try{a.e.call(a.g)}catch(b){Ge(b)}Me.ya(a)}Se=!1};function Ue(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function Ve(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function We(a,b){this.e=0;this.l=void 0;this.j=this.g=this.i=null;this.k=this.q=!1;if(a!=ta)try{var c=this;a.call(b,function(a){Ye(c,2,a)},function(a){Ye(c,3,a)})}catch(d){Ye(this,3,d)}}function Ze(){this.next=this.j=this.g=this.k=this.e=null;this.i=!1}Ze.prototype.reset=function(){this.j=this.g=this.k=this.e=null;this.i=!1};var $e=new Fe(function(){return new Ze},function(a){a.reset()});function af(a,b,c){var d=$e.get();d.k=a;d.g=b;d.j=c;return d}
function bf(a){if(a instanceof We)return a;var b=new We(ta);Ye(b,2,a);return b}function cf(a,b,c){df(a,b,c,null)||Pe(Ea(b,a))}function ef(a){return new We(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},h=function(a){c(a)},l=0,k;l<a.length;l++)k=a[l],cf(k,Ea(f,l),h);else b(e)})}
function ff(a){return new We(function(b){var c=a.length,d=[];if(c)for(var e=function(a,e,f){c--;d[a]=e?{pd:!0,value:f}:{pd:!1,reason:f};0==c&&b(d)},f=0,h;f<a.length;f++)h=a[f],cf(h,Ea(e,f,!0),Ea(e,f,!1));else b(d)})}function gf(){var a,b,c=new We(function(c,e){a=c;b=e});return new hf(c,a,b)}We.prototype.then=function(a,b,c){return jf(this,ya(a)?a:null,ya(b)?b:null,c)};Ue(We);function kf(a,b){b=af(b,b,void 0);b.i=!0;lf(a,b)}function mf(a){0==a.e&&Pe(function(){var a=new nf(void 0);of(this,a)},a)}
function of(a,b){if(0==a.e)if(a.i){var c=a.i;if(c.g){for(var d=0,e=null,f=null,h=c.g;h&&(h.i||(d++,h.e==a&&(e=h),!(e&&1<d)));h=h.next)e||(f=h);e&&(0==c.e&&1==d?of(c,b):(f?(d=f,d.next==c.j&&(c.j=d),d.next=d.next.next):pf(c),qf(c,e,3,b)))}a.i=null}else Ye(a,3,b)}function lf(a,b){a.g||2!=a.e&&3!=a.e||rf(a);a.j?a.j.next=b:a.g=b;a.j=b}
function jf(a,b,c,d){var e=af(null,null,null);e.e=new We(function(a,h){e.k=b?function(c){try{var e=b.call(d,c);a(e)}catch(p){h(p)}}:a;e.g=c?function(b){try{var e=c.call(d,b);!x(e)&&b instanceof nf?h(b):a(e)}catch(p){h(p)}}:h});e.e.i=a;lf(a,e);return e.e}We.prototype.I=function(a){this.e=0;Ye(this,2,a)};We.prototype.n=function(a){this.e=0;Ye(this,3,a)};
function Ye(a,b,c){0==a.e&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.e=1,df(c,a.I,a.n,a)||(a.l=c,a.e=b,a.i=null,rf(a),3!=b||c instanceof nf||sf(a,c)))}function df(a,b,c,d){if(a instanceof We)return lf(a,af(b||ta,c||null,d)),!0;if(Ve(a))return a.then(b,c,d),!0;if(za(a))try{var e=a.then;if(ya(e))return tf(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1}
function tf(a,b,c,d,e){function f(a){l||(l=!0,d.call(e,a))}function h(a){l||(l=!0,c.call(e,a))}var l=!1;try{b.call(a,h,f)}catch(k){f(k)}}function rf(a){a.q||(a.q=!0,Pe(a.B,a))}function pf(a){var b=null;a.g&&(b=a.g,a.g=b.next,b.next=null);a.g||(a.j=null);return b}We.prototype.B=function(){for(var a;a=pf(this);)qf(this,a,this.e,this.l);this.q=!1};
function qf(a,b,c,d){if(3==c&&b.g&&!b.i)for(;a&&a.k;a=a.i)a.k=!1;if(b.e)b.e.i=null,vf(b,c,d);else try{b.i?b.k.call(b.j):vf(b,c,d)}catch(e){xf.call(null,e)}$e.ya(b)}function vf(a,b,c){2==b?a.k.call(a.j,c):a.g&&a.g.call(a.j,c)}function sf(a,b){a.k=!0;Pe(function(){a.k&&xf.call(null,b)})}var xf=Ge;function nf(a){Ia.call(this,a)}F(nf,Ia);nf.prototype.name="cancel";function hf(a,b,c){this.g=a;this.resolve=b;this.e=c};function yf(a,b){L.call(this);this.k=a||1;this.g=b||Bf;this.l=D(this.o,this);this.n=E()}F(yf,L);yf.prototype.j=!1;var Bf=v;yf.prototype.e=null;yf.prototype.setInterval=function(a){this.k=a;this.e&&this.j?(Cf(this),Df(this)):this.e&&Cf(this)};yf.prototype.o=function(){if(this.j){var a=E()-this.n;0<a&&a<.8*this.k?this.e=this.g.setTimeout(this.l,this.k-a):(this.e&&(this.g.clearTimeout(this.e),this.e=null),N(this,"tick"),this.j&&(this.e=this.g.setTimeout(this.l,this.k),this.n=E()))}};
function Df(a){a.j=!0;a.e||(a.e=a.g.setTimeout(a.l,a.k),a.n=E())}function Cf(a){a.j=!1;a.e&&(a.g.clearTimeout(a.e),a.e=null)}yf.prototype.z=function(){yf.G.z.call(this);Cf(this);delete this.g};function Ef(a,b,c){if(ya(a))c&&(a=D(a,c));else if(a&&"function"==typeof a.Fa)a=D(a.Fa,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:Bf.setTimeout(a,b||0)};function Ff(){this.g=new Hd;this.e=new Be}var Gf=null;
function Hf(a){var b=ModelServices.getTime,c=Gf.g;La=Gf.e;E=b;Bf=c;setTimeout=function(a,b){return Bf.setTimeout(a,b)};clearTimeout=function(a){Bf.clearTimeout(a)};setInterval=function(a,b){return Bf.setInterval(a,b)};clearInterval=function(a){Bf.clearInterval(a)};window.setTimeout=setTimeout;window.clearTimeout=clearTimeout;window.setInterval=setInterval;window.clearInterval=clearInterval;a&&(window.cc=Promise);v.window=window;v.Uc=window;v.USE_V8=!0;v.JSON=JSON}q=Ff.prototype;
q.handleHttpDataBatch=function(a,b,c,d,e,f){if(d=this.e.e[a])De(d,b,c,e,f);else throw Error("XMLHttpRelay: non-existent stream id="+a);};q.handleHttpRequestFailure=function(a,b){var c=this.e.e[a];if(c)De(c,c.rb,b,"","{}");else throw Error("XMLHttpRelay: non-existent stream id="+a);};q.invokeTimer=function(a){return this.g.invokeTimer(a)};function If(a){Gf||(v=window,Gf=new Ff,Hf(a),a=Gf,la={},Object.defineProperty(la,"onLine",{get:D(a.ke,a)}),window.navigator=la,v.navigator=la);return Gf}
q.configureLocation=function(a){a=new pc(a);var b=a.e;a.k&&(b+=":"+a.k);window.location={Ve:b,Pf:a.e,href:a.toString(),dg:a.g,Yb:a.j,search:uc(a.i.toString())}};q.setOnlineDetector=function(a){a&&(this.i=new Ic(a))};q.ke=function(){return this.i?this.i.isOnline():!0};qa("createV8Bootstrap",function(){return If()});qa("createV8BootstrapWithNativePromise",function(){return If(!0)});function Jf(a){return Pc(a.prototype,"$$generatedClassName",function(){return"Class$obf_"+{valueOf:function(){return++Kf}}})}function Lf(a){function b(){return c.apply(b,arguments)}var c=Mf.prototype.e;Nf(a,b);return b}var Kf=1E3;function Of(){}Of.prototype.oa=function(a){return Pf(this,a)};Of.prototype.Ab=function(){return Rf(this)};Of.prototype.toString=function(){return O(Sf(Tf(this.constructor)))+"@"+O((this.Ab()>>>0).toString(16))};function Uf(){this.g=null;this.k=!1;this.e=null}t(Uf,Of);function Vf(a,b){Wf(a);a.g=b;Xf(a);Yf(a)}function Yf(a){var b;null==a.g?b=null:b=a.g.replace(/\n/g,"\u200b\n");b=Zf(a,b);b=a.q(b);if(!("stack"in b))try{throw b;}catch(c){}$f(a,b)}Uf.prototype.q=function(a){return Error(a)};function $f(a,b){a.e=b;if(null!=b)try{b.__java$exception=a}catch(c){}}function Xf(a){a.k&&("__noinit__"===a.e||Yf(a))}Uf.prototype.i=n("g");Uf.prototype.toString=function(){return Zf(this,this.i())};
function Zf(a,b){a=Sf(Tf(a.constructor));return null==b?a:O(a)+": "+O(b)}function ag(a){if(null!=a){var b=a.__java$exception;if(null!=b)return b}a instanceof TypeError?(b=new bg,Wf(b),Xf(b),$f(b,a),b.g=O(a),a=b):(b=new cg,Wf(b),Xf(b),$f(b,a),b.g=O(a),a=b);return a}function Wf(a){a.k=!0;a.e="__noinit__"};function dg(){Uf.call(this)}t(dg,Uf);function fg(){Uf.call(this)}t(fg,dg);function gg(a){var b=new fg;Vf(b,a);return b};function Pf(a,b){return a===b||null==a&&null==b};function hg(a){return Math.max(Math.min(a,2147483647),-2147483648)|0};var ig;function Rf(a){return a.Zc||(Object.defineProperties(a,{Zc:{value:++jg,enumerable:!1}}),a.Zc)}var jg=0;function kg(){Uf.call(this)}t(kg,fg);function lg(a){var b=new kg;Vf(b,a);return b};function cg(){Uf.call(this)}t(cg,fg);function bg(){Uf.call(this)}t(bg,cg);bg.prototype.q=function(a){return new TypeError(a)};function ng(){this.X=null}t(ng,Of);ng.prototype.toString=n("X");function og(a,b){return"string"==typeof a?a.charCodeAt(b):a.X.charCodeAt(b)};function pg(){this.X=null}t(pg,ng);function qg(){var a=new pg;a.X="";return a}function rg(a,b){a.X=O(a.X)+O(b);return a}function sg(a,b){a.X=O(a.X)+O(b);return a};function tg(){Uf.call(this)}t(tg,fg);function ug(a){var b=new tg;Vf(b,a);return b};function vg(a){return 56320<=a&&57343>=a};function wg(){Uf.call(this)}t(wg,tg);function xg(a,b){return a.oa?a.oa(b):a===b}function yg(a){if(a.Ab)return a.Ab();var b=typeof a;return"number"==b?hg(a):"boolean"==b?a?1231:1237:"string"==b?zg(a):Rf(a)};var Ag,Bg;function zg(a){Cg();var b=":"+O(a),c=Ag[b];if(null!=c)return hg(c);c=Bg[b];if(null==c){var d=0;c=a.length;for(var e=c-4,f=0;f<e;)d=a.charCodeAt(f+3)+31*(a.charCodeAt(f+2)+31*(a.charCodeAt(f+1)+31*(a.charCodeAt(f)+31*d))),d|=0,f+=4;for(;f<c;)d*=31,e=f++,d+=a.charCodeAt(e);a=d|0}else a=hg(c);256==Dg&&(Bg=Ag,Ag=new Of,Dg=0);++Dg;return Ag[b]=a}function Cg(){Cg=g();Bg=new Of;Dg=0;Ag=new Of}var Dg=0;function Eg(a){switch(typeof a){case "string":return zg(a);case "number":return hg(a);case "boolean":return a?1231:1237;default:return null==a?0:Rf(a)}};function O(a){if(null==a)a="null";else if(a instanceof Array){var b=a.sf;a=Sf(b?Tf(b.Tf,b.Hf):Tf(Of,1))+"@"+(Rf(a)>>>0).toString(16)}else a=a.toString();return a}function Fg(a,b){var c=a.length,d=og(a,b++),e,f;55296<=d&&56319>=d&&b<c&&vg(e=og(a,b))?f=65536+((d&1023)<<10)+(e&1023):f=d;return f};function Gg(a,b){this.g=a;this.e=b}t(Gg,Of);function Sf(a){var b=Jf(a.g);0!=a.e&&(b="L"+O(b)+";");return O(Hg("[",a.e))+O(b)}Gg.prototype.toString=function(){return"class "+O(Sf(this))};function Hg(a,b){for(var c="",d=0;d<b;d++)c=O(c)+O(a);return c}function Tf(a,b){var c=b||0;return Pc(a.prototype,"$$class/"+c,function(){return new Gg(a,c)})};function Ig(a,b){if(!a)throw lg(O(b)).e;}function Jg(a,b){if(null==a)throw a=O(b),b=new bg,Vf(b,a),b.e;}
function Kg(a,b){a=O(a);b=null==b?["(Object[])null"]:b;var c=new pg;c.X="";for(var d=0,e=0;e<b.length;){var f=a.indexOf("%s",d);if(-1==f)break;var h=a,l=d,k=f;d=O(c.X);h=O(h).substr(l,k-l);c.X=d+O(h);rg(c,b[e++]);d=f+2}f=a;h=d;d=a.length;a=O(c.X);f=O(f).substr(h,d-h);c.X=a+O(f);if(e<b.length){sg(c," [");for(rg(c,b[e++]);e<b.length;)sg(c,", "),rg(c,b[e++]);c.X=O(c.X)+String.fromCharCode(93)}return c.toString()};function Lg(a,b){a.push(b)};function Mg(a,b){var c=(Ng(),Og);if(Pf(a,b))return!0;if(null==a)return null==b||0==b.length;if(null==b)return 0==a.length;var d=a.length;if(d!=b.length)return!1;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0};function Pg(a,b){var c=(Ng(),Og);if(Pf(a,b))return!0;var d=null==a?0:a.length;if(d!=(null==b?0:b.length))return!1;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0};var Og;function Qg(a,b){return Pf(a,b)||null!=a&&xg(a,b)}function Rg(){Ng();return Qg}function Sg(){Ng();return function(a,b){return a=a instanceof Array&&b instanceof Array?Mg(a,b):a instanceof Array&&b instanceof Array?Tg(a,b):a instanceof Array&&b instanceof Array?Pg(a,b):Qg(a,b)?!0:!1}}function Ng(){Ng=g();Rg();Og=Sg()};function Tg(a,b){var c=(Ng(),Og);if(Pf(a,b))return!0;if(null==a||null==b)return!1;var d=null==a?0:a.length;if(d!=(null==b?0:b.length))return!1;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0};function Ug(a){var b=0,c;for(c in a)b++;return b};var Vg;function Wg(){Wg=g();Vg=new Xg(null)};function Xg(a){this.e=new Yg;if(null!=a)for(var b in a){var c=b,d=a[b];this.e.get()[c]=d}}t(Xg,Of);function Zg(){return Wg(),Vg}Xg.prototype.get=function(a){return this.e.get()[a]};function $g(a,b){a=a.e.get();return b in a}function P(a,b){a=a.get(b);return"string"==typeof a?"true"==a||"1"==a:!!a}
function ah(a){var b=Zg();if(!$g(b,a)||null==b.get(a))return NaN;try{var c=O(b.get(a));null==ig&&(ig=/^\s*[+-]?(NaN|Infinity|((\d+\.?\d*)|(\.\d+))([eE][+-]?\d+)?[dDfF]?)\s*$/);if(!ig.test(c)){var d='For input string: "'+O(c)+'"',e=new wg;Vf(e,d);throw e.e;}return parseFloat(c)}catch(f){f=ag(f);if(f instanceof wg)return NaN;throw f.e;}}function bh(a){var b=Zg();if(!$g(b,a))return"";a=b.get(a);return null==a?"":"number"===typeof a&&hg(a)==hg(a)?""+hg(a):O(a)}
function ch(a,b){var c={};if(!$g(a,b))return c;a=a.get(b);return null!=a?a:c};function Yg(){this.e=null}t(Yg,Of);Yg.prototype.get=function(){null==this.e&&(this.e=v._docs_flag_initialData||{});return this.e};function dh(a){this.e=a}dh.prototype.na=n("e");function eh(){}t(eh,Of);eh.prototype.e=function(a){Jg(a,"can't identity hash null");return":"+Eg(a)};var fh;function gh(){gh=g();fh=new eh};function hh(a){for(var b=[],c=0;c<a.length;c++)b.push(new ih(a[c]));return b};function jh(){}t(jh,Of);function kh(a,b,c,d){this.i=a;this.g=b;this.j=c;this.e=d||0}kh.prototype.R=n("i");kh.prototype.na=n("g");function lh(a,b){this.e=x(a)?a:0;this.g=x(b)?b:""};function mh(){var a=void 0===a?mb:a;var b=a(2147483647).toString(16);b=Nb("0",Math.max(0,8-b.length))+b;return a(2147483647).toString(16)+b};function nh(){this.n=!1;this.o=[]}t(nh,Of);nh.prototype.W=function(){if(!this.n){this.n=!0;this.i();var a=Tf(this.constructor);O(Jf(a.g));O(Hg("[]",a.e))}};nh.prototype.q=n("n");nh.prototype.i=function(){for(var a=0;a<this.o.length;a++)this.o[a].W();this.o.length=0};function oh(a,b){this.g=a<b?a:b;this.e=a<b?b:a}oh.prototype.Q=function(){return new oh(this.g,this.e)};function ph(a){for(var b="",c=0;c<a.length;c++){var d=Fg(a,c),e=!1,f=a.charCodeAt(c),h=vg(a.charCodeAt(c));55296<=f&&56319>=f?e=!(65536<=d&&1114111>=d):h&&(0<c?(e=Fg(a,c-1),e=!(65536<=e&&1114111>=e)):e=!0);e&&(b=O(b)+String("\\u"+O((d>>>0).toString(16))))}return b};function Mf(){this.Mb=this.Qb=null}t(Mf,Of);Mf.prototype.e=function(a){this.Qb.Zb(this);var b=this.Mb;b(a)};function Nf(a,b){b.Qb=a.Qb;b.Mb=a.Mb;b.tf=!0};function qh(){this.e=this.g=null}t(qh,Of);q=qh.prototype;q.Nc=function(a){var b=rh(this,a);this.e.e[b]=a};q.Pc=function(a){a=rh(this,a);delete this.e.e[a]};q.Oc=function(){this.e=sh()};function rh(a,b){Jg(b,"can't add null values");return a.g.e(b)}q.oa=function(a){return null!=a&&a instanceof qh?xg(a.e,this.e):!1};q.Ab=function(){return yg(this.e)};function th(){qh.call(this)}t(th,qh);th.prototype.Nc=function(a){qh.prototype.Nc.call(this,a)};th.prototype.Oc=function(){qh.prototype.Oc.call(this)};th.prototype.Pc=function(a){qh.prototype.Pc.call(this,a)};function uh(){this.e=null}t(uh,Of);function sh(){var a=new uh;a.e=Object.create(null);return a}function vh(a,b){a=a.e;for(var c in a)b(c,a[c])}uh.prototype.toString=function(){var a=qg();a.X=O(a.X)+String.fromCharCode(123);vh(this,function(b,c){sg(rg(sg(sg(a,b),"="),c),",")});return sg(a,"}").toString()};uh.prototype.Ab=function(){var a=this.e,b=0,c;for(c in a){var d=a[c];d=(null==c?0:zg(c))^(null==d?0:yg(d));b+=d;b=~~b}return b};
uh.prototype.oa=function(a){if(Pf(a,this))return!0;if(!(a instanceof uh))return!1;a:{var b=this.e;a=a.e;var c=Rg();if(Ug(b)!=Ug(a))b=!1;else{for(var d in b)if(!c(b[d],a[d])){b=!1;break a}b=!0}}return b};function wh(a,b){return"undefined"!=typeof a.e[b]};function xh(){qh.call(this)}t(xh,th);function Q(){nh.call(this);this.e=this.g=null;gh();var a=fh;Jg(a,"HashFunction is required for the Javascript implementation");var b=new xh;b.g=a;b.e=sh();this.g=b;this.e=null}t(Q,nh);function yh(a,b){if(null==b)throw a=new bg,Wf(a),Xf(a),Yf(a),a.e;var c=a.g;if(wh(c.e,rh(c,b)))throw lg(Kg("Observer %s previously registered.",[b])).e;qh.prototype.Nc.call(a.g,b);a.e=null;return b}
Q.prototype.Zb=function(a){var b=this.g;if(!wh(b.e,rh(b,a)))throw ug(Kg("Trying to remove inexistant Observer %s.",[a])).e;qh.prototype.Pc.call(this.g,a);this.e=null};Q.prototype.i=function(){nh.prototype.i.call(this);qh.prototype.Oc.call(this.g);this.e=null};function zh(a,b){if(null==a.e){var c=a.g.e.e,d=[],e;for(e in c)d.push(c[e]);a.e=d}a=a.e;for(c=0;c<a.length;c++)(0,a[c])(b)};function Ah(a,b,c,d){this.e=a;this.g=b;this.j=c;this.i=d}var Bh=null;function Ch(){if(!Bh){var a=Zg();P(a,"docs-text-ewf");var b=P(a,"docs-efsd"),c=P(a,"docs-fse");P(a,"docs-efpsf");var d=P(a,"docs-enlsae");P(a,"docs-ejsfawf");P(a,"docs-eksfawf");Bh=new Ah(b,c,d,null)}return Bh};function Dh(){return Ch().e?"*":"latin"};function Eh(a,b){this.e=a;this.g=b}Eh.prototype.getFontFamily=n("e");Eh.prototype.M=n("g");function Fh(a){return"Font|"+a.e+"|"+a.g};function Gh(a,b){this.e=a;this.g=b}function Hh(a){var b=a,c=400;a=a.split(";");a.length&&(b=a[0]);2==a.length&&(a=Number(a[1]))&&(c=a);return new Gh(b,c)}function Ih(a){return Qa(a,function(a){return Hh(a)})};function Jh(a,b,c){this.e=a;this.g=b;this.i=c}function Kh(a,b){a=a.split(";");return new Jh(a[0],a[2]||b,parseInt(a[1],10)||400)}function Lh(a,b){return Qa(a,function(a){return Kh(a,b)})}function Mh(a,b){for(var c=[],d=0;d<a.length;d++)for(var e=0;e<b.length;e++)c.push(new Jh(a[d].e,b[e],a[d].g));return c};function Nh(){this.e=[]}Nh.prototype.g=!1;function Oh(a,b){for(var c=0;c<a.e.length;++c){var d=b,e=a.e[c];a.g&&(d.e=[],d.g=!0);d.e.push(e);a.g=!1}a.e=[]}function Ph(a){var b=a.e;a.e=[];a.g=!1;return b}Nh.prototype.J=function(){return 0==this.e.length};function Qh(a){this.e=a};function Rh(a,b,c){this.e=a;this.k=b;this.g=c}F(Rh,Qh);function Sh(a,b,c,d){Rh.call(this,"append-commands",a,b);this.i=c;this.j=d}F(Sh,Rh);function Th(){this.e=("undefined"==typeof ma?null:ma)||{bb:""}}q=Th.prototype;q.set=function(a,b,c,d,e,f){if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(b))throw Error('Invalid cookie value "'+b+'"');x(c)||(c=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(E()+1E3*c)).toUTCString();this.e.bb=a+"="+b+e+d+c+f};
q.get=function(a,b){for(var c=a+"=",d=(this.e.bb||"").split(";"),e=0,f;e<d.length;e++){f=Cb(d[e]);if(0==f.lastIndexOf(c,0))return f.substr(c.length);if(f==a)return""}return b};q.la=function(){return Uh(this).keys};q.N=function(){return Uh(this).values};q.J=function(){return!this.e.bb};q.P=function(){return this.e.bb?(this.e.bb||"").split(";").length:0};q.Da=function(a){for(var b=Uh(this).values,c=0;c<b.length;c++)if(b[c]==a)return!0;return!1};
function Uh(a){a=(a.e.bb||"").split(";");for(var b=[],c=[],d,e,f=0;f<a.length;f++)e=Cb(a[f]),d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}}var Vh=new Th;Vh.g=3950;function Wh(){this.g=Vh;this.e=!1};function Xh(a){Uf.call(this);Vf(this,a)}t(Xh,dg);Xh.prototype.Z=n("e");Xh.prototype.i=function(){return dg.prototype.i.call(this)};Fa(g(),Qd.prototype);function Yh(a){this.e={};this.i=a||new Wh;this.setTime=this.g;this.incrementTime=this.j;this.setServerValues=this.k}var Zh=null;Yh.prototype.g=function(a){$h(this,a,E())};Yh.prototype.getTime=function(a){a=this.e[a];return null!=a?a:null};Yh.prototype.j=function(a,b){null!=this.e[a]||(this.e[a]=0);this.e[a]+=b};function $h(a,b,c){if(null!=a.e[b])throw Error("Field "+b+" is already set.");a.e[b]=c}
Yh.prototype.k=function(a){if(!P(Zg(),"icso")){if(a)for(var b in a)$h(this,b,a[b]);a="";if(!this.i.e){b=this.i;if(b.e)throw Error("GfeRoundTripTimeProvider was called more than once");b.e=!0;a=b.g.get("GFE_RTT");b=b.g;b.get("GFE_RTT");b.set("GFE_RTT","",0,"/",".docs.google.com");a=a?a:null}isFinite(a)&&(a=String(a));a=A(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN;isNaN(a)||$h(this,"gfertt",a);$h(this,"sldummy",0)}};function ai(){Zh||(Zh=new Yh);return Zh}v._getTimingInstance=ai;
v._docsTiming=Yh;function bi(){H.call(this);this.e=ai()}F(bi,H);function ci(a,b,c){Xh.call(this,"Local storage error: "+b);this.type=a;this.j=c||null}t(ci,Xh);function di(a){return"Failed to write to localstore ("+a.type+"): "+dg.prototype.i.call(a)}function ei(a){return(a=a.j&&a.j instanceof Event?a.j.ba:null)?a.error:null};function fi(){H.call(this);ai()}F(fi,H);function gi(a,b){H.call(this);this.g=b;this.e=new bi(this.g);new fi("mr")}F(gi,H);function hi(a,b){this.e=a;this.g=b};function ii(a,b){b.push(a);for(var c=0;c<a.length;c++)if(va(a[c])){if(P(Zg(),"docs-anlpfdo"))Oa(b,a[c]);else if(0<=Oa(b,a[c]))throw Error("Circular reference detected");ii(a[c],b)}b.pop()}function ji(a,b,c){if(a.length!=b.length)return!1;c=c||db;for(var d=0;d<a.length;d++)if(!c(a[d],b[d]))if(va(a[d])&&va(b[d])){if(!ji(a[d],b[d],c))return!1}else return!1;return!0};function ki(a,b){if(a==b)return!0;if(!za(a)||!za(b))return!1;var c=vb(a);if(c.length!=vb(b).length)return!1;for(var d=li||db,e=0;e<c.length;e++){var f=c[e];if(!(f in b&&d(a[f],b[f])))return!1}return!0}function li(a,b){return a===b?!0:va(a)&&va(b)?cb(a,b,li):za(a)&&za(b)?ki(a,b):!1}function mi(a,b){b.push(a);for(var c in a)if(za(a[c])){if(P(Zg(),"docs-anlpfdo"))Oa(b,a[c]);else if(0<=Oa(b,a[c]))throw Error("Circular reference detected");mi(a[c],b)}b.pop()};function ni(a,b){this.B=a;this.e={};this.l={};this.I=b||!1;this.q=!this.I}q=ni.prototype;q.za=!1;q.Od=!1;q.ra=function(){return this.I||!xb(this.l)};function oi(a,b){b?a.Od=!0:a.ra();a.za=!0}function pi(a,b){a=qi(a,b);return null==a?null:zb(a)}function ri(a,b){a=si(a,b);return null==a||0==a?null:a}function si(a,b){a=qi(a,b);return null==a?null:a}function ti(a,b){a=qi(a,b);return null==a?null:a}function ui(a,b){return null==qi(a,b)?null:""!=a.e[b]}function R(a,b,c){return S(a,b,c?"true":"")}
function vi(a,b){a=qi(a,b);return null==a?null:zb(a)}function wi(a){return zb(a.e.keyPath)}function qi(a,b){a=a.e[b];return null!=a?a:null}function S(a,b,c,d){if(za(c)&&!va(c))return mi(c,[]),null!=a.e[b]&&li(a.e[b],c)||(c=d?c:zb(c),a.e[b]=c,a.q||(a.l[b]=c)),a;if(va(c))return P(Zg(),"docs-anlpfdo")||ii(c,[]),mi(c,[]),null!=a.e[b]&&ji(a.e[b],c)||(c=d?c:zb(c),a.e[b]=c,a.q||(a.l[b]=c)),a;a.e[b]!=c&&(a.e[b]=c,a.q||(a.l[b]=c));return a}
function xi(a,b,c,d){var e=a.e,f=e[b];null==f&&(e[b]=f={});f[c]=d;a.q||(a=a.l,e=a[b],null==e&&(a[b]=e={}),e[c]=d)}q.tb=function(){this.l={};this.I=!1};q.xb=aa(null);function yi(a){this.e=a};function zi(a){return a?new yi(a[0]):null};function Ai(a,b,c){ni.call(this,"document",c);this.g=new Nh;S(this,"id",a);S(this,"documentType",b)}F(Ai,ni);function Bi(a){return a.e.id}function Ci(a){return a.e.documentType}function Di(a,b,c){S(a,"rev",b);S(a,"rai",c?[c.e]:null)}q=Ai.prototype;q.R=function(){return si(this,"rev")};q.Jb=function(a){R(this,"lss",a)};q.Ib=function(a){S(this,"lsft",a)};function Ei(a,b){S(a,"lastModifiedServerTimestamp",b)}function Fi(a,b){S(a,"docosKeyData",b)}
function Gi(a,b){S(a,"lastModifiedClientTimestamp",b)}q.xb=function(){var a=this.g.J();return a&&!this.za?Ai.G.xb.call(this):new hi(Bi(this),a?1:2)};function Hi(a,b,c){xi(a,"startupHints",b,c)}function Ii(a,b){S(a,"modelVersion",b)}function Ji(a,b){S(a,"featureVersion",b)}function Ki(a,b){S(a,"lastServerSnapshotTimestamp",b)}function Li(a,b){S(a,"snapshotState",b)}function Mi(a,b){if(0>b)throw Error("Cannot set snapshotProtocolNumber to a negative number.");S(a,"snapshotProtocolNumber",b)}
function Ni(a,b){S(a,"pendingQueueState",b)}function Oi(a){return si(a,"pendingQueueState")}q.ra=function(){return Ai.G.ra.call(this)||!this.g.J()};var Pi=["drawing","kix","punch"];function Qi(a,b,c,d){var e=d||ta;a=Ri(a);a.length?Si(Ti(b,a),c,function(a){return e(a.Z())}):c()}function Ri(a){var b=(pi(a,"startupHints")||{}).fontFamilies;try{var c=b?JSON.parse(b):[],d=Ui(Ci(a))?Dh():"latin";return Lh(c,d)}catch(e){return[]}}function Vi(a,b){b=Ch().g?Qa(b,function(a){return a.e+";"+a.i+";"+a.g}):Qa(b,function(a){a=new Gh(a.e,a.i);return 400==a.g?a.e:a.e+";"+a.g});Hi(a,"fontFamilies",ue(b))}function Ui(a){return Ch().j?!0:0<=Oa(Pi,a)};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function T(a,b){this.l=[];this.L=a;this.A=b||null;this.k=this.g=!1;this.j=void 0;this.v=this.K=this.I=!1;this.B=0;this.i=null;this.q=0}function Wi(a,b){if(a.g)a.j instanceof T&&Wi(a.j);else{if(a.i){var c=a.i;delete a.i;b?Wi(c,b):(c.q--,0>=c.q&&Wi(c))}a.L?a.L.call(a.A,a):a.v=!0;a.g||a.errback(new Xi(a))}}T.prototype.w=function(a,b){this.I=!1;Yi(this,a,b)};function Yi(a,b,c){a.g=!0;a.j=c;a.k=!b;Zi(a)}function $i(a){if(a.g){if(!a.v)throw new aj(a);a.v=!1}}
T.prototype.e=function(a){$i(this);Yi(this,!0,a)};T.prototype.errback=function(a){$i(this);Yi(this,!1,a)};function U(a,b,c){return bj(a,b,null,c)}function cj(a,b,c){bj(a,b,function(a){var c=b.call(this,a);if(!x(c))throw a;return c},c)}function bj(a,b,c,d){a.l.push([b,c,d]);a.g&&Zi(a);return a}T.prototype.then=function(a,b,c){var d,e,f=new We(function(a,b){d=a;e=b});bj(this,d,function(a){a instanceof Xi?mf(f):e(a)});return f.then(a,b,c)};Ue(T);
function dj(a,b){b instanceof T?U(a,D(b.O,b)):U(a,function(){return b})}T.prototype.O=function(a){var b=new T;bj(this,b.e,b.errback,b);a&&(b.i=this,this.q++);return b};function ej(a){return Ra(a.l,function(a){return ya(a[1])})}
function Zi(a){if(a.B&&a.g&&ej(a)){var b=a.B,c=fj[b];c&&(v.clearTimeout(c.e),delete fj[b]);a.B=0}a.i&&(a.i.q--,delete a.i);b=a.j;for(var d=c=!1;a.l.length&&!a.I;){var e=a.l.shift(),f=e[0],h=e[1];e=e[2];if(f=a.k?h:f)try{var l=f.call(e||a.A,b);x(l)&&(a.k=a.k&&(l==b||l instanceof Error),a.j=b=l);if(Ve(b)||"function"===typeof v.Promise&&b instanceof v.Promise)d=!0,a.I=!0}catch(k){b=k,a.k=!0,ej(a)||(c=!0)}}a.j=b;d&&(l=D(a.w,a,!0),d=D(a.w,a,!1),b instanceof T?(bj(b,l,d),b.K=!0):b.then(l,d));c&&(b=new gj(b),
fj[b.e]=b,a.B=b.e)}function hj(a){var b=new T;b.e(a);return b}function aj(){Ia.call(this)}F(aj,Ia);aj.prototype.message="Deferred has already fired";aj.prototype.name="AlreadyCalledError";function Xi(){Ia.call(this)}F(Xi,Ia);Xi.prototype.message="Deferred was canceled";Xi.prototype.name="CanceledError";function gj(a){this.e=v.setTimeout(D(this.i,this),0);this.g=a}gj.prototype.i=function(){delete fj[this.e];throw this.g;};var fj={};function ij(a,b){Si(a,function(a){b.e(a)},function(a){b.errback(a)})}function jj(a){var b=new T;ij(a,b);return b}function kj(a){return new We(function(b,c){Si(a,function(a){b(a)},function(a){c(a)})})};function lj(){nh.call(this);this.B=this.v=null;this.e=1;this.k=!1;this.g=[];this.j=[]}t(lj,nh);lj.prototype.Z=function(){Ig(3==this.e,"XDeferred does not have an error");return this.B};function V(a,b){Ig(4!=a.e,"Cannot fire a disposed XDeferred");Ig(1==a.e,"Cannot fire a XDeferred more than once");a.v=b;mj(a,!0)}lj.prototype.errback=function(a){Ig(4!=this.e,"Cannot fire a disposed XDeferred");Ig(1==this.e,"Cannot fire a XDeferred more than once");this.B=a;mj(this,!1)};
function Si(a,b,c){Ig(4!=a.e,"Cannot add callback to disposed XDeferred");Ig(!a.k,"Cannot add callback to XDeferred that is firing its callback/errback queue");nj(a,b,c)||(null!=b&&Lg(a.g,function(a){b(a)}),null!=c&&Lg(a.j,function(a){c(a)}))}function oj(a,b){Si(a,b,null)}function pj(a,b){Si(a,null,b)}
function qj(a,b){function c(a){e.errback(a)}function d(a){var c=null;try{c=b(a)}catch(l){l=ag(l);if(l instanceof dg){e.errback(l);return}throw l.e;}V(e,c)}Ig(0==a.k,"Cannot add callback to XDeferred that is firing its callback/errback queue");var e=new lj;if(nj(a,d,c))return e;a.g.push(d);a.j.push(c);return e}lj.prototype.i=function(){this.e=4;this.g.length=0;this.j.length=0;nh.prototype.i.call(this)};
function mj(a,b){a.k=!0;if(b)for(a.e=2,b=0;b<a.g.length;b++)(0,a.g[b])(a.v);else for(a.e=3,b=0;b<a.j.length;b++)(0,a.j[b])(a.B);a.k=!1;a.g.length=0;a.j.length=0}function nj(a,b,c){return 1!=a.e?(a.k=!0,2==a.e&&null!=b?b(a.v):3==a.e&&null!=c&&c(a.B),a.k=!1,!0):!1};function rj(a,b){lj.call(this);this.l=null;this.I=0;this.A=b;this.w=a;this.l=Array(a)}t(rj,lj);function sj(a,b){var c=new rj(a.length,b);b={};for(var d=0;d<a.length;b={Wb:b.Wb},d++)b.Wb=d,Si(a[d],function(a){return function(b){var d=a.Wb;c.I++;var e=new tj;e.e=!0;e.i=b;c.l[d]=e;1!=c.e||c.I!=c.w||V(c,c.l)}}(b),function(a){return function(b){var d=a.Wb;c.I++;var e=new uj;e.e=!1;e.i=b;c.l[d]=e;1!=c.e||(c.A?c.errback(b):c.I==c.w&&V(c,c.l))}}(b));0==a.length&&V(c,c.l);return c};function vj(){this.e=!1}t(vj,Of);function uj(){this.e=!1;this.i=null}t(uj,vj);uj.prototype.g=function(){throw lg("Illegal getValue call on failed result, callers must check hasSucceeded() first.").e;};uj.prototype.Z=n("i");function tj(){this.e=!1;this.i=null}t(tj,vj);tj.prototype.g=n("i");tj.prototype.Z=function(){throw lg("Illegal getError call on successful result, callers must check hasSucceeded() first.").e;};function wj(){return new lj}function xj(a){return qj(sj(a,!0),function(a){for(var b=Array(a.length),d=0;d<a.length;d++){var e=a[d].g();b[d]=e}return b})}function yj(a){var b=wj();V(b,a);return b}function zj(a){var b=wj();b.errback(a);return b}function Aj(a,b){Ig(1==b.e,"Cannot pass already fired Deferred to be chained");Si(a,function(a){V(b,a)},function(a){b.errback(a)})};function Bj(a){if(a instanceof Uf)return a.e;if(a instanceof Error)return a;throw gg("Cannot cast an object that is neither a JS Error nor a Java Throwable").e;}function Cj(a){if(a instanceof Uf)return a;if(a instanceof Error)return ag(a);throw ug("Unsupported type cannot be used to create a Throwable.").e;};function Dj(a){this.e=a}Dj.prototype.g=function(){return["fontFamilies"]};Dj.prototype.i=function(a,b){var c=wj();if((b=Ch().g?b.fontVariantsWithSubsets:b.fontFamilies)&&b.length){var d=Ui(Ci(a))?Dh():"latin";Vi(a,Lh(b,d));Qi(a,this.e,function(){return V(c,null)},function(a){c.errback(null!=a?Cj(a):null)})}else V(c,null);return c};function Ej(a,b,c){this.i=a;this.k=b;this.j=c;this.g={};this.e={}}
function Fj(a,b){var c,d=[],e=[];for(c=0;c<b.length;c++){var f=b[c];if(a.g[f])e.push(yj(f));else if(a.j.isOnline())if(0==f.indexOf("PLACEHOLDER_"))e.push(zj(new Xh("It is a placeholder image")));else{var h=wj();e.push(h);a.e[f]?a.e[f].push(h):(d.push(f),a.e[f]=[h])}else e.push(zj(new Xh("It is offline.")))}0<d.length&&Gj(a,a.i,d,a.k);return qj(sj(e,!1),function(b){for(var c={},d=0;d<b.length;d++)if(b[d].e&&b[d].g()){var e=b[d].g();c[e]=a.g[e]}return c})}
function Gj(a,b,c,d){var e={};e.photo=c;e=jc(e);b=Hj(Ij(Jj(d,"/copyimages"),"id",b),e);x(void 0)&&Kj(b,void 0);Lj(Mj(Nj(b,D(a.l,a,c)),D(a.q,a,c)))}Ej.prototype.l=function(a,b){b=Oj(b);for(var c=0;c<a.length;c++){var d=a[c];if(b[d]){var e=d;this.g[e]=b[d];d=this.e[e];for(var f=0;f<d.length;f++)V(d[f],e);delete this.e[e]}else Pj(this,d)}};Ej.prototype.q=function(a){for(var b=0;b<a.length;b++)Pj(this,a[b])};function Pj(a,b){for(var c=a.e[b],d=0;d<c.length;d++)c[d].errback();delete a.e[b]};function Qj(a,b,c,d){this.i=a;this.g=b;this.e=c;this.j=!!d};function Rj(a){this.g=!!a}Rj.prototype.e=function(a,b,c,d){a=c.url;var e=dc(v.location.href);dc(a)!=e&&(a=mc(a,"cb",e));e=c.entityType;var f=P(Zg(),"docs-eedsr")&&"drawing"==e;f&&(a=kc(a,"fmt","svg"));"drawing"==e&&(this.g&&x(c.drawingRevision)?(b=b+"_"+c.drawingRevision,f&&(b+=".svg")):f&&(b+=".svg"));d[b]=new Qj(b,a,e,"image"==e)};function Sj(){this.e=["ritzChunkSize"]}Sj.prototype.g=n("e");Sj.prototype.i=function(a,b){for(var c=0;c<this.e.length;c++){var d=this.e[c];null!=b[d]&&Hi(a,d,b[d])}return yj(null)};function Tj(a){this.e={};for(var b=0;b<a.length;b++)for(var c=a[b],d=c.g(),e=0;e<d.length;e++){var f=d[e];if(this.e[f])throw Error("Key "+f+" registered in multiple StartupHintProcessors");this.e[f]=c}}function Uj(a,b,c){var d=[],e;for(e in c)if(a.e[e]){var f={};f[e]=c[e];f=a.e[e].i(b,f);d.push(f)}return xj(d)};function Vj(a){this.e=a}function Wj(a,b){var c=wj();a.e.revokeUrl2(b,new Xj(c),new Yj(c));return c}function Xj(a){this.e=a}Xj.prototype.revokerSuccess=function(){V(this.e,null)};function Yj(a){this.e=a}Yj.prototype.revokerFailure=function(){this.e.errback(new Xh("NativeImageUrlRevoker fired the error callback."))};function Zj(a){var b={};a:switch(a){case "createPhoto":var c="image_upload_other_error";break a;case "badScottyUrl":case "connectionError":case "fileNotFound":case "invalidFileData":case "jsonError":case "nonexistentImageUrl":case "offlineSync":case "iosOtherSession":c="image_upload_pre_upload_error";break a;default:c="image_upload_scotty_error"}b[c]=a;return b};function ak(a,b,c){if(!!b==!!c)throw Error("Must have cosmo id xor error.");this.j=a;this.e=b;this.g=c;this.i=!!b}ak.prototype.pa=n("j");ak.prototype.wb=n("e");ak.prototype.Z=n("g");ak.prototype.Jc=n("i");function bk(a){this.isOnline=a};function ck(){this.g=this.e=null}t(ck,Of);function dk(a,b){var c=new ck;c.e=a;c.g=b;return c};function ek(){nh.call(this);this.e=[]}t(ek,nh);function fk(a,b,c){b=dk(b,yh(b,c));a.e.push(b)}function gk(a,b,c){var d=new Mf;d.Qb=b;d.Mb=c;c=Lf(d);b=dk(b,yh(b,c));a.e.push(b)}ek.prototype.i=function(){var a;for(a=this.e.pop();null!=a;){try{a.e.Zb(a.g)}catch(b){if(b=ag(b),!(b instanceof tg))throw b.e;}a=this.e.pop()}nh.prototype.i.call(this)};
ek.prototype.Zb=function(a){for(var b=0;b<this.e.length;b++){var c=this.e[b];if(void 0==c.g&&Pf(c.e,a)){try{c.e.Zb(c.g)}catch(d){if(d=ag(d),!(d instanceof tg))throw d.e;}a=b;a==this.e.length-1?this.e.pop():(b=this.e.pop(),this.e[a]=b);break}}};function hk(a,b,c,d,e,f){Lj(Nj(ik(Ij(Jj(d,"/createphoto"),"id",a),b),function(a){var b=Oj(a);if(a=b.imageError){a:switch(a){case 2:case 3:b="The selected image is too large.";break a;case 4:case 5:case 6:case 7:case 8:b="The selected image is in an unsupported format.";break a;default:b="There was a problem retrieving the specified image."}f(c,a,b)}else e(c,b.imageId,b.width,b.height,void 0)}))};function jk(a,b,c){H.call(this);this.g=a;this.k=b||0;this.j=c;this.i=D(this.l,this)}F(jk,H);jk.prototype.e=0;jk.prototype.z=function(){jk.G.z.call(this);kk(this);delete this.g;delete this.j};function kk(a){0!=a.e&&Bf.clearTimeout(a.e);a.e=0}jk.prototype.l=function(){this.e=0;this.g&&this.g.call(this.j)};function lk(a,b,c,d){H.call(this);this.i=null!=d?d:.15;this.k=a;this.j=b;this.n=c;this.e=new jk(this.o,void 0,this);this.l=Number.NEGATIVE_INFINITY;this.g=0}F(lk,H);function mk(a,b,c){b&&(kk(a.e),nk(a,a.j));0==a.e.e&&(b=E(),b=Math.max(0,a.l+a.g-b),0==b&&(c?b=nk(a,a.j):a.g=0),a=a.e,c=b,kk(a),a.e=Ef(a.i,x(c)?c:a.k))}function nk(a,b){0<b&&0!=a.i&&(b=Math.floor(b*(1-a.i+Math.random()*a.i*2)));return a.g=b}lk.prototype.o=function(){this.l=E();nk(this,Math.min(Math.max(2*this.g,this.j),this.n));this.k()};
lk.prototype.z=function(){this.e.W();delete this.e;delete this.k;lk.G.z.call(this)};function ok(a,b,c,d,e,f){var h=this;H.call(this);this.g=a;this.k=new ek;I(this,this.k);fk(this.k,this.g.e,function(a){for(var b in h.e){var c=h.e[b];a.isOnline?c.g||mk(c.i,!0,!1):kk(c.i.e)}});this.e={};this.l=b;this.i=c;this.v=d;this.o=e;this.j=f}F(ok,H);q=ok.prototype;
q.nf=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=d.pa(),f=this.e[e];if(f.g)throw Error("Tried to transport blob that is currently being transported: "+e);f.g=!0;if(d=ti(d,"oc"))b.push(d);else throw Error("Tried to transport via original image id on blob with no id.");}oj(Fj(this.l,b),D(this.te,this,a))};
q.mf=function(a){var b=a.pa(),c=this.e[b];if(c.g)throw Error("Tried to transport blob that is currently being transported: "+b);c.g=!0;var d=ti(a,"ou");if(a.getUrl()||d){var e;if(e=d)e=0==d.indexOf("http://")||0==d.indexOf("https://");if(e)a=D(this.Ke,this,b,c.e),b=D(this.Je,this,b,c.e),hk(this.i,{url:d},d||"",this.v,a,b);else{c=new T;d=new pk(c);e=new qk(c);var f=a.getUrl()||ti(a,"ou");0==f.indexOf("docs.google.com.clipboard://")||0==f.indexOf("docs.google.com.itemprovider://")?(a=new T,a.errback(Error("iosOtherSession"))):
(this.n.startUpload(this.i,f,a.getFileName(),d,e),a=c);bj(a,D(this.qe,this,b),D(this.pe,this,b))}}else b=new ak(b,null,Error("nonexistentImageUrl")),c.e.errback(b)};q.ae=function(a){var b=this.e[a];if(!b)throw Error("Attempted to cleanup an unknown blob: "+a);b.i.W();delete this.e[a]};q.Ke=function(a,b,c,d){a=new ak(a,d,null);b.e(a)};q.Je=function(a,b,c,d){this.o.T(Error("Create photo failed with error: "+d));a=new ak(a,null,Error("createPhoto"));b.errback(a)};
q.qe=function(a,b){var c=this.e[a];a=new ak(a,b,null);c.e.e(a)};q.pe=function(a,b){var c=this.e[a];"connectionError"==b.message?(c.g=!1,mk(c.i,!1,!0)):(a=new ak(a,null,b),c.e.errback(a))};q.te=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.pa(),f=this.e[e];(d=ti(d,"oc"))&&b[d]?(e=new ak(e,b[d],null),f.e.e(e)):(e=new ak(e,null,Error("unknown")),f.e.errback(e))}};function rk(a,b){this.e=a;this.i=b;this.g=!1};function sk(a,b,c,d,e,f){ok.call(this,c,d,a,e,f);this.n=b}F(sk,ok);var tk={0:"badScottyUrl",1:"canceled",2:"connectionError",3:"fileNotFound",4:"invalidAuth",5:"invalidFileData",6:"invalidResponse",7:"jsonError",9:"scottyError",10:"scottyReject"};function pk(a){this.e=a}pk.prototype.uploadSuccess=function(a){this.e.e(a)};function qk(a){this.e=a}qk.prototype.uploadFailure=function(a){this.e.errback(Error(tk[a]||"unknown"))};G("Firefox");Nc()||G("iPod");G("iPad");!G("Android")||Mc()||G("Firefox")||G("Opera")||G("Silk");var uk=Mc(),vk=G("Safari")&&!(Mc()||G("Coast")||G("Opera")||G("Edge")||G("Silk")||G("Android"))&&!(Nc()||G("iPad")||G("iPod"));function wk(){}var xk="function"==typeof Uint8Array;function yk(a,b,c,d){a.g=null;b||(b=c?[c]:[]);a.l=c?String(c):void 0;a.j=0===c?-1:0;a.e=b;a:{if(a.e.length&&(b=a.e.length-1,(c=a.e[b])&&"object"==typeof c&&!va(c)&&!(xk&&c instanceof Uint8Array))){a.k=b-a.j;a.i=c;break a}a.k=Number.MAX_VALUE}a.q={};if(d)for(b=0;b<d.length;b++)if(c=d[b],c<a.k)c+=a.j,a.e[c]=a.e[c]||zk;else{var e=a.k+a.j;a.e[e]||(a.i=a.e[e]={});a.i[c]=a.i[c]||zk}}var zk=[];
function W(a,b){if(b<a.k){b+=a.j;var c=a.e[b];return c===zk?a.e[b]=[]:c}if(a.i)return c=a.i[b],c===zk?a.i[b]=[]:c}function Ak(a,b){if(b<a.k){b+=a.j;var c=a.e[b];return c===zk?a.e[b]=[]:c}c=a.i[b];return c===zk?a.i[b]=[]:c}function Bk(a,b){a=W(a,b);return null==a?0:a}function Ck(a){var b=Dk;a.g||(a.g={});if(!a.g[1]){for(var c=Ak(a,1),d=[],e=0;e<c.length;e++)d[e]=new b(c[e]);a.g[1]=d}b=a.g[1];b==zk&&(b=a.g[1]=[]);return b}
function Ek(a){if(a.g)for(var b in a.g){var c=a.g[b];if(va(c))for(var d=0;d<c.length;d++)c[d]&&c[d].Yc();else c&&c.Yc()}}wk.prototype.Yc=function(){Ek(this);return this.e};wk.prototype.toString=function(){Ek(this);return this.e.toString()};wk.prototype.Q=function(){return new this.constructor(Fk(this.Yc()))};
function Fk(a){if(va(a)){for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];null!=d&&(b[c]="object"==typeof d?Fk(d):d)}return b}if(xk&&a instanceof Uint8Array)return new Uint8Array(a);b={};for(c in a)d=a[c],null!=d&&(b[c]="object"==typeof d?Fk(d):d);return b};function Gk(a,b,c){Ia.call(this,c);this.Cc=b}F(Gk,Ia);Gk.prototype.docs_permanent_error_checker_817115=!0;Gk.prototype.docs_offline_error_data_provider_134718=!0;Gk.prototype.Ic=function(){switch(this.Cc){case 5:case 14:case 12:return!0;default:return!1}};function Hk(a,b,c){H.call(this);this.o=c;this.fb=a;this.ab=b;this.ga=!1}F(Hk,H);Hk.prototype.i=function(){if(this.ga)throw Error("The sync() method can be called only once");Ik(this.k.e.k,D(this.jf,this));this.ga=!0};Hk.prototype.ea=function(){this.q()||this.fb(this.o)};function Jk(a){this.e=a};function ih(a){this.e="offline-oc";this.g=a}F(ih,Jk);function Kk(){}function Lk(a){if("offline-oc"!=a.e)throw Error("Invalid Type");return a.g};function Mk(a,b,c,d,e,f){T.call(this,e,f);this.o=a;this.n=[];this.D=!!b;this.U=!!c;this.V=!!d;for(b=this.H=0;b<a.length;b++)bj(a[b],D(this.F,this,b,!0),D(this.F,this,b,!1));0!=a.length||this.D||this.e(this.n)}F(Mk,T);Mk.prototype.F=function(a,b,c){this.H++;this.n[a]=[b,c];this.g||(this.D&&b?this.e([a,c]):this.U&&!b?this.errback(c):this.H==this.o.length&&this.e(this.n));this.V&&!b&&(c=null);return c};Mk.prototype.errback=function(a){Mk.G.errback.call(this,a);for(a=0;a<this.o.length;a++)Wi(this.o[a])};
function Nk(a){return U(new Mk(a,!1,!0),function(a){for(var b=[],d=0;d<a.length;d++)b[d]=a[d][1];return b})};function Ok(a,b,c){H.call(this);this.e=a;this.i=b;this.j=c;this.g=new ek;I(this,this.g)}F(Ok,H);
Ok.prototype.S=function(){if(Pk(this.e)){var a=this.e;var b=ub(a.e);Bb(a.g,a.e);a.e={};a=this.i;for(var c=[],d=0;d<b.length;d++){var e=b[d];ti(e,"oc")&&c.push(e)}var f=new lk(D(a.nf,a,c),1E3,9E5,a.j);d=[];for(var h=0;h<b.length;h++){e=b[h];var l=e.pa();if(a.e[l])throw Error("Attempted to re-transport blob");var k=new T;if(ti(e,"oc"))e=new rk(k,f);else{var p=new lk(D(a.mf,a,e),1E3,9E5,a.j);e=new rk(k,p);a.g.isOnline()&&mk(p,!1,!1)}a.e[l]=e;l=lb(D(a.ae,a,l));bj(k,l,l,void 0);d.push(k)}0<c.length&&a.g.isOnline()&&
mk(f,!1,!1);a=new T;U(new Mk(d),D(this.k,this,b,a))}else a=hj();return a};Ok.prototype.k=function(a,b,c){for(var d=0;d<c.length;d++){var e=a[d].pa(),f=c[d][1];c[d][0]?Qk(this.e,e,f.wb()):(Rk(this.e,e),e=f.Z().message,this.j.log(Error("Failed to sync blob with error"),Zj(e)))}Pk(this.e)?gk(this.g,this.e.n,function(){return b.e()}):b.e()};function Sk(a,b,c,d){K.call(this,a);this.q=b;this.g=c;this.j=d}F(Sk,K);Sk.prototype.k=null;Sk.prototype.l="";Sk.prototype.i=null;function Tk(a){H.call(this);this.g=a;this.e={}}F(Tk,H);var Uk=[];q=Tk.prototype;q.Y=function(a,b,c,d){va(b)||(b&&(Uk[0]=b.toString()),b=Uk);for(var e=0;e<b.length;e++){var f=ge(a,b[e],c||this.Fa,d||!1,this.g||this);if(!f)break;this.e[f.Oa]=f}return this};q.kb=function(a,b,c,d){return Vk(this,a,b,c,d)};function Vk(a,b,c,d,e,f){if(va(c))for(var h=0;h<c.length;h++)Vk(a,b,c[h],d,e,f);else{b=he(b,c,d||a.Fa,e,f||a.g||a);if(!b)return a;a.e[b.Oa]=b}return a}
q.$b=function(a,b,c,d,e){if(va(b))for(var f=0;f<b.length;f++)this.$b(a,b[f],c,d,e);else c=c||this.Fa,d=za(d)?!!d.va:!!d,e=e||this.g||this,c=ie(c),d=!!d,b=Xd(a)?a.zb(b,c,d,e):a?(a=ke(a))?a.zb(b,c,d,e):null:null,b&&(pe(b),delete this.e[b.Oa])};function Wk(a){rb(a.e,function(a,c){this.e.hasOwnProperty(c)&&pe(a)},a);a.e={}}q.z=function(){Tk.G.z.call(this);Wk(this)};q.Fa=function(){throw Error("EventHandler.handleEvent not implemented");};function Xk(a,b,c,d){H.call(this);this.g=a;this.k=b;this.i=c;this.l=d;this.e=new T;this.j=new Tk(this)}F(Xk,H);q=Xk.prototype;q.Cb=-1;q.S=function(){var a=this;this.Cb=-1;Yk(this.g)?Si(Zk(this.g),function(b){var c=b.R();$k(a.i,b.e,a.k?al(a.k):{},c,a.l)?a.j.Y(a.i,"d",a.Pe).Y(a.i,"c",a.Oe):a.e.errback(new bl(!1,void 0))},function(b){a.e.errback(new bl(!1,b))}):this.e.e(this);return this.e};
function cl(a){if(!dl(a.g)&&0<=a.Cb){var b=a.g;a=a.Cb;el(b);if(!b.gc())throw Error("removeSent called when not waiting for ack");var c=fl(b),d=b.e;if(null!=gl(d)){var e=gl(d)-d.i.length;hl(d,0>e?null:e)}d.i=[];il(d,3);jl(b.e,a,null);b.e.J()&&(kl(b.e,!1),ll(b.g),null!==b.k&&S(b.e,"accessLevel",b.k),ml(b.g,1));zh(b.v,null);nl(b.e)&&b.j||(b.Lb=!1,zh(b.ea,null));c&&(fl(b)||zh(b.o,null));b.J()&&zh(b.w,null)}}q.Pe=function(a){a=a.g;this.Cb=a[a.length-1].e;ol(this.g,this.Cb);this.e.e(this)};
q.Oe=function(a){var b=this;a=a.g;"e"!=a.type||a.i&&"e"!=a.i?this.e.errback(new bl(!1,void 0)):(a=function(){b.e.errback(new bl(!0,void 0))},Si(pl(this.g),a,a))};q.z=function(){J(this.j);Xk.G.z.call(this)};function bl(a,b){this.g=a;this.e=b};function ql(a,b,c){var d=new T;if(ui(a,"inc"))if(null===ti(a,"title"))b={},b.docId=Bi(a),c.T(Error("Not creating document without title"),b),d.errback(void 0);else{c={newDocId:Bi(a),title:ti(a,"title")};var e=vi(a,"ic");e&&(c.initialCommands=ue(e));(e=ti(a,"fact"))&&(c.folder=e);(a=ti(a,"odocid"))&&(c.sourceDocId=a);a=Mj(Nj(ik(rl(Jj(b,"/create")),c),function(a){return d.e(a)}),function(a){return d.errback(a)});x(2)&&Kj(a,2);Lj(a)}else d.e(void 0);return d};function sl(a){switch(a){case 3:case 2:case 4:case 5:return 2;case 1:return 1;case 0:return 0;default:throw Error("No such access level.");}};function tl(a,b,c){this.e=a;this.g=b;this.Ma=c}tl.prototype.na=n("e");tl.prototype.getRequestId=n("g");function ul(a,b,c,d,e,f){ni.call(this,"pendingQueue",c);this.k=d;this.i=e.concat();this.g=f.concat();S(this,"docId",a);S(this,"documentType",b);S(this,"revision",-1);R(this,"undeliverable",!1);R(this,"unsavedChanges",!1);this.n=this.j=!1}F(ul,ni);var vl=["revisionAccessInfo","unsentBundleMetadata","selection","sentBundlesSavedRevision","snapshotBundleIndex"];q=ul.prototype;q.Ha=6;q.Fb=null;q.lb=null;q.mb=null;q.qa=null;function wl(a){return a.e.docId}function xl(a,b){R(a,"undeliverable",b)}
function yl(a,b){S(a,"sentBundlesSavedRevision",b)}function jl(a,b,c){S(a,"revision",b);S(a,"revisionAccessInfo",c?[c.e]:null)}q.R=function(){return this.e.revision};function zl(a,b){S(a,"selection",b)}function kl(a,b){R(a,"unsavedChanges",b)}function Al(a,b){S(a,"unsentBundleMetadata",b)}function gl(a){return si(a,"snapshotBundleIndex")}
function hl(a,b){if(null!=b){var c=a.i.length+a.g.length-1;if(0>b||b>c)throw Error(b+" is not a valid snapshot bundle index. The last bundle index: "+c);}S(a,"snapshotBundleIndex",b)}q.J=function(){return this.j?!0:0==this.g.length&&0==this.i.length};function Bl(a){if(!a.g.length)throw Error("Cannot call mark sent without unsent commands.");if(1==a.g.length){var b=a.g[0];a.qa=new Cl(b.getRequestId(),b.Ma);a.i.push(b);a.g=[];il(a,5)}else Za(a.i,a.g),Dl(a,a.i,[]);yl(a,null)}
function El(a){xl(a,!1);kl(a,!1);yl(a,null);zl(a,null);hl(a,null);a.i=[];a.g=[];il(a,2)}function Dl(a,b,c){a.mb=c.length?c.concat():null;a.lb=b.concat();a.Fb=null;a.qa=null;a.i=b.concat();a.g=c.concat();il(a,7)}function il(a,b){if(a.n&&7!=b&&6!=a.Ha)Dl(a,a.i,a.g);else{Fl(a);if(!a.n&&6!=a.Ha)throw Error("Multiple pending queue operations between writes. Current operation: "+a.Ha+". Pending operation: "+b);a.Ha=b}}
function Fl(a){if(a.j)throw Error("The queue is in a state that does not allow any operation until switchToStorageIfNeeded() is called.");}q.ra=function(){return 6!=this.Ha||ul.G.ra.call(this)};function Gl(a){return a.j?[]:a.i}function Hl(a){return a.j?[]:a.g}function Il(a){if(a.j)return[];for(var b=[],c=0;c<a.g.length;c++)Za(b,a.g[c].na());return b}function Jl(a){return a.j?!1:!!a.g.length}function nl(a){return a.j?!1:!!a.i.length}
q.tb=function(){Fl(this);ul.G.tb.call(this);this.Fb&&this.Fb.length&&this.k++;this.lb&&(this.k+=this.lb.length);this.mb&&(this.k+=this.mb.length);this.Ha=6;this.qa=this.mb=this.lb=this.Fb=null};q.xb=function(){return new hi(wl(this),2)};function Cl(a,b){this.requestId=a;this.sessionId=b};function Kl(a,b,c,d,e){H.call(this);this.Hc=wj();this.D=null;this.L=bh("jobset");this.F=P(Zg(),"fatra");this.Wa=this.ga=null;this.gb=!1;this.Lc=this.A=this.K=this.Za=this.Xa=this.Ra=null;this.Ad=c||null;this.ua=d||null;this.V=this.Ed=this.Sa=this.n=this.j=null;this.ja=0;this.l=null;this.yd=!1;this.g=this.Ca=this.e=this.Ua=this.Kc=this.ea=null;this.k=this.v=!1;this.Va=wj();b=(e||[]).concat();b.push(this.Hc);this.cf=xj(b);this.i=a;this.w=new Nh;this.Ba=this.H=this.U=this.zd=this.O=this.Aa=null;this.fb=
!1;this.ab=this.ka=this.ta=this.Mc=null;this.Ub=!1;this.o=null;this.Ta=!1}F(Kl,H);function Ll(a){if(null!==a.O)return a.O;if(!a.e)throw Error("Local store document should exist when revision is null in document writer proxy");return a.e.R()}
function Ml(a,b){var c=wj();if(!a.e)return V(c,null),c;if(a.v)return Nl(a,c,!!b,!0),c;Ol(a);var d=a.j&&1!=a.j.e;Nl(a,c,!!b);a.ua&&a.n&&!a.j&&(a.j=Uj(a.ua,a.e,a.n),a.n=null);c=[c];if(a.j&&!d){var e=wj();c.push(e);d=function(){Nl(a,e,!!b)};Si(a.j,d,d)}a.yd&&(a.yd=!1);return qj(sj(c,!0),aa(null))}function Pl(a){var b=a.Ta;b||(a.Ta=!0);var c=Ml(a,!0);a.Ta=b;return c}
function Ol(a){a.V&&(S(a.e,"title",a.V),a.V=null);0<a.ja&&(Ei(a.e,a.ja),a.ja=0);a.L&&(S(a.e,"jobset",a.L),a.L=null);null!=a.F&&(R(a.e,"isFastTrack",a.F),a.F=null);var b=a.e;if(b.ra()){var c=E();S(b,"lastSyncedTimestamp",c)}a.l&&(Fi(a.e,a.l),a.l=null);null!=a.ea&&(R(a.e,"inc",!a.ea),a.ea=null);null!=a.Kc&&(R(a.e,"pendingCreation",a.Kc),a.Kc=null);null!=a.ga&&(R(a.e,"ips",a.ga),a.ga=null);a.gb&&(Gi(a.e,a.Wa),a.Wa=null,a.gb=!1);null!==a.K&&(Ii(a.e,a.K),a.K=null);null!==a.A&&(Ji(a.e,a.A),a.A=null);(b=
a.e)&&ui(b,"inc")&&a.D?(S(b,"ic",a.D),a.D=null):b&&(a.D=null);null!==a.U&&(R(a.e,"ind",!a.U),a.U=null);null!==a.H&&(R(a.e,"isd",a.H),a.H=null);a.fb&&(S(a.e,"defe",a.Ba),a.Ba=null,a.fb=!1);null!==a.Ra&&(S(a.e,"lsst",a.Ra),a.Ra=null);null!==a.Xa&&(a.e.Ib(a.Xa),a.Xa=null);null!==a.Za&&(a.e.Jb(a.Za),a.Za=null);null!=a.Ua&&(R(a.e,"hpmdo",a.Ua),a.Ua=null);null!=a.o&&(Ni(a.e,a.o),a.o=null);a.k&&(null!==a.Mc&&(R(a.e,"modelNeedsResync",a.Mc),a.Mc=null),null!=a.ta&&(Li(a.e,a.ta),a.ta=null),null!=a.ka&&(Ki(a.e,
a.ka),a.ka=null),a.Ub&&(Mi(a.e,a.ab),a.ab=null,a.Ub=!1))}function Nl(a,b,c,d){var e=[];d||e.push(a.e);a.g&&(Fl(a.g),e.push(a.g));Ql(a,d);var f=c?D(b.errback,b):a.Ed||void 0;a.Ca.ia(e,d?function(){return V(b,null)}:function(){return Rl(a,b,f)},f)}function Rl(a,b,c){if(a.Sa){var d=a.Sa;a.Sa=null;a.Ca.ia(d,function(){return V(b,null)},c)}else V(b,null)}
function Ql(a,b){var c=null,d=null,e=!1,f=!1;if(a.g){c=a.g.J();d=a.g.R();var h=a.g.l;f=(e=!!h.revision)||!!h.unsentBundleMetadata||!!h.undeliverable||!!h.sentBundlesSavedRevision}h=null;var l=!1,k=!1;a.e&&(h=a.e.R(),k=a.e.l,l=!!k.rev,k=!!k.pendingQueueState);if(a.g)if(b&&k)a.i.T(Error("pendingQueueState is modified while only writing the pending queue record"));else{if(k||f)f=(f=a.e)?Oi(f):null,a.g.J()!=(1==f)&&a.i.T(Error("pendingQueueState "+f+" does not match the pending queue record state: empty"))}else k&&
a.i.T(Error("pendingQueueState is modified without a registered pending queue record"));!c&&a.g&&(c={},c.writePendingQueueOnly=!!b,c.hasSwitchedToLocalStorage=a.k,a.g?(c.pendingQueue_isAvailable=!0,c.pendingQueue_revisionModified=e):c.pendingQueue_isAvailable=!1,a.e?(c.localDocument_isAvailable=!0,c.localDocument_revision=h,c.localDocument_revisionModified=l,c.localDocument_commandQueueModified=!a.e.g.J()):c.localDocument_isAvailable=!1,!b&&l&&h!=d&&a.i.T(Error("Local document revision write is out of sync with the pending queue revision."),
c))}function Sl(a){a.v||Si(a.cf,function(){a.e?R(a.e,"hpmdo",!1):a.Ua=!1;var b=a.e;Oh(a.w,b.g);a.w=b.g;null!==a.Aa&&(xi(b,"acl",a.Lc,a.Aa),a.Aa=null);null!==a.O&&Di(a.e,a.O,a.zd);a.Ad&&a.Ad.e(!0);a.g&&(a.g.n=!1);a.k=!0;try{var c=Ml(a)}catch(d){c=zj(d)}Aj(c,a.Va)},function(b){a.Va.errback(b)})}function Tl(a,b){a.g=b;a.g.I&&a.g.J()&&ml(a,1);P(Zg(),"icso")}
function Ul(a){a.e||Vl(a.i,Error("Tried to delete document but no document was registered on DocumentWriterProxy"));oi(a.e,!0);var b=wj();a.Ca.ia([a.e],function(){return V(b,null)},function(a){return b.errback(a)});a.e=null;a.v=!0;return b}function Wl(a){a.e?(R(a.e,"inc",!1),a.ea=null):a.ea=!0}function Xl(a,b){a.e?(R(a.e,"ips",b),a.ga=null):a.ga=b}function ll(a){a.e?(Gi(a.e,null),a.Wa=null,a.gb=!1):(a.Wa=null,a.gb=!0)}function Yl(a){var b=E();a.e?S(a.e,"lsst",b):a.Ra=b}
Kl.prototype.Jb=function(a){this.e?this.e.Jb(a):this.Za=a};Kl.prototype.Ib=function(a){this.e?this.e.Ib(a):this.Xa=a};function Zl(a){a.k?(Li(a.e,4),a.ta=null):a.ta=4;var b=E();a.k?(Ki(a.e,b),a.ka=null):a.ka=b;a.k?(Mi(a.e,null),a.ab=null,a.Ub=!1):(a.ab=null,a.Ub=!0)}function ml(a,b,c){a.e?(Ni(a.e,b),a.o=null):c?a.e?(Ni(a.e,b),a.o=null):Vl(a.i,Error("Force persisting pending queue state without a document record.")):a.o=b};function $l(a,b,c){this.e=a;this.k=b;this.q=c}F($l,Qh);function am(a){if(null===a.k)throw Error("Cannot getKey of operation for singleton record.");return a.k};function bm(a,b){$l.call(this,"delete-record",a,b)}F(bm,$l);function cm(a,b,c,d){$l.call(this,d||"update-record",a,b.B);this.i=b.I;this.g={};a=b.l;c=c||[];for(var e in a)this.g[e]=0<=Oa(c,e)?qi(b,e):b.e[e]}F(cm,$l);function dm(){H.call(this)}F(dm,H);dm.prototype.l=function(a){if(!(0<=Oa(this.e(),a.B)))throw Error("Cannot create operations for an unsupported record type "+a.B);return this.g(a)};dm.prototype.g=function(a,b){var c=this.i(a),d=[];a.za?d.push(new bm(c,a.B,a.Od)):d.push(new cm(c,a,b));return d};dm.prototype.i=function(a){throw Error("Key cannot be obtained for record of type "+a.B);};function em(a){H.call(this);this.k=a}F(em,dm);em.prototype.e=function(){return["document"]};function fm(a,b,c){return new Ai(b,c,!0,a.k[c])}em.prototype.g=function(a){var b=em.G.g.call(this,a,"lastModifiedClientTimestamp lastWarmStartedTimestamp ic odocid relevancyRank rev rai snapshotProtocolNumber".split(" ")),c=Ci(a);if(!this.k[c])throw Error("No adapter found for this type: "+c);if(a.za)a=[];else if(c=new Nh,Oh(a.g,c),c.J())a=[];else{var d=c.g;a=[new Sh(Bi(a),Ci(a),Ph(c),d)]}return b.concat(a)};
em.prototype.i=function(a){return Bi(a)};function gm(a,b){ni.call(this,"applicationMetadata",b);S(this,"dt",a);this.i=[]}F(gm,ni);gm.prototype.g=!1;gm.prototype.tb=function(){gm.G.tb.call(this);this.g=!1};gm.prototype.ra=function(){return this.g||gm.G.ra.call(this)};function hm(a,b,c){cm.call(this,a,b,void 0,"update-application-metadata");this.j=c}F(hm,cm);function im(a){H.call(this);this.n=a}F(im,dm);im.prototype.e=function(){return["applicationMetadata"]};im.prototype.i=function(a){return a.e.dt};im.prototype.g=function(a){var b=this.i(a);return[new hm(b,a,a.g?a.i.concat():null)]};function jm(a,b,c,d,e){ni.call(this,"documentEntity",e);S(this,"entityId",a);S(this,"documentId",b);S(this,"entityType",c);S(this,"data",d)}F(jm,ni);jm.prototype.getData=function(){return qi(this,"data")};function km(){H.call(this)}F(km,dm);km.prototype.e=function(){return["documentEntity"]};km.prototype.i=function(a){return[a.e.documentId,a.e.entityType,a.e.entityId]};function lm(){H.call(this)}F(lm,dm);lm.prototype.e=function(){return[]};function mm(a,b){this.e="document-lock";this.g=a;this.i=b}F(mm,Qh);function nm(a,b){K.call(this,"t",b)}F(nm,K);function om(){};function pm(){H.call(this)}F(pm,dm);pm.prototype.e=function(){return[]};function qm(a,b,c,d,e,f,h,l,k){ni.call(this,"blobMetadata",k);S(S(S(S(S(S(S(S(this,"d",a),"p",b),"u",c),"ou",d),"f",e),"c",f),"s",h),"oc",l);this.g=wj();this.i=wj();"awaiting-original-url"!=h&&V(this.i,d);"failed"==h?this.g.errback():c&&V(this.g,c)}F(qm,ni);var rm=["c","oc","ou","u"];q=qm.prototype;q.pa=function(){return this.e.p};q.getUrl=function(){return ti(this,"u")};q.getFileName=function(){return this.e.f};q.wb=function(){return ti(this,"c")};q.$=function(){return this.e.s};
function sm(a,b){S(a,"s",b);"awaiting-original-url"==b||1!=a.i.e||V(a.i,ti(a,"ou"));"failed"!=b||1!=a.g.e||a.g.errback()}q.xb=function(){return new hi(this.e.d,2)};q.oa=function(a){return this==a?!0:this.pa()==a.pa()&&this.getUrl()==a.getUrl()&&ti(this,"ou")==ti(a,"ou")&&this.getFileName()==a.getFileName()&&this.wb()==a.wb()&&this.$()==a.$()&&ti(this,"oc")==ti(a,"oc")};function tm(){H.call(this)}F(tm,dm);tm.prototype.e=function(){return["blobMetadata"]};tm.prototype.g=function(a){return tm.G.g.call(this,a,rm)};tm.prototype.i=function(a){return[a.e.d,a.pa()]};function um(a){cm.call(this,wl(a),a,vl,"pq-clear")}F(um,cm);function vm(a){cm.call(this,wl(a),a,vl,"pq-clear-sent-bundle");if(a.j)throw Error("The queue is in a state that does not allow commands");this.j=0<a.g.length||1<a.i.length}F(vm,cm);function wm(a){cm.call(this,wl(a),a,vl,"pq-clear-sent")}F(wm,cm);function xm(a,b){this.e="pq-delete-commands";this.g=a;this.i=b}F(xm,Qh);function ym(a){cm.call(this,wl(a),a,vl,"pq-mark-sent");this.j=[];this.l=!1;var b=a.k;if(7==a.Ha){this.l=!0;a=a.lb;for(var c=0;c<a.length;c++)b++,this.j.push(new zm(a[c].Ma,a[c].getRequestId(),b))}else this.j.push(new zm(a.qa?a.qa.sessionId:null,a.qa?a.qa.requestId:null,b))}F(ym,cm);function zm(a,b,c){this.sessionId=a;this.requestId=b;this.lastEntryIndex=c};function Am(a,b,c){this.e="pq-write-commands";this.j=a;this.i=b;this.g=c}F(Am,Qh);Am.prototype.na=n("i");function Bm(a,b){this.k=a;this.g=b}Bm.prototype.e=function(){return["pendingQueue"]};Bm.prototype.i=function(a){return wl(a)};function Cm(a,b){if(a=a.k[b])return a;throw Error("No document adapter available for type "+b);}
Bm.prototype.l=function(a){if(a.za)throw Error("Cannot delete pending queues.");Cm(this,a.e.documentType);var b=a.Ha,c=[];switch(b){case 7:b=wl(a);var d=a.k,e=a.lb;c=[];for(var f,h=0;h<e.length;h++){d++;f=Dm(this,e[h].na(),wl(a),d,!0);if(!f)throw Error("Unexpected null operation");c.push(f)}d=a.k+c.length;e=a.mb?a.mb:[];f=[];h=[];for(var l=0;l<e.length;l++){var k=Dm(this,e[l].na(),b,d+1);k&&(h.push(k),f.push(new Em(e[l].getRequestId(),e[l].Ma,d+1)),d++)}Al(a,Fm(f));c.push(new ym(a));Za(c,h);0<=a.k&&
c.push(new xm(b,a.k));break;case 1:c=a.k+1;d=wl(a);b=[];e=a.Fb;h=a.qa?a.qa.requestId:null;l=a.qa?a.qa.sessionId:null;f=Gm(pi(a,"unsentBundleMetadata"));if(null===h||null===l){if(!f.length)throw Error("Bundles and metadata do not match!");h=f[f.length-1];f[f.length-1]=new Em(h.requestId,h.sessionId,c)}else f.push(new Em(h,l,c));e&&Al(a,Fm(f));xb(a.l)||b.push(new cm(d,a,vl));(a=Dm(this,e,d,c))&&b.push(a);c=b;break;case 5:Al(a,null);c.push(new ym(a));break;case 2:Al(a,null);c.push(new um(a));break;case 3:c.push(new wm(a));
break;case 4:c.push(new vm(a));break;case 6:c.push(new cm(wl(a),a,vl));break;default:throw Error("Unknown Pending Queue operation type: "+b);}return c};function Dm(a,b,c,d,e){if(!(e||b&&0!=b.length))return null;e=[];if(b){for(var f="",h=0;h<b.length;h++){var l=Lk(b[h]);e.push(l);f+=ph(l.toString())}0<f.length&&a.g.T(Error("Serializing commands containing malformed surrogate characters"),{command_malformedText:f})}return new Am(c,e,d)}
function Gm(a){if(!a)return[];for(var b=[],c=0;c<a.length;c++)b.push(new Em(a[c].rid,a[c].sid,a[c].lei));return b}function Fm(a){if(!a.length)return null;for(var b=[],c=0;c<a.length;c++){var d=a[c],e={};e.rid=d.requestId;e.sid=d.sessionId;e.lei=d.lastEntryIndex;b.push(e)}return b}function Em(a,b,c){this.requestId=a;this.sessionId=b;this.lastEntryIndex=c};function Hm(){H.call(this);this.n={};this.H=new Q;I(this,this.H)}F(Hm,H);function Im(a,b){for(var c=b.e(),d=0;d<c.length;d++){var e=c[d];if(a.n[e])throw Error("Record type "+e+"already handled by another capability.");a.n[e]=b}}q=Hm.prototype;q.ld=aa(null);q.Ob=aa(null);q.lc=aa(null);q.db=aa(null);q.kc=aa(null);q.eb=aa(null);function Jm(a,b,c){ni.call(this,"syncObject",a);S(this,"keyPath",b);S(this,"state",c)}F(Jm,ni);Jm.prototype.getData=function(){return this.e.data};function Km(a){a=pi(a,"state");if(!a)throw Error("SyncObject not allowed to have null state.");return a};function Lm(){H.call(this)}F(Lm,dm);Lm.prototype.e=function(){return["syncObject"]};Lm.prototype.i=function(a){return wi(a)};function Mm(a,b,c,d){this.e="append-template-commands";this.k=a;this.g=b;this.i=c;this.j=d}F(Mm,Qh);function Nm(){H.call(this)}F(Nm,H);function Om(a,b,c,d,e,f,h,l,k,p,r,u,w,B,y,z,M){ni.call(this,"templateMetadata",M);S(this,"id",a);S(this,"title",b);S(this,"style",c);S(this,"category",d);S(this,"locale",e);S(this,"creator",f);S(this,"thumbnailUrl",h);S(this,"documentType",l);S(this,"lastModifiedTimestamp",k);S(this,"fontFamilies",p);S(this,"brandedAuthor",r);S(this,"brandedUrl",u);S(this,"masterTemplate",w);R(this,"isThumbnailReady",B);R(this,"isReady",y);R(this,"isDirty",z)}F(Om,ni);function Pm(a){H.call(this);this.n=a}F(Pm,dm);Pm.prototype.e=function(){return["templateCreationMetadata","templateMetadata"]};Pm.prototype.i=function(a){return"templateCreationMetadata"==a.B?[a.i()]:[a.e.id]};Pm.prototype.g=function(a){var b=Pm.G.g.call(this,a);if("templateCreationMetadata"==a.B){Qm(this,a.g());var c=Ph(a.j());b=b.concat(a.za||0==c.length?[]:[new Mm(a.i(),a.g(),c,!0)])}return b};function Qm(a,b){a=a.n[b];if(!a)throw Error("No adapter found for this type: "+b);return a};function Rm(a,b){ni.call(this,"user",b);S(this,"id",a);R(this,"fastTrack",!0)}F(Rm,ni);function Sm(){H.call(this)}F(Sm,dm);Sm.prototype.e=function(){return["user"]};function Tm(a){var b=wj();Ik(a,function(a){return V(b,a)});return qj(b,function(a){if(1>a.length)throw new Xh("Expected an offline user in localstore");return a[0]})}Sm.prototype.g=function(a,b){if(a.za)throw Error("User deletion is not implemented.");return Sm.G.g.call(this,a,b)};Sm.prototype.i=function(a){return a.e.id};function Um(a,b,c,d,e,f,h){ni.call(this,"fontMetadata",h);this.g=a;this.i=b;b="latin"==b?a:a+"|"+b;a=P(Zg(),"docs-ofmpp");c=R(R(S(S(this,"fontFamily",b),"version",c),"domainFont",d),"inkedSpace",e);d=[];for(e=0;e<f.length;e++){b=f[e];var l=b.e;h=[];for(var k=0;k<l.length;k++){var p=l[k],r={};r.format=p.e;r.isSystemFont=p.i;r.url=p.g;h.push(r)}l=Vm;k={};k[l.ac]=b.g;k[l.sb]=b.k;k[l.bc]=b.i;k[l.Td]=h;k[l.dc]=b.j;k[l.fc]=b.q;d.push(k)}S(c,"fontFaces",d,a)}F(Um,ni);Um.prototype.getFontFamily=n("g");
Um.prototype.M=n("i");Um.prototype.yb=function(){for(var a=this.e.fontFaces,b=[],c=0;c<a.length;c++){for(var d=a[c],e=[],f=d.source,h=0;h<f.length;h++){var l=f[h];e.push(new Wm(l.format,l.isSystemFont,l.url))}f=Vm;b.push(new Xm(d[f.ac],x(d[f.sb])?d[f.sb]:"latin",d[f.bc],d[f.dc],d[f.fc],e))}return b};function Xm(a,b,c,d,e,f){this.g=a;this.k=b;this.i=c;this.j=d;this.q=e;this.e=f}var Vm={ac:"fontFamily",sb:"subset",bc:"isMenuFont",Td:"source",dc:"style",fc:"weight"};Xm.prototype.getFontFamily=n("g");
Xm.prototype.M=n("k");function Wm(a,b,c){this.e=a;this.i=b;this.g=c}Wm.prototype.hb=n("e");Wm.prototype.getUrl=n("g");function Ym(a){a=a.split("|");return new Zm(a[0],1<a.length?a[1]:"latin")}function Zm(a,b){this.e=a;this.g=b};function $m(a){a=Ym(a);this.i=a.e;this.j=a.g;this.e=null}
$m.prototype.get=function(){if(!this.e){var a=this.g,b=X(a,"fontFamily"),c=X(a,"version"),d=!!X(a,"domainFont"),e=!!X(a,"inkedSpace");a=an(X(a,"fontFaces"));for(var f=0;f<a.length;f+=1);f=Ym(b);b=f.e;f=f.g;for(var h=[],l=0,k;k=a[l];l++){for(var p=k.source,r=[],u=0,w;w=p[u];u++)r.push(new Wm(w.format,w.isSystemFont,w.url));p=Vm;h.push(new Xm(k[p.ac],x(k[p.sb])?k[p.sb]:"latin",k[p.bc],k[p.dc],k[p.fc],r))}c=new Um(b,f,c,d,e,h,!1);c.q=!1;this.g=null;this.e=c}return this.e};
$m.prototype.getFontFamily=n("i");$m.prototype.M=n("j");function bn(){H.call(this)}F(bn,dm);bn.prototype.e=function(){return["fontMetadata"]};bn.prototype.i=function(a){return a.e.fontFamily};function cn(a){H.call(this);this.e=a;this.i=new Q;I(this,this.i);this.g=!1}F(cn,H);cn.prototype.ia=function(a,b,c){if(!this.g)throw Error("Cannot write to read-only local store.");var d=dn(a);a=en(this,a);0==a.length?b():fn(this.e,a,D(function(){zh(this.i,d);b()},this),c)};function dn(a){for(var b=[],c=0;c<a.length;c++)b.push(new om);return new nm(b)}
function en(a,b){for(var c=[],d=null,e=0;e<b.length;e++){var f=b[e];if(f.ra()||f.za){var h=a.e.n[f.B]||null;if(h){h=h.l(f);c=c.concat(h);if((h=f.xb())&&d){if(d.e!=h.e)throw Error("Cannot compare two requirements with different doc id.");d=d.g>h.g?d:h}else d=d||h;f.tb();f.ra()}else throw Error("No Capability for record :"+f.B);}}d&&c.unshift(new mm(d.e,d.g));return c};function gn(a,b,c){this.e=a;this.g=b;this.i=c}function hn(a,b,c){jn(a.i.e.g,a.e,D(a.j,a,b),c)}gn.prototype.j=function(a,b){b?a(b):a(new ul(this.e,this.g,!0,-1,[],[]))};function kn(a,b,c){this.g=a;this.e=b;this.i=c}kn.prototype.R=n("g");function ln(a,b){H.call(this);this.K=a;this.i=b;this.l=null;this.D=-1;this.O=new Q;I(this,this.O);this.ga=new Q;I(this,this.ga);this.L=new Q;I(this,this.L);this.w=new Q;I(this,this.w);this.U=new Q;I(this,this.U);this.ja=new Q;I(this,this.ja);this.v=new Q;I(this,this.v);this.o=new Q;I(this,this.o);this.Ca=new Q;I(this,this.Ca);this.ka=new Q;I(this,this.ka);this.ea=new Q;I(this,this.ea)}F(ln,H);q=ln.prototype;q.wd=!1;q.Lb=!1;function mn(a){a.l=null;zl(a.e,null)}
q.na=function(){for(var a=Gl(this.e),b=[],c=0;c<a.length;c++)Za(b,a[c].na());Za(b,Il(this.e));return b};q.J=function(){return!nn(this)&&!(nl(this.e)&&this.j)};function Yk(a){return nn(a)&&!dl(a)}function on(a){el(a);return a.e.R()}
function Zk(a){el(a);var b=Il(a.e).length,c=x(void 0)?void 0:b;if(0>c||c>b)throw Error("Invalid number of unsent commands requested for dequeue");b=wj();if(nn(a)){var d=b;a.K&&(b=qj(b,function(b){for(var c=b.R(),d=b.e,e=[],k=0;k<d.length;k++){var p=d[k],r=a.K.e(p.na());e[k]=r?new tl(r,p.getRequestId(),p.Ma):p}return new kn(c,e,b.i)}));pn(a,c,d)}else V(b,new kn(on(a),[],a.l)),a.l=null;return b}function qn(a){a.Lb||(a.Lb=!0,zh(a.ja,null))}
function rn(a){a.Lb=!1;var b=wj();a.i.T(Error("Pending queue cleared from mobilenative.LocalStorePendingQueueClearer"));a.j=!1;a.A=!1;null!==gl(a.e)?Aj(Ul(a.g),b):(ll(a.g),ml(a.g,1),El(a.e),Aj(sn(a,!0),b));a.l=null;zh(a.U,null);a.J()&&zh(a.w,null);return b}function el(a){if(!a.wd)throw Error("Attempting to use an uninitialized queue.");}q.gc=n("Lb");function pl(a){var b=wj();dl(a)?V(b,null):(xl(a.e,!0),ml(a.g,0,!a.A),Aj(sn(a),b));zh(a.L,null);return b}
function ol(a,b){b=tn(a,b);oj(b,function(){zh(a.ga,null)})};function un(a,b,c,d,e,f,h,l,k,p,r,u,w){ln.call(this,h,e);this.g=a;this.Ba=c;this.V=f;this.n=wj();this.e=b;this.k=l;this.A=this.j=!1;this.H={};this.Aa=u;this.F=!1;this.e?(Tl(this.g,this.e),V(this.n,this)):hn(new gn(k,p,d),D(this.ua,this,w),D(this.ta,this));oj(this.g.Va,function(){this.e&&!this.e.J()&&zh(this.v,null)}.bind(this))}t(un,ln);un.prototype.ua=function(a,b){a&&a.g("pqr");this.e=b;Tl(this.g,b);V(this.n,this)};un.prototype.ta=function(a){this.n.errback(a);this.V(a)};
function sn(a,b){var c=null;c=(void 0===b?0:b)?Pl(a.g):Ml(a.g,!0);pj(c,function(b){return a.V(b)});return c}
function pn(a,b,c){if(Jl(a.e)){if(nl(a.e)&&a.j&&null===si(a.e,"sentBundlesSavedRevision"))throw Error("Dequeue should not be called before the previous sent bundles are marked as saved on the server");if(0<b){var d=Il(a.e);if(b==d.length)Bl(a.e);else{if(1!=b)throw Error("Num unsent can only be 1");throw Error("When requesting to send a single command it has to be null");}}}a.j=!0;b=Gl(a.e).concat();qn(a);d=null;Jl(a.e)||(d=a.l,mn(a));var e=new kn(on(a),b,d);Si(sn(a),function(){V(c,e)},D(c.errback,
c))}un.prototype.gc=function(){return ln.prototype.gc.call(this)||!this.e.J()};function nn(a){return Jl(a.e)||!a.j&&nl(a.e)}function fl(a){var b=a.k,c;!(c=a.D>a.e.R())&&(c=null!==b)&&(a=si(a.e,"accessLevel"),a=null===a?3:a,b=sl(b),a=sl(a),c=b!=a);return c}function dl(a){var b=a.g.e;b=b?Oi(b):null;null===b?(a=a.e,a=!a.j&&(null==qi(a,"undeliverable")?!1:""!=a.e.undeliverable)):a=0==b;return a}function tn(a,b){if(!nl(a.e))return yj(null);yl(a.e,b);Jl(a.e)||ml(a.g,3,!a.F);return sn(a)}
function vn(a){var b=a.i;b.g.pendingQueue_startedEmpty=a.F.toString();wn(b,"pendingQueue_startedAnachronistic",fl(a).toString());b.g.pendingQueue_initialRevision=a.e.R().toString();b.g.pendingQueue_initialModelRevision=a.D.toString();wn(b,"pendingQueue_initialBundleInfo",xn(a));var c=a.g.e;b.g.localStoreDoc_id=Bi(c);var d=c?Oi(c):null;b.g.pendingQueue_initialState=null===d?"null":d.toString();yn(b,"pendingQueue_isEmpty",function(){return this.e.J().toString()}.bind(a));yn(b,"pendingQueue_revision",
function(){return this.e.R().toString()}.bind(a));yn(b,"pendingQueue_hasDequeued",function(){return this.j.toString()}.bind(a));yn(b,"pendingQueue_hasEnqueued",function(){return this.A.toString()}.bind(a));yn(b,"pendingQueue_bundleInfo",function(){return xn(this)}.bind(a));yn(b,"pendingQueue_isPersistent",function(){return(!0).toString()}.bind(a));yn(b,"pendingQueue_isAnachronistic",function(){return fl(this).toString()}.bind(a));yn(b,"localStoreDoc_revision",function(){return c.R().toString()}.bind(a));
yn(b,"localStoreDoc_isCreated",function(){return(!ui(c,"inc")).toString()}.bind(a));yn(b,"localStoreDoc_isPendingCreation",function(){return(!!ui(c,"pendingCreation")).toString()}.bind(a));yn(b,"localStoreDoc_lastModifiedClientTimestamp",function(){return ri(c,"lastModifiedClientTimestamp").toString()}.bind(a));yn(b,"localStoreDoc_lastModifiedServerTimestamp",function(){return ri(c,"lastModifiedServerTimestamp").toString()}.bind(a))}
function xn(a){var b="",c=Gl(a.e);a=c.concat(Hl(a.e));for(var d=0;d<a.length;d++){var e=d<c.length?"sent":"unsent";e={sid:a[d].Ma,rid:a[d].getRequestId(),type:e};b+=JSON.stringify(e)+"\n"}return b};function zn(a,b,c,d,e,f,h,l){return c.e.g?(new un(a,null,b,c,d,e,null,null,f,h,l,null,null)).n:null};function An(){K.call(this,"k")}F(An,K);function Bn(){K.call(this,"n")}F(Bn,K);function Cn(){K.call(this,"o")}F(Cn,K);function Dn(){L.call(this)}F(Dn,L);function En(){K.call(this,"l")}F(En,K);function Fn(a,b){K.call(this,"u");this.g=a;this.message=b}F(Fn,K);function Gn(){K.call(this,"p")}F(Gn,K);function Hn(a,b,c,d,e,f,h,l,k,p,r){L.call(this);this.o=a;this.F=b;this.e=c;this.w=d||null;this.v=e||null;this.O=f||{};this.n=0;this.l=this.j=null;this.D=!!h;this.K=!!l;this.g=k||null;this.k=p||null;this.A=r||null}F(Hn,Dn);
function In(a,b){if(!a.g||!a.g.e())if(b)if(0==a.n&&!a.j||!a.D&&a.n!=a.j.F)N(a,new Fn(1,"Missing chunks"));else if(a.e){b=a.e;var c=a.j.e;if(b.e&&b.ua){if(b.j)throw Error("Cannot process startup hints twice for the same document.");b.j=Uj(b.ua,b.e,c);b.n=null}else if(b.ua){if(b.n)throw Error("Startup hints were already set.");b.n=c}if((b=a.j.g)&&a.v&&a.w){c=a.v;var d=a.o,e={},f=[];for(h in b)c.e(d,h,b[h],e,f);a.e.Sa=f;var h=yb(e);Bb(h,a.O);b=D(a.H,a);Jn(a.w.e,h,["documents",a.o],!0,b)}else N(a,"m")}else N(a,
"m");else N(a,new Fn(3,"Document not accessible"))}Hn.prototype.H=function(a){0<a.qb||0<a.cb?N(this,new Fn(2,"File sync failed")):N(this,"m")};function Kn(){}Kn.prototype.stringify=function(a){return v.JSON.stringify(a,void 0)};Kn.prototype.parse=function(a){return v.JSON.parse(a,void 0)};var Ln=new Kn;function Mn(a,b){b=(void 0===b?null:b)||Ln;return a&&b.parse(a.replace(/^[^[{]+/,""))||null};function Nn(a,b,c,d,e){this.k=a;this.B=b;this.g=c;this.j=d;this.q=e;this.e=0;this.i=null}
function On(a,b){a.i&&(Bf.clearTimeout(a.i),a.i=null);for(var c=a.k();;){if(0==a.e)if(c&&5<=c.length)if(0==c.lastIndexOf(")]}'\n",0))a.e+=5;else{a.g("Safety prefix not present.");break}else break;if(5==a.e)if(c.length>=a.e+2)if("0&"==c.substring(a.e,a.e+2))a.e+=2;else{a.g("Chunked version marker not present.");break}else break;var d=c.indexOf("&",a.e);if(0>d){b&&a.j();break}var e=+c.substring(a.e,d);if(isNaN(e)){a.g("Invalid chunk size.");break}e=e+d+1;if(c.length<e)break;a.e=e;d=c.substring(d+1,
e);try{var f=Mn(d)}catch(h){a.g("Error parsing chunk.");break}if(f)a.B(f);else{a.g("Received a blank chunk.");break}if(!a.q){a.i=Ef(D(a.l,a,b));break}}}Nn.prototype.l=function(a){this.i=null;On(this,a)};function Pn(a,b,c){this.e=a;this.g=b;this.i=c};function Qn(a,b,c,d,e,f,h,l,k,p,r,u,w,B,y,z,M,oa){this.v=a;this.o=b;this.n=c;this.q=d;this.i=e;this.j=f;this.e=h;this.g=l;this.w=k;this.l=p;this.I=r;this.D=u;this.A=w;this.B=B;this.k=x(y)?y:null;this.F=x(oa)?oa:null;this.H=z;this.L=M}Qn.prototype.R=n("v");function Rn(a,b,c,d,e,f){this.n=a;this.j=b;this.I=d;this.l=e;this.g=this.k=0;this.q=new Nn(this.n,D(this.o,this),D(this.B,this),D(this.v,this),c);this.e=!1;this.i=f||null}
Rn.prototype.o=function(a){if(0==this.k){this.i&&$h(this.i,"mmr",this.g);var b=a.me,c=b.rat;var d=new Qn(a.r,c?new yi(c):null,a.mv,a.fv,b.al,b.dkd,b.sh,a.eo,b.t,!!b.ft,b.js,b.lm,!!b.d,!!b.sd,b.defe||null,a.slm||null,a.spd||null,a.mc);b=this.j;a=E();b.j=d;var e=d.R();b.l=e;var f=d.o,h=d.n,l=d.q;N(b,new Bn(e,f,h,l));if(!b.g||!b.g.e()){var k=d.i;c=d.j;N(b,new An(Number(k),c));N(b,new Gn(d.e));N(b,new En(d.g));if(b.k){var p=d.H;if(p){var r=b.k,u;for(u in p)$h(r,u,p[u])}}b.A&&(u=d.L)&&b.A.e(u);if(b.e){var w=
d.l;p=d.I;u=d.D;var B=d.A,y=d.B;r=d.k;var z=b.e;d=d.w;z.e?(S(z.e,"title",d),z.V=null):z.V=d;d=b.e;d.e?(R(d.e,"isFastTrack",w),d.F=null):d.F=w;d=b.e;(w=d.e)?(R(w,"ind",!B),d.U=null):d.U=B;d=b.e;(B=d.e)?(R(B,"isd",y),d.H=null):d.H=y;y=b.e;y.e?(S(y.e,"defe",r),y.Ba=null,y.fb=!1):(y.Ba=r,y.fb=!0);p&&(r=b.e,r.e?(S(r.e,"jobset",p),r.L=null):r.L=p);u&&(p=b.e,null!=u&&(p.e?(Ei(p.e,u),p.ja=0):p.ja=u));u=b.e;u.e?(Ii(u.e,h),u.K=null):u.K=h;h=b.e;h.e?(Ji(h.e,l),h.A=null):h.A=l;l=b.e;l.k&&Di(l.e,e,f);l.O=e;l.zd=
f;b.K||Wl(b.e);e=Number(k);isNaN(e)||(f=b.e,(k=f.e)?xi(k,"acl",f.Lc,e):f.Aa=e);c&&(e=b.e,e.e?(Fi(e.e,c),e.l=null):e.l=c)}b.k&&$h(b.k,"mml",E()-a)}}else if(1==this.k&&this.i&&$h(this.i,"fmpdr",this.g),b=this.j,f=new Pn(a.si,a.sci,a.sc),!b.g||!b.g.e()){if(null==b.l)throw Error("Revision was not defined");k=b.F;e=b.l;a=b.e||void 0;l=f.e;l=(c=""==l)?k.e:k.g+l;k=f.g;E();f=hh(f.i);E();if(a)if(e=new kh(e,f,l,k),c=c&&0==k,a.v)!a.w||a.i.log(Error("If the proxy has been discarded, the command queue must be null"));
else{if(e.R()!=Ll(a))throw Error("Expected batch revision of "+Ll(a)+", but got "+e.R());a=a.w;c&&(a.e=[],a.g=!0);a.e.push(e)}N(b,new Cn(new dh(f),b.l));b.n++}this.k++};Rn.prototype.B=function(){this.e=!0;this.I()};Rn.prototype.v=function(){this.e||(In(this.j,!0),this.l())};function Sn(a,b,c){switch(a){case 3:var d="Request returns too much data";break;case 2:d="Missing chunks";break;default:d="Unknown server error"}b&&(d+=": "+b);Ia.call(this,d);this.e=a;this.g=!!c}F(Sn,Ia);Sn.prototype.docs_permanent_error_checker_817115=!0;Sn.prototype.Ic=n("g");function Tn(a){this.e=a?yb(a):{};this.g=null}function Un(){var a=Zg().get("info_params");A(a)?a=JSON.parse(a):(a=Zg(),a=ch(a,"info_params"));return new Tn(a)};function Vn(a){L.call(this);this.U=new Rb;this.A=a||null;this.g=!1;this.w=this.e=null;this.H="";this.j=0;this.k=this.F=this.o=this.D=!1;this.n=0;this.v=null;this.l="";this.K=this.O=!1}F(Vn,L);var Wn=/^https?$/i,Xn=["POST","PUT"],Yn=[];q=Vn.prototype;q.Wd=function(){this.W();Wa(Yn,this)};
q.S=function(a,b,c,d){if(this.e)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);b=b?b.toUpperCase():"GET";this.H=a;this.j=0;this.D=!1;this.g=!0;this.e=this.A?this.A.g():La.g();this.w=this.A?Ka(this.A):Ka(La);this.e.Xb=D(this.Bd,this);try{this.F=!0,this.e.open(b,String(a),!0),this.F=!1}catch(f){Zn(this);return}a=c||"";var e=this.U.Q();d&&Zb(d,function(a,b){e.set(b,a)});d=Ta(e.la());c=v.FormData&&a instanceof v.FormData;!(0<=Oa(Xn,b))||d||c||e.set("Content-Type",
"application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.e.Nd(b,a)},this);this.l&&(this.e.gg=this.l);"withCredentials"in this.e&&this.e.pf!==this.O&&(this.e.pf=this.O);try{$n(this),0<this.n&&((this.K=ao(this.e))?(this.e.timeout=this.n,this.e.ontimeout=D(this.qd,this)):this.v=Ef(this.qd,this.n,this)),this.o=!0,this.e.S(a),this.o=!1}catch(f){Zn(this)}};function ao(a){return Rc&&gd(9)&&pa(a.timeout)&&x(a.ontimeout)}function Ua(a){return"content-type"==a.toLowerCase()}
q.qd=function(){"undefined"!=typeof goog&&this.e&&(this.j=8,N(this,"timeout"),this.Ja(8))};function Zn(a){a.g=!1;a.e&&(a.k=!0,a.e.Ja(),a.k=!1);a.j=5;bo(a);co(a)}function bo(a){a.D||(a.D=!0,N(a,"complete"),N(a,"error"))}q.Ja=function(a){this.e&&this.g&&(this.g=!1,this.k=!0,this.e.Ja(),this.k=!1,this.j=a||7,N(this,"complete"),N(this,"abort"),co(this))};q.z=function(){this.e&&(this.g&&(this.g=!1,this.k=!0,this.e.Ja(),this.k=!1),co(this,!0));Vn.G.z.call(this)};
q.Bd=function(){this.q()||(this.F||this.o||this.k?eo(this):this.Rc())};q.Rc=function(){eo(this)};function eo(a){if(a.g&&"undefined"!=typeof goog&&(!a.w[1]||4!=fo(a)||2!=a.$()))if(a.o&&4==fo(a))Ef(a.Bd,0,a);else if(N(a,"readystatechange"),4==fo(a)){a.g=!1;try{go(a)?(N(a,"complete"),N(a,"success")):(a.j=6,bo(a))}finally{co(a)}}}function co(a,b){if(a.e){$n(a);var c=a.e,d=a.w[0]?ta:null;a.e=null;a.w=null;b||N(a,"ready");try{c.Xb=d}catch(e){}}}
function $n(a){a.e&&a.K&&(a.e.ontimeout=null);a.v&&(Bf.clearTimeout(a.v),a.v=null)}function go(a){var b=a.$();a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.H).match(bc)[1]||null,!a&&v.Uc&&v.Uc.location&&(a=v.Uc.location.Yb,a=a.substr(0,a.length-1)),b=!Wn.test(a?a.toLowerCase():"");c=b}return c}function fo(a){return a.e?a.e.sa:0}q.$=function(){try{return 2<fo(this)?this.e.Wc:-1}catch(a){return-1}};
function ho(a){try{return a.e?a.e.Hb:""}catch(b){return""}}function io(a){try{if(!a.e)return null;if("response"in a.e)return a.e.Kd;switch(a.l){case "":case "text":return a.e.Hb;case "arraybuffer":if("mozResponseArrayBuffer"in a.e)return a.e.Uf}return null}catch(b){return null}}q.Tb=function(a){if(this.e&&4==fo(this))return a=this.e.Tb(a),null===a?void 0:a};q.Sb=function(){return this.e&&4==fo(this)?this.e.Sb()||"":""};Pd(function(a){Vn.prototype.Rc=a(Vn.prototype.Rc)});function jo(a,b,c,d,e,f,h,l,k,p,r,u,w,B,y,z,M){H.call(this);this.L=a;this.D=b;this.k=d;this.i=new Tk(this);this.j=x(w)?w:null;this.n=l;this.H=k;this.l=r;this.A=p;this.o=B||null;if(null!=this.j&&!this.o)throw Error("Must supply revision HMAC when fetching at revision.");this.v=y||null;this.F=h;this.K=Un();a=pa(z)?z:6E4;this.e=u?u():new Vn;this.g="";0<a&&(this.e.n=Math.max(0,a));this.O=e;this.i.Y(this.e,"readystatechange",this.rf);this.i.Y(this.e,"complete",this.qf);e=D(this.ie,this);u=D(this.Zd,this);
a=D(this.W,this);this.w=new Rn(e,c,f,u,a,M)}F(jo,H);q=jo.prototype;q.rf=function(){if(!this.q())if(null!==this.n&&ho(this.e).length>this.n){J(this.e);var a=new Sn(3,void 0,!0);this.k(a);this.W()}else this.O&&3==fo(this.e)&&go(this.e)&&200==this.e.$()&&(this.g=ho(this.e),a=this.w,a.g=E(),a.e||On(a.q,!1))};
q.qf=function(){if(!this.q()){this.g=ho(this.e);var a=this.w,b=this.e.$(),c="last error code: "+this.e.j;a.e||(404==b||410==b||403==b?(In(a.j,!1),a.l()):200!=b?(b="Model XHR failed with status: "+b,c&&(b+=", "+c),a.B(b)):(a.g=E(),a.e||On(a.q,!0)))}};
q.Zd=function(){var a=this.e.$(),b=this.e.j;a:{if(6==b){if(202==a||401==a||403==a||409==a||421==a||429==a||500<=a&&599>=a&&503!=a&&550!=a||0>=a||405==a||503==a){var c=!1;break a}if(400<=a&&499>=a||550==a){c=!0;break a}}c=!1}var d=new Sn(1,void 0,c);if(6==b&&a)switch(a){case 413:d=new Sn(3,a.toString(),!0);break;default:d=new Sn(1,a.toString(),c)}this.k(d);this.W()};q.ie=n("g");q.z=function(){delete this.g;J(this.i);J(this.e);jo.G.z.call(this)};function ko(a,b,c,d){H.call(this);this.j=a;this.k=b;this.l=c;this.i=d||null;this.e=0;this.g=new Q;I(this,this.g)}F(ko,H);function lo(a,b){a.e++;a.k.ia(b,D(a.n,a),a.i||void 0)}ko.prototype.n=function(){this.e--;0==this.e&&zh(this.g,null)};function mo(){};Fa(g().prototype,Qd.prototype);function no(a,b,c){var d=this;H.call(this);this.k=b;this.A=c;this.e={};this.g={};this.j={};this.i={};this.l={};for(b=0;b<a.length;b++)oo(this,a[b]);a=new ek;I(this,a);fk(a,this.k.g,function(){Pk(d)||zh(d.n,null)});this.n=new Q;I(this,this.n);this.o=new Q;I(this,this.o);this.w=new Q;I(this,this.w);this.v=new Q;I(this,this.v)}F(no,H);no.prototype.add=function(a){oo(this,a);lo(this.k,[a]);zh(this.o,null)};
function oo(a,b){var c=b.pa(),d=b.wb(),e=ti(b,"oc");if(a.i[c]||d&&a.i[d]||e&&a.i[e])throw Error("Adding existing blob metadata.");a.i[c]=b;d&&(a.i[d]=b);e&&(a.i[e]=b);switch(b.$()){case "awaiting-original-url":case "pending":a.e[c]=b;break;case "saved":a.j[c]=b;a.l[c]=d;po(a,d,c,b.$());break;case "failed":a.j[c]=b;a.l[c]="FAILED_IMAGE_UPLOAD";break;default:throw Error("Adding unknown blob type "+b.$());}}function Pk(a){return!xb(a.e)||!xb(a.g)||0<a.k.e}
function Qk(a,b,c){var d=a.g[b];if(!d)throw Error("markAsSaved for blob that was not sending.");S(d,"c",c);sm(d,"saved");a.i[c]=d;po(a,c,b,d.$());qo(a,d,c);zh(a.w,new mo)}function Rk(a,b){b=a.g[b]||a.e[b];if(!b)throw Error("markAsFailed for blob that was not in the queue.");sm(b,"failed");qo(a,b,"FAILED_IMAGE_UPLOAD");zh(a.v,new mo)}function qo(a,b,c){var d=b.pa();a.j[d]=b;a.l[d]=c;a.g[d]&&delete a.g[d];a.e[d]&&delete a.e[d];lo(a.k,[b]);Pk(a)||zh(a.n,null)}
function al(a){if(Pk(a))throw Error("getResolvedBlobIdMap called when there are pending writes.");return yb(a.l)}function ro(a){var b=[];Za(b,ub(a.e));Za(b,ub(a.g));Za(b,ub(a.j));return b}function po(a,b,c,d){0==b.indexOf("PLACEHOLDER_")&&so(a.A,Error("Resolved Cosmo ID "+b+" for placeholder ID "+c+" is still a placeholder. Status: "+d))};function to(a,b,c,d){var e=wj(),f=uo(b,a,d);f?vo(b.e.kc(),a,function(a){V(e,new no(a,f,c))},d):V(e,null);return e}function uo(a,b,c){var d=a.e.kc();return d?new ko(b,a,d,c):null};function wo(a){this.g=a;this.e=new Kn}function xo(a,b,c,d,e){if(0==b.length)throw Error("Cannot send an empty message to the server.");if(!pa(d)||0>d)throw Error("Cannot send an invalid revision number to the server: "+d);d=["rev",d];if(0<b.length){for(var f=[],h=0;h<b.length;h++)f.push(yo(a.g,b[h]));d.push("bundles");d.push(a.e.stringify(f))}xb(c)||(d.push("blobIdMap"),d.push(a.e.stringify(c)));e&&(d.push("syncReason"),d.push(e));return d};function zo(a,b,c){K.call(this,a,c);this.g=b}F(zo,K);function Ao(a,b,c){zo.call(this,"c",a,c)}F(Ao,zo);function Bo(){L.call(this)}F(Bo,L);function Co(a,b,c){K.call(this,"d",c);this.g=a}F(Co,K);function Do(a,b){K.call(this,"v");this.i=a;this.g=b}F(Do,K);function Eo(){H.call(this);this.e=Fo;this.i=new Q;I(this,this.i);this.g=new Q;I(this,this.g)}F(Eo,H);function Go(a,b,c){var d=a.e;b!=d&&(a.e=b,zh(a.g,new Do(d,b,c)))}function Ho(a,b){this.g=a;this.e=b}
var Fo=new Ho("IDLE",1),Io=new Ho("BUSY",1),Jo=new Ho("RECOVERING",2),Ko=new Ho("OFFLINE",3),Lo=new Ho("SERVER_DOWN",3),Mo=new Ho("FORBIDDEN",4),No=new Ho("AUTH_REQUIRED",4),Oo=new Ho("SESSION_LIMIT_EXCEEDED",4),Po=new Ho("INCOMPATIBLE_SERVER",5),Qo=new Ho("CLIENT_ERROR",5),Ro=new Ho("SAVE_ERROR",5),So=new Ho("BATCH_SAVE_ERROR",3);Ho.prototype.toString=n("g");function To(a,b,c,d,e,f,h,l,k){L.call(this);this.w=a;this.l=b;this.n=c;this.k=f;this.o=x(h)?h:3;this.j=k;this.v=l||Ro}F(To,Bo);To.prototype.g=!1;To.prototype.e=!0;
function $k(a,b,c,d,e){if(a.g)return!1;a.g=!0;a.e=0<b.length;b=xo(a.k,b,c,d,e);c=a.e?fb(a.v):jb;b=Uo(Kj(Vo(Wo(Mj(Nj(Xo(Ij(Jj(a.n,"/save"),"id",a.l),b),function(b){b=Oj(b);a.g=!1;if(b&&!xb(b)){a.e=!1;var c=b.revisionRanges;if(!c||!va(c)||0>=c.length)throw Error("processCommandBatchesRequestSuccessResponse_: response did not include a non-empty array of revision ranges "+c);for(var d=[],e=-1,f=0;f<c.length;f++){var r=c[f];if(!r||2!=r.length)throw Error("processCommandBatchesRequestSuccessResponse_: invalid  revision range "+
r);var u=r[0];r=r[1];if(null==u)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include a start");if(null==r)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include an end");if(r<u)throw Error("processCommandBatchesRequestSuccessResponse_: expected range end ("+r+") < expected range start ("+u+")");if(u<=e||r<=e)throw Error("processCommandBatchesRequestSuccessResponse_: out of order ranges or overlapping "+c);e=r;d.push(new oh(u,r))}N(a,new Co(d,b.additionalInfo))}else{if(a.e)throw Error("handleCommandBatchesRequestSuccess_: Got unexpected empty response after sending command batches.");
N(a,"d")}}),function(b){a.g=!1;var c=a.e;a.e=!1;N(a,new Ao(b,c))}),c)),a.o));if(a.w){if(!b.I)throw Error("Cannot add session data to request when session data not defined.");b.g=lc(b.g,b.I.e())}null!=a.j&&b.setTimeout(a.j);Lj(b);return!0};function Yo(a){this.e=a;this.g=P(Zg(),"docs-localstore-epqwr")}function yo(a,b){for(var c=b.na(),d=[],e=0;e<c.length;e++)d.push(Lk(c[e]));if(a.g){e={};for(var f=0;f<d.length;f++){var h=c[f].e,l=e,k=JSON.stringify(d[f]);if(k=ph(k))l[h]||(l[h]=""),l[h]+=k}if(!xb(e)){c={};f="{";for(var p in e)f+='"'+p+'": "'+e[p]+'" ; ';c.malformedCommands=f+"}";a.e.T(Error("Malformed characters exist in command bundle after being serialized"),c)}}a={};a.commands=d;a.sid=b.Ma;a.reqId=b.getRequestId();return a};function Zo(a,b,c,d,e,f,h,l,k,p,r,u,w,B,y,z,M,oa,ja,Va,sa,wa,rc,ob,ve,gb,wu,xu){Hk.call(this,a,b,Bi(p));this.Ra=c;this.Va=d;if(null==f)throw Error("Must specify a session ID in order to save changes.");this.K=e;this.Wa=f;this.H=new Kk;this.ta=new wo(new Yo(this.n));this.n=h;this.Ua=l;this.k=k;this.g=p;this.U=wj();this.e=new Kl(h,Bi(p),void 0,xu,[this.U]);this.e.Ta=!0;a=D(this.Qa,this);this.e.Ed=a;this.gb=Va;this.Ba=sa||null;P(Zg(),"docos-eos");this.Aa=rc||null;this.F=!!ob;this.L=new Tk(this);this.v=
this.l=null;this.Sa=z;this.ua=ja;if(!gb)throw Error("We can't deliver local changes without a blob transporter");this.ka=gb||null;this.j=null;this.w=r;this.V=u;if(null!=this.w&&!this.V)throw Error("Must supply revision HMAC when syncing at revision.");this.A=w;this.ja=B;this.O=y;this.Za=ve;this.Ta=wu||null;this.D=!1;this.Xa=M;this.Ca=oa}F(Zo,Hk);q=Zo.prototype;
q.jf=function(a){if(0>=a.length)this.ha(8,"Could not read local store: No opted in user.");else{var b=this.e,c=this.g;a=a[0].e.id;b.Ca=this.k;b.e=c;b.Lc=a;Sl(this.e);b=this.e;1==b.Hc.e&&(b.g&&(c=b.g,a=b.i,c.j&&(c.j=!1,a.T(Error("Clearing already saved pending queue."),{sentBundlesSavedRevision:si(c,"sentBundlesSavedRevision"),queueRevision:c.R()}),El(c)),b.g.J()&&ml(b,1)),V(b.Hc,null));Ml(this.e);b=this.o;null!=this.w?this.Db():$o(this.k.e.v,b,D(this.Ee,this),D(this.Qa,this))}};
q.Ee=function(a){1!=a?this.ha(3,"Unable to acquire the storage lock"):this.A?bj(ql(this.g,this.K,this.n),D(this.ue,this),D(this.we,this)):ui(this.g,"inc")?this.ha(11,"Skipping document because it is not known to exist on the server"):this.Db()};q.we=function(){this.ha(7,"Could not create document.")};q.ue=function(){var a=D(this.df,this);ui(this.g,"inc")?(Wl(this.e),oj(Ml(this.e),a)):a()};
q.df=function(){var a=this;oj(to(this.o,this.k,this.n,D(this.Qa,this)),function(b){var c=D(a.Fd,a,D(a.Xd,a),D(a.Db,a));b?(a.j=b,U((new Ok(a.j,a.ka,a.n)).S(),c)):c()})};q.Fd=function(a,b){var c=this,d=zn(this.e,this.Wa,this.k,this.n,D(this.He,this),Bi(this.g),Ci(this.g),this.H);d?Si(d,function(b){c.l=b;a()},function(a){a?c.Qa(a):c.ha(9,"Could not retrieve pending command queue.")}):b&&b()};q.He=g();
q.Db=function(){var a=this.o,b=new Hn(a,this.Ua,this.e,this.Ba||void 0,this.Aa||void 0,ap(this));this.L.Y(b,"m",this.Fe).Y(b,"u",this.Qe);var c=new jo(this.Ra+"/d/"+a,this.Va,b,D(this.ud,this),!1,!0,this.O,this.Ta,this.Xa,this.ua,this.Ca,this.gb,null==this.w?void 0:this.w,this.V||void 0,void 0,this.Za);this.D=!0;Yl(this.e);oj(Ml(this.e),function(){var a=v.location.href.match(bc),b={};b.reason=c.F;b.smv=c.H;null!==c.l&&(b.fcs=c.l);c.v&&(b.sid=c.v);null!=c.j&&(b.osr=c.j,b.rhmac=c.o);c.A&&(b.mmv=1);
Bb(b,c.K.e);b=jc(b);c.e.S(ac(a[1],void 0,a[3],a[4],c.L+c.D,b))})};function ap(a){if(!a.j)return{};var b=al(a.j),c={},d;for(d in b)b=a.j,(b.e[d]||b.g[d]||b.j[d]||null).getUrl()&&(c[d]=new Qj(d,null,"image"));return c}
q.Xd=function(){var a=this.l;if(dl(a))this.ha(5,"pending command queue is undeliverable.");else if(Yk(a)){a.e||Vl(a.i,Error("Cannot initialize queue without a record"));var b=a.e.R();0>b&&(vn(a),Vl(a.i,Error("Cannot initialize queue without a real pending queue revison.")));var c=vi(a.e,"revisionAccessInfo");var d=zi(c);a.wd=!0;a.D=b;a.e||Vl(a.i,Error("Cannot initialize queue without a record"));var e=a.e.R();a.F=a.e.J();vn(a);if(e==b){if(pi(a.e,"selection")&&a.Aa)throw gg("Unexpected call - fromCommand").e;
}else zl(a.e,null);b<e&&!a.e.J()&&Vl(a.i,Error("Can't apply pending changes because local pending queue revision is ahead of model revision with a non-empty queue"));c=P(Zg(),"icso");var f=Oi(a.g.e);f=null!==f&&3==f;var h=!1;c||!f||a.e.J()||(b>e?h=a.e.j=!0:b==e&&a.i.T(Error("Model revision is equal to queue revision while warm starting with a non-empty saved queue")));a.i.g.pendingQueue_forcedEmptyInMemory=h.toString();a.e.J()&&(jl(a.e,b,d),null!==a.k&&S(a.e,"accessLevel",a.k));b>e&&c&&!a.e.J()&&
(b=Error("Model revision is ahead of queue revision while cold starting with a non-empty queue"),dl(a)?a.i.T(b):Vl(a.i,b));b=!1;c&&f&&!a.e.J()&&(b=!0,qn(a));a.i.g.pendingQueue_setWaitingForAck=b.toString();a.H[a.Ba]=!0;c=Gl(a.e).concat(Hl(a.e));for(b=0;b<c.length;b++)a.H[c[b].Ma]=!0;zh(a.O,null);fl(a)||zh(a.o,null);this.v=new Xk(this.l,this.j,new To(!1,Bi(this.g),this.K,this.H,new jh,this.ta,2,So),this.O);bj(this.v.S(),D(this.Db,this),D(this.Ie,this))}else this.Db()};
q.Ie=function(a){var b=this;if(this.F&&!dl(this.l)){var c=function(){bp(b,a)};Si(pl(this.l),c,c)}else bp(this,a)};function bp(a,b){b.g?a.ha(5,"Permanent failure while delivering the pending command queue"):b.e?a.Qa(b.e):a.ha(6,"Temporary failure while delivering the pending command queue")}
q.Fe=function(){var a=[];this.v&&cl(this.v);Xl(this.e,!0);Zl(this.e);V(this.U,null);var b=jj(this.e.Va);a.push(b);a.push(cp(this));U(new Mk(a),D(this.De,this));(a=this.k.e.ld())&&dp(a,[this.o],D(g(),this),D(function(a){this.n.log(a)},this))};function cp(a){if(!a.A||!a.j||!ro(a.j).length)return hj();var b=new T,c=ro(a.j),d=a.j;a=D(a.ef,a,b,c);d.e={};d.g={};d.j={};d.l={};d.i={};d=d.k;ep(d.l,d.j,a,d.i||void 0);return b}
q.ef=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=ti(b[d],"ou");e&&c.push(Wj(this.Sa,e))}Si(sj(c,!1),function(){return a.e(null)},function(b){return a.errback(b)})};q.Qe=function(a){switch(a.g){case 1:this.ud(new Sn(2));break;case 2:this.ha(2,"Entity sync failed");break;case 3:this.ja?fp(this,!1):this.ha(13,"Server model fetch failed");break;default:this.ha(7,"Unknown server document loader error")}};
q.ud=function(a){if(this.F)fp(this,!0);else switch(a.e){case 3:this.ha(14,a.message);break;default:this.ha(a.Ic()?12:7,a.message)}};function fp(a,b){var c=a.e;c.v=!0;c.l=null;c.D=null;c.w=null;a.A?gp(a,b):a.Fd(D(a.Ye,a,b))}q.Ye=function(a){var b=this;Yk(this.l)?Si(pl(this.l),hp(this,a),function(a){b.Qa(a)}):dl(this.l)||gp(this,a)};function gp(a,b){b=hp(a,b);a.g.I?b():(oi(a.g),a.k.ia([a.g],b,D(a.Qa,a)))}function hp(a,b){return b?D(a.ha,a,7,"Server model fetch failed"):D(a.Qd,a)}q.De=function(){this.Qd()};
q.Qa=function(a){if(2==a.type){var b=3;a="Write failed due to lock steal: "+dg.prototype.i.call(a)}else b=ei(a),(b=!!b&&"QuotaExceededError"==b.name)||(b=ei(a),b=1==a.type&&!!b&&"UnknownError"==b.name),b=b?8:9,a="Could not write document to local store: "+dg.prototype.i.call(a);this.ha(b,a)};q.ha=function(a,b){kf(ip(this),function(){this.q()||this.ab(new Gk(this.o,a,b))}.bind(this))};
function ip(a){return a.D?new We(D(function(a,c){jp(this.k.e.e,Bi(this.g),D(function(b){b?(b.Jb(!1),b.Ib(E()),this.k.ia([b],a,c)):a()},this),c)},a)):bf()}q.Qd=function(){this.e.e.za?this.ea():(Xl(this.e,!1),this.D&&(this.e.Jb(!0),this.e.Ib(E())),oj(Ml(this.e),D(this.ea,this)))};q.z=function(){J(this.L);J(this.v);Zo.G.z.call(this)};function kp(a,b,c,d,e,f,h,l,k,p,r,u,w,B,y,z,M){H.call(this);this.F=a;this.e=b;this.w=d;this.n=(this.H=e)?M||new Rj:null;this.i=f;this.g=h;this.v=l;this.k=k;this.j=p;this.K=r;this.A=u;this.o=w;this.l=B;this.D=y;this.L=z}F(kp,H);
function lp(a,b,c,d){var e=[];"ritz"==Ci(d)&&e.push(new Sj);a.i&&e.push(new Dj(a.i));e=e.length?new Tj(e):void 0;var f=Bi(d),h=new Vj(a.v);f=new sk(f,a.k,a.j,new Ej(f,a.e,a.j),a.e,a.g);return new Zo(b,c,a.F,"/model",a.e,mh(),a.g,new lh(a.D,a.L),a.w,d,null,null,!0,!0,2,h,a.A,a.o,a.l,void 0,a.H||void 0,void 0,a.n||void 0,void 0,6E5,f,a.K?ah("docs-offline-mobile-mms")||void 0:void 0,e)};function mp(a,b,c,d){this.e=a;this.j=b;this.g=c||-1;this.i=d||""}mp.prototype.getRequestId=n("e");mp.prototype.getSyncResult=n("j");mp.prototype.getMessageType=n("g");mp.prototype.getMessage=n("i");function np(a,b){this.g=a;this.e=b}function op(a){var b=gf(),c=a.g.e.eb();c||b.e("Could not get TemplateCapability");pp(c,a.e,function(a){b.resolve(a)},function(a){b.e(di(a))});return b.g};function Dk(a){yk(this,a,0,qp)}F(Dk,wk);var qp=[11,12,22,20];function rp(a){yk(this,a,0,sp)}F(rp,wk);var sp=[1,2];function tp(a,b,c){H.call(this);this.j=a;this.k=b;this.e=c?c():new Vn;this.i=new Tk(this);this.i.Y(this.e,"readystatechange",this.l);this.g=gf()}F(tp,H);function up(a){var b=v.location.href.match(bc);a.e.S(ac(b[1],void 0,b[3],b[4],a.j+"/templatemetadata",a.k?"ulmi=1":void 0));return a.g.g}tp.prototype.l=function(){4==fo(this.e)&&(go(this.e)?this.g.resolve(Ck(new rp(Mn(ho(this.e))))):this.g.e("Failed fetching server templates"))};tp.prototype.z=function(){J(this.i);J(this.e);tp.G.z.call(this)};function vp(a,b,c){H.call(this);this.k=a;this.l=b;this.e=c?c():new Vn;this.g=new Tk(this);this.g.Y(this.e,"readystatechange",this.n);this.j=gf()}F(vp,H);vp.prototype.i=function(){var a=v.location.href.match(bc),b=ic(["templateid",this.k]);this.e.S(ac(a[1],void 0,a[3],a[4],this.l+"/templatemodeldata",b));return this.j.g};vp.prototype.n=function(){4==fo(this.e)&&go(this.e)&&200==this.e.$()&&this.j.resolve(ho(this.e))};vp.prototype.z=function(){J(this.e);J(this.g);vp.G.z.call(this)};function wp(a,b){this.g=a;this.e=b}wp.prototype.i=function(){return new We(function(a,b){""!=this.e.e.isThumbnailReady?a():xp(this.g,new Qj(this.e.e.id,this.e.e.thumbnailUrl,"thumbnail"),D(function(c){0<c.qb||0<c.cb?b("Thumbnail syncing failed"):(R(this.e,"isThumbnailReady",!0),a())},this))},this)};function yp(a,b,c,d){H.call(this);this.j=a;this.i=b;this.k=c;this.e=d}F(yp,H);function zp(a,b){var c=a.e.I?a.g(!1):bf();c=c.then(function(){return(new wp(this.i,this.e)).i()},void 0,a);b&&(c=c.then(a.l,void 0,a));return c.then(D(a.g,a,b))}yp.prototype.l=function(){var a=new vp(this.e.e.id,this.k);I(this,a);return a.i().then()};yp.prototype.g=function(a){a&&(R(this.e,"isReady",!0),R(this.e,"isDirty",!1));return new We(function(a,c){this.j.ia([this.e],a,c)},this)};function Ap(a,b,c,d){this.g=a;this.l=b;this.i=c;this.e=d}function Bp(a){return Cp(a).then(D(a.q,a)).then(D(a.j,a)).then(D(a.k,a))}function Cp(a){return new We(function(a,c){R(this.e,"isReady",!1);this.g.ia([this.e],a,c)},a)}Ap.prototype.q=function(){return new We(function(a,b){Dp(this.l,[["templates"],"thumbnail"],this.e.e.id,a,b)},this)};
Ap.prototype.j=function(){return new We(function(a,b){if(this.i){var c=this.i,d=["templates",this.e.e.id];a=new Ep(a);b=new Fp(D(c.vb,c,b));c.e.removeDirectory(Gp(d),d,a,b)}else a()},this)};Ap.prototype.k=function(){return new We(function(a,b){Hp(this.g.e.eb(),this.e.e.id,a,b)},this)};function Ip(a,b,c,d,e,f,h,l,k,p){H.call(this);this.g=a;this.w=[b,c];this.o=d;this.v=e;this.j=new tp(e,!!p);this.i=new np(a,f);this.n=f;this.l=h;this.e=x(k)?k:null}F(Ip,H);Ip.prototype.k=function(){return Jp(this)};function Jp(a){var b=up(a.j),c=op(a.i);return ff([b,c]).then(function(a){for(var b=0;b<a.length;b++)if(!a[b].pd)return!1;return Kp(this,a[0].value,a[1].value).then(ib,hb)},hb,a)}
function Kp(a,b,c){for(var d=[],e=[],f=0;f<b.length;f++){var h=W(b[f],5);if(c[h]){var l=c[h];W(b[f],6)>l.e.lastModifiedTimestamp&&(null==a.e||a.e>=W(b[f],19))?(Lp(a,l,b[f]),e.push(l)):""!=l.e.isThumbnailReady||e.push(l);delete c[h]}else(null==a.e||a.e>=W(b[f],19))&&e.push(Mp(a,b[f]))}for(f=0;f<e.length;f++)d.push(zp(new yp(a.g,a.o,a.v,e[f]),!1));d.push(ef(a.w).then(function(a){var b=[],d;for(d in c)b.push(Bp(new Ap(this.g,a[0],a[1],c[d])));return ff(b).then(function(){return ef(b)})},void 0,a));return ff(d).then(function(){return ef(d).then()})}
function Mp(a,b){var c=W(b,5),d=W(b,1),e=Bk(b,2),f=Bk(b,3),h=W(b,4),l=W(b,7),k=400>=a.l?W(b,8):W(b,9),p=W(b,6),r=Ak(b,12),u=W(b,14),w=W(b,15);b=W(b,17);return new Om(c,d,e,f,h,l,k,a.n,p,r,u,w,b,!1,!1,!0,!0)}
function Lp(a,b,c){var d=W(c,1);S(b,"title",d);d=Bk(c,2);S(b,"style",d);d=Bk(c,3);S(b,"category",d);d=W(c,4);S(b,"locale",d);d=W(c,7);S(b,"creator",d);a=400>=a.l?W(c,8):W(c,9);S(b,"thumbnailUrl",a);a=W(c,6);S(b,"lastModifiedTimestamp",a);a=Ak(c,12);S(b,"fontFamilies",a);a=W(c,14);S(b,"brandedAuthor",a);a=W(c,15);S(b,"brandedUrl",a);c=W(c,17);S(b,"masterTemplate",c);R(b,"isThumbnailReady",!1);R(b,"isDirty",!0)}Ip.prototype.z=function(){J(this.i);J(this.j);Ip.G.z.call(this)};function Np(){H.call(this)}F(Np,H);Np.prototype.k=function(){return bf(!0)};function Op(a,b){this.g=a;this.e=b}q=Op.prototype;q.Q=function(){return new Op(this.g,this.e)};q.Ud=function(){return this.g*this.e};q.J=function(){return!this.Ud()};q.ceil=function(){this.g=Math.ceil(this.g);this.e=Math.ceil(this.e);return this};q.floor=function(){this.g=Math.floor(this.g);this.e=Math.floor(this.e);return this};q.round=function(){this.g=Math.round(this.g);this.e=Math.round(this.e);return this};function Pp(a,b,c,d,e,f,h,l,k,p,r,u,w,B){H.call(this);this.i=a;this.l=b;this.A=c;this.H=d;this.e=e;this.g=f;this.w=h;this.k=l;this.n=k;this.j=p;this.v=r;this.D=u;this.o=w;this.F=B}F(Pp,H);q=Pp.prototype;q.syncEditorMetadata=function(a,b){var c=D(this.Re,this,a),d=this.A;a=this.i;if(a.e.db()){var e=b||null;b=d.g;var f=D(d.i,d,a,c,e);d=D(d.i,d,a,c,e,null);(c=a.e.db())?(a=D(b.k,b,a,f,d),f=D(b.i,b,d),c.k.getUnusedDocumentIdCount(b.e,new Qp(a),Rp(f))):f(0)}else c(0,!0)};
q.Re=function(a,b,c){b=c&&null!=b;this.e.onSyncResult2(new mp(a,b?0:1,null,b?null:"Error syncing metadata."))};q.syncSyncObjects=function(a){if(this.k)this.k.i(D(this.Se,this,a));else this.e.onSyncResult2(new mp(a,0,null,null))};q.Se=function(a,b,c){this.e.onSyncResult2(new mp(a,c?1:0,null,c||null))};
q.syncWebFonts=function(a,b,c,d){if(this.w){var e=this.w,f=D(this.vd,this,a);a=D(this.Te,this,a);for(var h=[],l={},k=Dh(),p=0;p<c.length;p++){var r=Kh(c[p],k);h.push(r);l[r.e]=!0}c=[];for(k=0;k<h.length;k++)c.push(new Sp(h[k].e,h[k].g));Tp(c);P(Zg(),"docs-emfms")&&(h=Up(vb(l),"menu"),Za(c,h));b?Vp(e.g,D(e.e.jd,e.e,c,d,f,a),a):e.e.jd(c,d,f,a)}else this.vd(a)};q.vd=function(a){this.e.onSyncResult2(new mp(a,0,null,null))};q.Te=function(a,b){this.e.onSyncResult2(new mp(a,1,null,b.message))};
q.syncDocument=function(a,b){b=D(this.kf,this,b,a);jp(this.l,a,b)};q.kf=function(a,b,c){c||(c=fm(this.l,b,this.g),R(c,"hpmdo",!0));var d=lp(this.H,function(){d&&d.W();this.e.onSyncResult2(new mp(a,0,null,null))}.bind(this),function(b){d&&d.W();var c=b.Ic()?2:1,e={};e["document-sync-error-type"]=b.Cc;e["document-sync-error-message"]=b.message;this.D.T(Error("Document sync error"),e);this.e.onSyncResult2(new mp(a,c,b.Cc,b.message))}.bind(this),c);d.i()};
function Wp(a,b,c,d){var e=1,f=1;b=new Op(b,c);switch(a.g){case "kix":e=d?4:3;f=d?5:4;break;case "punch":case "ritz":e=d?4:2,f=d?5:4}return Math.ceil(Math.max(Math.min(b.g,b.e)/e,Math.max(b.g,b.e)/f))}q.syncTemplatesWithThumbnails=function(a,b,c,d){Xp(this,a,b,c,d)};q.syncTemplatesWithThumbnailsAtModelVersion=function(a,b,c,d,e,f){Xp(this,a,b,c,d,f)};
function Xp(a,b,c,d,e,f){Yp(a)?(c=Wp(a,c,d,e),f=new Ip(a.i,bf(a.n),bf(null),a.j,a.v,a.g,c,a.o,f,a.F)):f=new Np;a=D(function(a,b,c){Zp(this,a,c);b.W()},a,b,f);f.k().then(a)}q.syncTemplateModelAndResources=function(a,b){Yp(this)?$p(this.i.e.eb(),b,D(function(a,b){b?(b=new yp(this.i,this.j,this.v,b),zp(b,!0).then(ib,hb).then(D(function(a,b,c){Zp(this,a,c);b.W()},this,a,b))):Zp(this,a,!1,"Template does not exist")},this,a),D(function(a,b){Zp(this,a,!1,di(b))},this,a)):Zp(this,a,!1,"Localstore does not support templates")};
function Zp(a,b,c,d){a.e.onSyncResult2(new mp(b,c?0:1,null,d||null))}function Yp(a){return!(!(a.j&&a.o&&a.n)||"kix"!=a.g&&"punch"!=a.g&&"ritz"!=a.g)}q.z=function(){Rd(this.i,this.A,this.k);Pp.G.z.call(this)};function aq(a,b){this.e=[];this.g=b;for(var c=!0,d=a.length-1;0<=d;d--){var e=a[d]|0;c&&e==b||(this.e[d]=e,c=!1)}}var bq={};function cq(a){if(-128<=a&&128>a){var b=bq[a];if(b)return b}b=new aq([a|0],0>a?-1:0);-128<=a&&128>a&&(bq[a]=b);return b}function dq(a){if(isNaN(a)||!isFinite(a))return eq;if(0>a)return fq(dq(-a));for(var b=[],c=1,d=0;a>=c;d++)b[d]=a/c|0,c*=4294967296;return new aq(b,0)}var eq=cq(0),gq=cq(1),hq=cq(16777216);
function iq(a){if(-1==a.g)return-iq(fq(a));for(var b=0,c=1,d=0;d<a.e.length;d++){var e=jq(a,d);b+=(0<=e?e:4294967296+e)*c;c*=4294967296}return b}q=aq.prototype;q.toString=function(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(kq(this))return"0";if(-1==this.g)return"-"+fq(this).toString(a);for(var b=dq(Math.pow(a,6)),c=this,d="";;){var e=lq(c,b);c=mq(c,nq(e,b));var f=((0<c.e.length?c.e[0]:c.g)>>>0).toString(a);c=e;if(kq(c))return f+d;for(;6>f.length;)f="0"+f;d=f+d}};
function jq(a,b){return 0>b?0:b<a.e.length?a.e[b]:a.g}function kq(a){if(0!=a.g)return!1;for(var b=0;b<a.e.length;b++)if(0!=a.e[b])return!1;return!0}q.oa=function(a){if(this.g!=a.g)return!1;for(var b=Math.max(this.e.length,a.e.length),c=0;c<b;c++)if(jq(this,c)!=jq(a,c))return!1;return!0};function oq(a,b){a=mq(a,b);return-1==a.g?-1:kq(a)?0:1}function fq(a){for(var b=a.e.length,c=[],d=0;d<b;d++)c[d]=~a.e[d];return(new aq(c,~a.g)).add(gq)}
q.add=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0,e=0;e<=b;e++){var f=d+(jq(this,e)&65535)+(jq(a,e)&65535),h=(f>>>16)+(jq(this,e)>>>16)+(jq(a,e)>>>16);d=h>>>16;f&=65535;h&=65535;c[e]=h<<16|f}return new aq(c,c[c.length-1]&-2147483648?-1:0)};function mq(a,b){return a.add(fq(b))}
function nq(a,b){if(kq(a)||kq(b))return eq;if(-1==a.g)return-1==b.g?nq(fq(a),fq(b)):fq(nq(fq(a),b));if(-1==b.g)return fq(nq(a,fq(b)));if(0>oq(a,hq)&&0>oq(b,hq))return dq(iq(a)*iq(b));for(var c=a.e.length+b.e.length,d=[],e=0;e<2*c;e++)d[e]=0;for(e=0;e<a.e.length;e++)for(var f=0;f<b.e.length;f++){var h=jq(a,e)>>>16,l=jq(a,e)&65535,k=jq(b,f)>>>16,p=jq(b,f)&65535;d[2*e+2*f]+=l*p;pq(d,2*e+2*f);d[2*e+2*f+1]+=h*p;pq(d,2*e+2*f+1);d[2*e+2*f+1]+=l*k;pq(d,2*e+2*f+1);d[2*e+2*f+2]+=h*k;pq(d,2*e+2*f+2)}for(e=0;e<
c;e++)d[e]=d[2*e+1]<<16|d[2*e];for(e=c;e<2*c;e++)d[e]=0;return new aq(d,0)}function pq(a,b){for(;(a[b]&65535)!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++}
function lq(a,b){if(kq(b))throw Error("division by zero");if(kq(a))return eq;if(-1==a.g)return-1==b.g?lq(fq(a),fq(b)):fq(lq(fq(a),b));if(-1==b.g)return fq(lq(a,fq(b)));if(30<a.e.length){if(-1==a.g||-1==b.g)throw Error("slowDivide_ only works with positive integers.");for(var c=gq;0>=oq(b,a);)c=qq(c,1),b=qq(b,1);var d=rq(c,1),e=rq(b,1);b=rq(b,2);for(c=rq(c,2);!kq(b);){var f=e.add(b);0>=oq(f,a)&&(d=d.add(c),e=f);b=rq(b,1);c=rq(c,1)}return d}for(c=eq;0<=oq(a,b);){d=Math.max(1,Math.floor(iq(a)/iq(b)));
e=Math.ceil(Math.log(d)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);f=dq(d);for(var h=nq(f,b);-1==h.g||0<oq(h,a);)d-=e,f=dq(d),h=nq(f,b);kq(f)&&(f=gq);c=c.add(f);a=mq(a,h)}return c}q.and=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0;d<b;d++)c[d]=jq(this,d)&jq(a,d);return new aq(c,this.g&a.g)};q.or=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0;d<b;d++)c[d]=jq(this,d)|jq(a,d);return new aq(c,this.g|a.g)};
q.xor=function(a){for(var b=Math.max(this.e.length,a.e.length),c=[],d=0;d<b;d++)c[d]=jq(this,d)^jq(a,d);return new aq(c,this.g^a.g)};function qq(a,b){var c=b>>5;b%=32;for(var d=a.e.length+c+(0<b?1:0),e=[],f=0;f<d;f++)e[f]=0<b?jq(a,f-c)<<b|jq(a,f-c-1)>>>32-b:jq(a,f-c);return new aq(e,a.g)}function rq(a,b){var c=b>>5;b%=32;for(var d=a.e.length-c,e=[],f=0;f<d;f++)e[f]=0<b?jq(a,f+c)>>>b|jq(a,f+c+1)<<32-b:jq(a,f+c);return new aq(e,a.g)};mq(qq(gq,32),gq);cq(65535);mq(qq(gq,128),gq);G("Macintosh")||Nc()||G("iPad")||G("iPod");function sq(){}sq.prototype.e=function(){if(window.zf("This error has been reported to Google and we'll look into it as soon as possible. Please reload this page to continue.")){var a=window;a.Xf=ta;a.location.fg()}};function tq(a){Ia.call(this,a)}F(tq,Ia);Fa(g().prototype,Qd.prototype);function uq(){this.g=0;this.e=[]}q=uq.prototype;q.add=function(a){var b=this.e[this.g];this.e[this.g]=a;this.g=(this.g+1)%50;return b};q.get=function(a){a=vq(this,a);return this.e[a]};q.set=function(a,b){a=vq(this,a);this.e[a]=b};q.P=function(){return this.e.length};q.J=function(){return 0==this.e.length};q.N=function(){var a=this.P(),b=this.P(),c=[];for(a=this.P()-a;a<b;a++)c.push(this.get(a));return c};q.la=function(){for(var a=[],b=this.P(),c=0;c<b;c++)a[c]=c;return a};
q.Da=function(a){for(var b=this.P(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1};function wq(a){return 0==a.P()?null:a.get(a.P()-1)}function vq(a,b){if(b>=a.e.length)throw Error("Out of bounds exception");return 50>a.e.length?b:(a.g+Number(b))%50};function xq(a){this.i=a;this.g=Math.floor(a/50);this.e=new uq}xq.prototype.get=function(a){return yq(this,a,function(a,c){return a+c.g})};function yq(a,b,c){b=b||E();zq(a,b);var d=0;b=a.g*(Math.floor(b/a.g)+1)-a.i;for(var e=a.e.P()-1;0<=e;--e){var f=a.e.get(e);if(f.e<=b)break;d=c(d,f)}return d}function zq(a,b){var c=wq(a.e);c&&b<c.e-a.g&&(a=a.e,a.e.length=0,a.g=0)}function Aq(a){this.e=a}Aq.prototype.g=0;Aq.prototype.min=Number.MAX_VALUE;Aq.prototype.max=Number.MIN_VALUE;function Bq(a,b,c){H.call(this);this.i=a;this.g=b;this.e=new xq(1E3*c)}F(Bq,H);function Cq(a,b){b=null!=b?b:1;return(a.e.get()+b)/(a.e.i/1E3)<=a.g}function Dq(a,b){b=null!=b?b:1;if(!Cq(a,b))throw new tq(Pb("Query would cause ",a.i," to exceed ",a.g," qps."));a=a.e;var c=E();zq(a,c);var d=wq(a.e);if(!d||c>=d.e)d=new Aq(a.g*(Math.floor(c/a.g)+1)),a.e.add(d);d.g+=b;d.min=Math.min(b,d.min);d.max=Math.max(b,d.max)};function Eq(a){H.call(this);this.g=new Vn;this.o=new jk(this.l,3E4,this);this.D=new Bq("errorsender",1,8);I(this,this.D);this.A=!1;this.w=new Set;this.v=new Tk(this);this.K=a||10;this.v.Y(this.g,"complete",this.H);this.v.Y(this.g,"ready",this.l)}F(Eq,H);Eq.prototype.S=function(a,b,c,d){var e=U(U(this.jb(),function(e){e>=this.K||(e={},e.u=a,e.m=b,e.c=c,e.h=d,this.Nb(e))},this),this.l,this);cj(e,function(){this.w.delete(e)},this);this.w.add(e)};
Eq.prototype.l=function(){0!=this.o.e||this.g.e||this.A||Fq(this)};function Fq(a){U(a.ib(),function(a){if(!this.g.e&&0==this.o.e&&!this.A&&a)if(4E3<a.u.length)this.La();else try{Dq(this.D,1),this.g.S(a.u,a.m,a.c,a.h)}catch(c){if(c instanceof tq)this.A=!0;else throw c;}},a)}Eq.prototype.H=function(){var a=this.g.$();go(this.g)||400<=a&&500>=a?this.La():(a=this.o,kk(a),a.e=Ef(a.i,x(void 0)?void 0:a.k))};Eq.prototype.z=function(){Rd(this.v,this.o,this.g);this.w.clear();Eq.G.z.call(this)};function Gq(a,b,c,d,e){Eq.call(this,e);this.n=b;this.j=b+"-f";this.i=b+"-n";this.k=c;this.F=a;this.e=null;this.L=d||Hq;a=this.L.open("DocsErrors",1);a.$e=D(this.ve,this);a.$f=D(this.Ue,this);a.Dd=D(this.rd,this);a.Yf=D(this.rd,this)}F(Gq,Eq);var Hq=v.Qf||v.mg;q=Gq.prototype;
q.ve=function(a){var b=a.ba.Ld,c=Iq(b,"readwrite");U(new Mk([Jq(this.j,c),Jq(this.i,c)]),function(a){null==a[0][1]||null==a[1][1]?(a=c.Qc("Errors"),a.ya({key:this.j,value:"1"}),a.ya({key:this.i,value:"1"}),c.Cd=D(this.fd,this,b)):this.fd(b)},this)};q.fd=function(a){this.e=a;this.l()};q.Ue=function(a){a.ba.lf.Ef.Df("Errors",{keyPath:"key"})};
q.rd=function(a){this.e&&(this.e.close(),this.e=null);var b=a.ba.error,c=b&&b.name;b=b&&b.message||a.ba.webkitErrorMessage;a.ba.docs_internalAbort&&(b="Internal abort: "+b);so(this.F,Error("IdbErrorSender: "+(c+" ("+b+")")))};q.Nb=function(a){if(!this.e)return this.k.Nb(a);var b=Iq(this.e,"readwrite"),c=new T;U(Jq(this.i,b),function(d){if(d){var e=b.Qc("Errors");e.ya({key:this.i,value:String(d+1)});e.ya({key:this.n+"-e-"+d,value:ue(a)});b.Cd=D(c.e,c)}else c.e()},this);return c};
q.La=function(){if(!this.e)return this.k.La();var a=Iq(this.e,"readwrite"),b=new T;U(new Mk([Jq(this.j,a),Jq(this.i,a)]),function(c){var d=c[0][1];c=c[1][1];if(!d||c<=d)b.e();else{var e=a.Qc("Errors");e["delete"](this.n+"-e-"+d);d++;e.ya({key:this.j,value:String(d)});U(Kq(this,a),function(c){0==c&&(e.ya({key:this.j,value:"1"}),e.ya({key:this.i,value:"1"}));a.Cd=D(b.e,b)},this)}},this);return b};
q.ib=function(){if(!this.e)return this.k.ib();var a=Iq(this.e,"readonly");return U(new Mk([Jq(this.j,a),Jq(this.i,a)]),function(b){var c=b[0][1];return!c||1>b[1][1]-c?null:U(Lq(this.n+"-e-"+c,a),function(a){return a&&(a=JSON.parse(a))?a:U(this.La(),this.ib,this)},this)},this)};q.jb=function(){if(!this.e)return this.k.jb();var a=Iq(this.e,"readonly");return Kq(this,a)};function Kq(a,b){return U(new Mk([Jq(a.j,b),Jq(a.i,b)]),function(a){return a[1][1]-a[0][1]})}
function Jq(a,b){return U(Lq(a,b),function(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a})}function Lq(a,b){b=b.Qc("Errors");var c=new T;b.get(a).$e=function(a){a.ba.Ld?c.e(a.ba.Ld.value):c.e(null)};return c}function Iq(a,b){var c=["Errors"];try{return a.lf(c,b)}catch(f){b=a.Wf;for(var d=[],e=0;e<b.length;e++)d.push(b.Sf(e));throw md(f,{databaseName:a.name,databaseObjectStores:d.toString(),databaseVersion:a.kg.toString(),transactionObjectStores:c.toString()});}}
q.z=function(){this.e&&(this.e.close(),this.e=null);Gq.G.z.call(this)};function Mq(){try{var a=v.Xe;if(a&&(uk||vk||Rc)&&(a.Ia("test","test"),"test"==a.Fc("test")&&(a.Hd("test"),null==a.Fc("test"))))return!0}catch(b){}return!1};function Nq(){H.call(this);this.e={}}F(Nq,H);Nq.prototype.Ka=function(a,b,c){if(ya(a))c&&(a=D(a,c));else if(a&&"function"==typeof a.Fa)a=D(a.Fa,a);else throw Error("Invalid listener argument");c=new Oq;a=Ef(D(this.g,this,a,c),b);this.e[a]=!0;return c.e=a};Nq.prototype.g=function(a,b){b=b.e;null===b||delete this.e[b];a()};Nq.prototype.z=function(){for(var a in this.e)Bf.clearTimeout(Number(a));Nq.G.z.call(this)};function Oq(){this.e=null};function Pq(a,b){Eq.call(this,b);this.n=a;this.k=a+"-v";this.j=a+"-f";this.i=a+"-n";this.e=v.Xe;Mq();a=Qq(this,this.k);if(!a||1>a)this.e.Ia(this.k,"1"),this.e.Ia(this.j,"1"),this.e.Ia(this.i,"1");this.l();this.F=new Nq;I(this,this.F);this.F.Ka(this.$d,3E4,this)}F(Pq,Eq);q=Pq.prototype;q.Nb=function(a){var b=Qq(this,this.i);if(!b||1!=Qq(this,this.k))return hj();try{this.e.Ia(this.i,String(b+1)),this.e.Ia(this.n+"-e-"+b,ue(a))}catch(c){}return hj()};
q.La=function(){var a=Qq(this,this.j);if(!a||1!=Qq(this,this.k))return hj();this.e.Hd(this.n+"-e-"+a);a++;this.e.Ia(this.j,String(a));return U(this.jb(),function(a){0==a&&(this.e.Ia(this.j,"1"),this.e.Ia(this.i,"1"))},this)};q.ib=function(){var a=Qq(this,this.j);return a&&1==Qq(this,this.k)?U(this.jb(),function(b){if(1>b)return null;try{var c=this.e.Fc(this.n+"-e-"+a);if(c){var d=JSON.parse(c);if(d)return d}}catch(e){}return U(this.La(),this.ib,this)},this):hj(null)};
q.jb=function(){return hj(Qq(this,this.i)-Qq(this,this.j))};function Qq(a,b){return(a=a.e.Fc(b))?Rq(a):null}function Rq(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a}q.$d=function(){if(Qq(this,this.i)&&1==Qq(this,this.k))for(var a=this.n+"-e-",b=0,c=this.e.length;b<c;++b){var d=this.e.Oa(b);if(d&&0==d.lastIndexOf(a,0)){var e=Rq(d.substring(a.length)),f=Qq(this,this.i);f&&e&&e>=f&&this.e.Hd(d)}}};q.z=function(){Pq.G.z.call(this)};function Sq(a){Eq.call(this,a);this.e=[]}F(Sq,Eq);q=Sq.prototype;q.Nb=function(a){this.e.push(a);return hj()};q.La=function(){this.e.shift();return hj()};q.ib=function(){return hj(x(this.e[0])?this.e[0]:null)};q.jb=function(){return hj(this.e.length)};q.z=function(){delete this.e;Sq.G.z.call(this)};function Tq(a,b){A(b)&&/[:]/.test(b);this.i=a;this.g=b;this.constructor.dd||(this.constructor.dd={});this.constructor.dd[this.toString()]=this}Tq.prototype.toString=function(){this.e||(this.e=this.i.e+":"+this.g);return this.e};function Uq(a,b){Tq.call(this,a,b)}F(Uq,Tq);function Vq(a){/[^0-9a-zA-Z._]/.test(a);this.e=a}new Vq("lib");var Wq=new Vq("fva");new Uq(Wq,1);function Xq(a){H.call(this);this.g=a}F(Xq,H);Xq.prototype.e=function(a){return Yq(this,a)};function Zq(a,b){return(b?"__wrapper_":"__protected_")+(a[Aa]||(a[Aa]=++Ba))+"__"}function Yq(a,b){var c=Zq(a,!0);b[c]||((b[c]=$q(a,b))[Zq(a,!1)]=b);return b[c]}
function $q(a,b){function c(){if(a.q())return b.apply(this,arguments);try{return b.apply(this,arguments)}catch(d){if(!(d&&"object"===typeof d&&d.message&&0==d.message.indexOf("Error in protected function: ")||"string"===typeof d&&0==d.indexOf("Error in protected function: ")))throw a.g(d),new ar(d);}finally{}}c[Zq(a,!1)]=b;return c}
function br(a,b){var c=ra("window"),d=c[b];c[b]=function(b,c){A(b)&&(b=Ea(Ga,b));arguments[0]=b=Yq(a,b);if(d.apply)return d.apply(this,arguments);var e=b;if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);e=function(){b.apply(this,f)}}return d(e,c)};c[b][Zq(a,!1)]=d}Xq.prototype.z=function(){var a=ra("window");var b=a.setTimeout;b=b[Zq(this,!1)]||b;a.setTimeout=b;b=a.setInterval;b=b[Zq(this,!1)]||b;a.setInterval=b;Xq.G.z.call(this)};
function ar(a){Ia.call(this,"Error in protected function: "+(a&&a.message?String(a.message):String(a)));(a=a&&a.stack)&&A(a)&&(this.stack=a)}F(ar,Ia);function cr(a,b,c){L.call(this);this.k=b||null;this.j={};this.l=dr;this.o=a;if(!c)if(this.e=null,Rc&&!gd("10"))jd(D(this.g,this));else{this.e=new Xq(D(this.g,this));br(this.e,"setTimeout");br(this.e,"setInterval");a=this.e;b=ra("window");c=["requestAnimationFrame","mozRequestAnimationFrame","webkitAnimationFrame","msRequestAnimationFrame"];for(var d=0;d<c.length;d++){var e=c[d];c[d]in b&&br(a,e)}a=this.e;Od=!0;b=D(a.e,a);for(c=0;c<Md.length;c++)Md[c](b);Nd.push(a)}}F(cr,L);
function er(a,b){K.call(this,"y");this.Ea=a;this.g=b}F(er,K);function dr(a,b,c,d){var e=new Vn;Yn.push(e);e.kb("ready",e.Wd);e.S(a,b,c,d)}
cr.prototype.g=function(a,b){a=a.Ea||a;b=b?yb(b):{};a instanceof Error&&Bb(b,a.__closure__error__context__984382||{});var c=ra("window.location.href");if(A(a))a={message:a,name:"Unknown error",lineNumber:"Not available",fileName:c,stack:"Not available"};else{var d=!1;try{var e=a.lineNumber||a.We||"Not available"}catch(p){e="Not available",d=!0}try{var f=a.fileName||a.Na||a.sourceURL||v.$googDebugFname||c}catch(p){f="Not available",d=!0}a=!d&&a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name?a:
{message:a.message||"Not available",name:a.name||"UnknownError",lineNumber:e,fileName:f,stack:a.stack||"Not available"}}if(this.k)try{this.k(a,b)}catch(p){}f=a.message.substring(0,1900);e=a.stack;try{var h=kc(this.o,"script",a.fileName,"error",f,"line",a.lineNumber);xb(this.j)||(h=lc(h,this.j));f={};f.trace=e;if(b)for(var l in b)f["context."+l]=b[l];var k=jc(f);pa(null)&&(k=k.substring(0,null));this.l(h,"POST",k,this.n)}catch(p){}try{N(this,new er(a,b))}catch(p){}};
cr.prototype.z=function(){J(this.e);cr.G.z.call(this)};function fr(a,b,c,d,e,f,h,l){L.call(this);this.n={};this.e=null;this.g={};this.w=new Tk(this);this.D=!!a;this.A=!!e;this.o=f||new sq;this.k=null;var k;b&&Mq()?k=new Pq(b,c):k=new Sq(c);b&&Hq&&uk&&h?(this.k=new Gq(this,b,k,void 0,c),I(this,k)):this.k=k;a=l?l:bh("docs-sup")+"/jserror";(b=bh("jobset"))&&(a=kc(a,"jobset",b));if(gr)throw Error("ErrorReporter already installed.");gr=!0;b=D(this.bf,this);this.e=new cr(a,b,void 0);this.e.n={"X-Same-Domain":"1","X-No-Abort":"1"};a=D(this.gf,this);this.e.l=
a;this.w.Y(this.e,"y",this.se);this.l=!1;this.v=!0;this.j=!1}F(fr,L);var gr=!1;function hr(a,b){a.o=b}function yn(a,b,c){a.n[b]=c}function wn(a,b,c){a.g[b]=c}function Vl(a,b,c){a.j=!1;ir(b);if(!a.e){if(b instanceof Xh)throw b.Z();throw b;}a.e.g(b,jr("fatal",c))}function so(a,b){a.j=!1;ir(b);a.e&&a.e.g(b,jr("warning",void 0))}q=fr.prototype;q.T=function(a,b,c){this.j=!!c;ir(a);this.e&&this.e.g(a,jr("incident",b))};
q.log=function(a,b,c){this.j=!!c;ir(a);if(!this.e){if(a instanceof Xh)throw a.Z();throw a;}this.e.g(a,jr("incident",b))};function kr(a,b,c){return D(function(a){a:{var d=arguments;if(this.e){try{var f=b.apply(c,d);break a}catch(h){Vl(this,h)}f=void 0}else f=b.apply(c,d)}return f},a)}function jr(a,b){b=b?yb(b):{};b.severity=a;return b}q.se=function(a){var b=a.g.severity;(b="fatal"==b||"postmortem"==b)&&!this.A&&(this.D?this.o.e(a):this.o.e());N(this,new lr(b?"z":"A",a.Ea,a.g))};
q.bf=function(a,b){a=this.l;try{for(var c in this.n)try{b[c]=this.n[c]()}catch(l){}Bb(b,this.g);var d=b.severity||"fatal",e=bh("docs-jern");e&&(b.reportName=e+"_"+d);a:{for(var f in Array.prototype){var h=!1;break a}h=!0}b.isArrayPrototypeIntact=h.toString();this.l?(this.v=this.j||!P(Zg(),"docs-spfe"),"fatal"==d?d="postmortem":"incident"==d&&(d="warningafterdeath")):"fatal"==d&&(this.l=!0);this.j=!1;b.severity=d}catch(l){throw a&&(this.v=!1),this.l=!0,b.provideLogDataError=l.message,b.severity||(b.severity=
"fatal"),l;}};q.gf=function(a,b,c,d){this.v&&this.k.S(a,b,c,d)};function ir(a){a instanceof Xh&&a.Z()}q.z=function(){gr=!1;Rd(this.w,this.e,this.k);fr.G.z.call(this)};function mr(a){var b=yb(a.Ea);a.Ea.propertyIsEnumerable("message")||(b.message=a.Ea.message);Bb(b,a.g);return ue(b)}function lr(a,b){K.call(this,a);this.Ea=b}F(lr,K);function nr(a,b){this.g=D(a,b||null)}nr.prototype.e=function(a){a?this.g(mr(a)):this.g()};function or(a){this.e=a};function pr(a){this.e=a}function qr(a,b){var c=[];if(P(Zg(),"docs-evnli")){for(var d=[],e=0;e<b.length;e++)d.push(b[e].e);bb(d);for(e=0;e<d.length;e++)c.push(new Jh(d[e],"menu",400))}a=a.e.filter(Xa(c,b));b=[];for(c=0;c<a.length;c++)d=a[c],b.push(new or(new Eh(d.e,d.g)));return b};function rr(a,b,c){H.call(this);this.g=a;this.e=b;this.i=c}F(rr,H);function Ti(a,b){b=qr(a.g,b);b=sr(a.e,b);oj(b,function(b){return a.i.e(b)});return b};function tr(a){var b=new ur;this.e=a;this.g=b}tr.prototype.filter=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=!this.g.e(d);!this.e.e[d.e.toLowerCase()]&&e&&b.push(d)}return b};function vr(a,b,c,d,e,f){this.e=a;this.j=b;this.g=c;this.i=d;this.k=e;this.pb=f}vr.prototype.getFontFamily=n("e");vr.prototype.M=n("j");vr.prototype.Q=function(){return new vr(this.e,this.j,this.g,this.i,this.k,Qa(this.pb,function(a){return a.Q()}))};function wr(a,b,c){this.g=a;this.Bb=b;this.e=c}wr.prototype.getUrl=n("g");wr.prototype.hb=n("e");wr.prototype.Q=function(){return new wr(this.g,this.Bb,this.e)};function xr(a,b,c,d,e,f,h){this.k=a;this.q=b;this.i=c;this.e=d;this.B=!!e;this.l=!!f;this.g=null;this.j=h;P(Zg(),"docs-ofmpp")||(this.g=yr(this))}function zr(a,b,c,d,e,f,h){return new xr(a,b,c,d,e,f,h)}var Ar={truetype:".ttf","embedded-opentype":".eot",svg:".svg",swf:".swf",woff:".woff",woff2:".woff2"};q=xr.prototype;q.getFontFamily=n("k");q.M=n("q");q.yb=n("i");function Br(a){a.g||(a.g=yr(a));return a.g}
function yr(a){for(var b={},c=0,d;d=a.i[c];c++)for(var e=0,f;f=d.pb[e];e++)if(!f.Bb){var h=f.getUrl(),l=Ar[f.hb()],k;P(Zg(),"docs-ofmpp")?k=oc(h,"kit"):k=(new pc(h)).i.get("kit");k||(k=a.e+"\\/([^/.&]+)"+l+"$",k=(k=h.match(k))&&2==k.length?k[1]:null);k||(k="(persistent\\/docs\\/fonts\\/)([^/.]+)("+l+")?$",k=(k=h.match(k))&&4==k.length?k[2]:null);if(!k&&(-1!=h.indexOf("file:///")||-1!=h.indexOf("LOCALFILE:"))){var p=h.split("/");p=p[p.length-1].split(".");2==p.length&&"."+p[1]==l&&(k=p[0])}b[h]=k?
k+(l||""):null;l||a.j.log(Error("Missing font file extension for format "+f.hb()))}return b}q.oa=function(a){return this==a?!0:!!a&&a instanceof xr&&this.e==a.e};q.Q=function(){return zr(this.k,this.q,Qa(this.i,function(a){return a.Q()}),this.e,this.B,this.l,this.j)};function Sp(a,b){this.e=a;this.g=b}Sp.prototype.getFontFamily=n("e");Sp.prototype.M=n("g");function Up(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new Sp(a[d],b));return c}function Tp(a){bb(a,void 0,function(a){return a.getFontFamily()+"|"+a.M()})};function Cr(){this.e={};this.g=0}q=Cr.prototype;q.set=function(a,b,c){a=a+"|"+b;this.e[a]||(this.e[a]={},this.g++);this.e[a]=c};q.get=function(a,b){return this.e[a+"|"+b]||null};q.ma=function(a,b){return!!this.get(a,b)};function Dr(a){var b=[],c;for(c in a.e)a=c.split("|"),2==a.length&&b.push(new Sp(a[0],a[1]));return b}q.N=function(){var a=[],b;for(b in this.e)a.push(this.e[b]);return a};q.P=n("g");function Er(a,b){for(var c=0;c<b.length;c++){var d=b[c].getFontFamily();a.set(d,b[c].M(),!0)}};function Fr(a){this.e=a}Fr.prototype.get=n("e");Fr.prototype.getFontFamily=function(){return this.e.getFontFamily()};Fr.prototype.M=function(){return this.e.M()};function Gr(){this.e=new Cr}Gr.prototype.get=function(a,b){return(a=this.e.get(a,b))?a.get():null};Gr.prototype.add=function(a){a=new Fr(a);this.e.set(a.getFontFamily(),a.M(),a)};function Hr(a,b,c){this.e=a;this.i=b;this.g=c};function Ir(a,b){this.g=a;this.j=b;this.e=new Gr}
Ir.prototype.i=function(a){var b=a.i,c=Ch().e||"latin"==b.M();if(!this.g.g||!c)return yj(a);c=[b];"menu"!=b.M()&&P(Zg(),"docs-evnli")&&(b=b.getFontFamily(),b=this.e.get(b,"menu"),c.push(b));b={};for(var d=wj(),e=0;e<c.length;e++)for(var f=c[e].yb(),h=Br(c[e]),l=0;l<f.length;l++)for(var k=f[l].pb,p=0;p<k.length;p++){var r=k[p];if(!r.Bb){var u=h[r.getUrl()];if(!u)return d.errback(new Xh("Bad url "+r.getUrl())),d;b[u]=new Qj(u,r.getUrl(),"")}}a=D(this.k,this,a,d,c);Jn(this.j,b,["fonts"],!1,a);return d};
Ir.prototype.k=function(a,b,c,d){if(0<d.qb||0<d.cb||0<d.qb||0<d.cb)V(b,a);else{for(var e=[],f=0;f<c.length;f++)e.push(c[f].Q());a=a.e;c=[];for(f=0;f<e.length;f++){for(var h=e[f],l=h.yb(),k=Br(h),p=0;p<l.length;p++)for(var r=l[p].pb,u=0;u<r.length;u++){var w=r[u],B=k[w.getUrl()];if(!w.Bb&&B){B=d.j[B];if(!B)throw Error("Null local url for font file");r[u]=new wr(B,!1,w.hb())}}c.push(Jr(h))}this.g.ia(c,D(this.q,this,a,b,e),D(b.errback,b,new Xh("Failed to write updated fontMetadata for "+a.getFontFamily())))}};
Ir.prototype.q=function(a,b,c){for(var d=0;d<c.length;d++)this.e.add(c[d]);V(b,new Hr(a,c[0],"sync-not-needed"))};function Jr(a){for(var b=[],c=a.yb(),d=0;d<c.length;d++){for(var e=c[d],f=[],h=0;h<e.pb.length;h++){var l=e.pb[h];f.push(new Wm(l.hb(),l.Bb,l.getUrl()))}b.push(new Xm(e.getFontFamily(),e.M(),e.g,e.i,e.k,f))}return new Um(a.getFontFamily(),a.M(),a.e,a.B,a.l,b,!0)};function Kr(a){for(var b=a.sources,c=[],d=0;d<b.length;d++)c.push(new wr(b[d].url,!!b[d].isLocal,b[d].format));return new vr(a.fontFamily,a.subsetValue,!!a.menuFont,a.style,a.weight,c)};function Lr(a,b){if(!wb(Mr,a[0]))throw Error("The keyPath should contain a valid type in its first field.");this.e=a;this.i=b}var Mr={vf:"syncMap"};function Nr(a,b,c){Lr.call(this,a,b);if("syncMap"!=a[0])throw Error("SyncMap constructed with wrong type.");this.g=c}F(Nr,Lr);Nr.prototype.get=function(a){return this.g[a]};Nr.prototype.set=function(a,b){this.g[a]=b};function Or(a){this.e=new Rb;if(a){a=Xb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])}}function Pr(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[Aa]||(a[Aa]=++Ba)):b.charAt(0)+a}q=Or.prototype;q.P=function(){return this.e.P()};q.add=function(a){this.e.set(Pr(a),a)};q.Gc=function(a){return Vb(this.e,Pr(a))};q.J=function(){return this.e.J()};q.ma=function(a){a=Pr(a);return Tb(this.e.g,a)};q.N=function(){return this.e.N()};q.Q=function(){return new Or(this)};
q.oa=function(a){return this.P()==Wb(a)&&Qr(this,a)};function Qr(a,b){var c=Wb(b);if(a.P()>c)return!1;!(b instanceof Or)&&5<c&&(b=new Or(b));return $b(a,function(a){var c=b;return c.ma&&"function"==typeof c.ma?c.ma(a):c.Da&&"function"==typeof c.Da?c.Da(a):xa(c)||A(c)?0<=Oa(c,a):wb(c,a)})}q.Ya=function(){return this.e.Ya(!1)};function Rr(a,b,c){this.e=a;this.i=b;this.g=c}Rr.prototype.ia=function(a,b,c){if(this.e.g){for(var d=[],e=0;e<a.length;e++){var f=a[e],h=new Jm(!0,f.e,f.i),l=h;a:switch(f.e[0]){case "syncMap":f=f.g;break a;default:throw Error("Unsupported sync object type: "+f.e[0]);}S(l,"data",f);d.push(h)}this.e.ia(d,b,c)}};
Rr.prototype.j=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=wi(e)[0];switch(f){case "syncMap":c.push(new Nr(wi(e),Km(e),e.getData()));break;default:this.g.log(Error("Unsupported sync object type in database: "+f))}}a(c)};function Sr(a,b,c){this.e=a;this.g=b;this.i=c};function Tr(a){this.g=void 0;this.e={};if(a){var b=Yb(a);a=Xb(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])}}q=Tr.prototype;q.set=function(a,b){Ur(this,a,b,!1)};q.add=function(a,b){Ur(this,a,b,!0)};function Ur(a,b,c,d){for(var e=0;e<b.length;e++){var f=b.charAt(e);a.e[f]||(a.e[f]=new Tr);a=a.e[f]}if(d&&void 0!==a.g)throw Error('The collection already contains the key "'+b+'"');a.g=c}
q.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.e[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.g:void 0};q.N=function(){var a=[];Vr(this,a);return a};function Vr(a,b){void 0!==a.g&&b.push(a.g);for(var c in a.e)Vr(a.e[c],b)}q.la=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);if(!c.e[e])return[];c=c.e[e]}Wr(c,a,b)}else Wr(this,"",b);return b};function Wr(a,b,c){void 0!==a.g&&c.push(b);for(var d in a.e)Wr(a.e[d],b+d,c)}
q.Da=function(a){if(this.g===a)return!0;for(var b in this.e)if(this.e[b].Da(a))return!0;return!1};q.Q=function(){return new Tr(this)};q.P=function(){return Wb(this.N())};q.J=function(){return void 0===this.g&&xb(this.e)};function Xr(a){this.j=a;this.g=null;this.i=new Tr;this.e=new T;U(this.e,D(this.q,this))}Xr.prototype.q=g();Xr.prototype.get=function(a){var b=[];a=this.i.la(Yr(a));for(var c=0;c<a.length;c++)b.push(this.i.get(a[c]));return b};function Zr(a,b){var c=b.e[0];switch(c){case "syncMap":return c=b.e,b=new Nr(c,b.g,b.i),a.i.set(Yr(c),b),b;default:throw Error("Unknown sync object type: "+c);}}function Yr(a){return 0<a.length?a.join("|")+"|":""}
Xr.prototype.k=function(a){for(var b=0;b<a.length;b++){var c=a[b];this.i.set(Yr(c.e),c)}this.e.e()};function $r(a){yk(this,a,"er",null)}F($r,wk);$r.e="er";$r.prototype.getData=function(){return W(this,4)};function as(a){yk(this,a,"xsrf",null)}F(as,wk);as.e="xsrf";function bs(a,b,c,d,e,f,h,l){this.e=a;this.j=b||"text";this.k=/^[\s\xa0]*$/.test(Ob(c))?null:c;this.i=x(d)?d:200;this.q={};if(f)for(var k in f)this.q[k.toLowerCase()]=f[k];this.g=x(e)?e:0;this.I=h||{};this.B=l||null;this.l=void 0}function Oj(a){x(a.l)||(a.l=Mn(a.e||"",a.B));return a.l}
function cs(a){var b=a.i,c=a.g,d=a.j,e=a.k;if("text"==a.j){var f=a.e||"";f=-1!=f.indexOf("&")?"document"in v?Kb(f):Mb(f):f;50<f.length&&(f=f.substring(0,47)+"...");Jb.test(f)&&(-1!=f.indexOf("&")&&(f=f.replace(Db,"&amp;")),-1!=f.indexOf("<")&&(f=f.replace(Eb,"&lt;")),-1!=f.indexOf(">")&&(f=f.replace(Fb,"&gt;")),-1!=f.indexOf('"')&&(f=f.replace(Gb,"&quot;")),-1!=f.indexOf("'")&&(f=f.replace(Hb,"&#39;")),-1!=f.indexOf("\x00")&&(f=f.replace(Ib,"&#0;")));f+="   (truncated)"}else f="responseObject";b=
{RespStatus:b,RespErr:c,RespType:d,RespContentType:e,RespString:f};Bb(b,a.I);return b}function ds(a){return"text"==a.j&&null!=a.e&&0==(a.e||"").lastIndexOf(")]}'\n",0)&&(a=Oj(a),va(a)&&(a=a[0],va(a)&&"er"==a[0]))?new $r(a):null}function es(a){a=ds(a);if(!a)return null;a=a.getData();return va(a)&&"xsrf"==a[0]?new as(a):null}function fs(a){if(200==a.i&&null!=a.k&&!ds(a)&&"text"==a.j){if(/^[\s\xa0]*$/.test(Ob(a.e)))return!0;if(0==(a.e||"").lastIndexOf(")]}'\n",0))return null==Oj(a)}return!1};var gs=["syncMap","applicationFonts"],hs=["syncMap","domainFonts"],is=["syncMap","preferences"].concat(["docs-fonts"]);function js(a){if("syncMap"!=a.e[0])return[];var b=a.e,c=[];cb(gs,b.slice(0,gs.length))||cb(hs,b.slice(0,hs.length))?c=a.get("value")||[]:cb(is,b.slice(0,is.length))&&(c=a.get("hasTransitioned")?a.get("transitionedFamilyList")||[]:a.get("familyList")||[]);return c}var ks=/\/fonts\/([^/]+)$/;function ls(){var a=Zg();a=ch(a,"dffm");return ub(a)};var ms="Arial;Comic Sans MS;Courier New;Georgia;Impact;Times New Roman;Trebuchet MS;Verdana".split(";");function ur(){}ur.prototype.e=hb;function ns(a,b){for(var c={},d=0;d<a.length;d++)c[Fh(a[d].e)]=!0;for(d=0;d<b.length;d++)if(c[Fh(b[d])])throw Error("A fetch request can not be both successful and unsuccessful.");this.e=a;this.g=b};function os(a,b){var c={};this.i=a;this.g=b;this.e=new Gr;if(c){a=ps(c,this.g).e;for(var d in a)for(var e in a[d])this.e.add(a[d][e])}}
function qs(a,b){for(var c=[],d=[],e=[],f=0;f<b.length;f++){var h=b[f].e;c.push(h);var l=h.getFontFamily(),k=a.e.get(l,h.M());k?e.push(new Hr(h,k,"sync-needed")):d.push(l)}b=wj();d.length?a.i&&(f=["families",d.join(",")],Ch().e&&(f=f.concat("useAllSubsets",!0)),(h=Ch().i)&&(f=f.concat("format",h)),a=Hj(Mj(Nj(Kj(Jj(a.i,"/font/getmetadata"),2),D(a.j,a,b,c,e)),D(a.k,a,b,d)),ic(f)),Lj(a)):V(b,new ns(e,[]));return b}
os.prototype.j=function(a,b,c,d){if(d=Oj(d)){var e=ps(d,this.g).e;d={};for(var f=0;f<b.length;f++){var h=b[f];d[Fh(h)]=!1;var l=e[h.getFontFamily()];for(p in l){var k=l[p];this.e.add(k);p==h.M()&&c.push(new Hr(h,k,"sync-needed"))}}for(f=0;f<c.length;f++)d[Fh(c[f].e)]=!0;var p=[];for(f=0;f<b.length;f++)d[Fh(b[f])]||p.push(b[f]);V(a,new ns(c,p))}else a.errback(new Xh("No font response object."))};
os.prototype.k=function(a,b,c){a.errback(new Xh("Error fetching font metadata, http status code:"+c.g+", fonts: "+b.join(",")))};function rs(a){this.e=a}
function ps(a,b){var c={};a=a.fontMetadataMap||{};for(var d in a){var e=a[d],f=[];var h=e.fontFaces;for(var l=0;l<h.length;l++)f.push(Kr(h[l]));h=f;f={};for(l=0;l<h.length;l++){var k=h[l],p=k.M();null!=f[p]||(f[p]=[]);f[p].push(k)}null!=f.menu&&(h=f.menu[0],null!=f.latin&&f.latin.push(h),null!=f["*"]&&f["*"].push(h),delete f.menu);c[d]={};for(p in f)c[d][p]=zr(d,p,f[p],e.version,!!e.restrictedDomainFont,!!e.hasInkedWhitespace,b)}return new rs(c)};var ss="Arial;Comic Sans MS;Courier New;Georgia;Impact;Times New Roman;Trebuchet MS;Verdana".split(";");function ts(a){this.e={};for(var b=0;b<a.length;b++){var c=a[b];this.e[c.toLowerCase()]=c}};function us(a,b){this.g=a;this.e=b}function vs(a,b,c,d){for(var e=[],f=0;f<b.length;f++)Za(e,js(b[f]));bb(e);e.length?(b=Ih(e),a=Ti(a.g,Mh(b,a.e)),oj(a,c),d&&pj(a,function(a){return d(a.Z())})):c()};function ws(a){this.e={};if(a)for(var b=0;b<a.length;b++)this.e[xs(a[b])]=null}var ys={};function xs(a){return a in ys||32==String(a).charCodeAt(0)?" "+a:a}function zs(a){return 32==a.charCodeAt(0)?a.substr(1):a}q=ws.prototype;q.add=function(a){this.e[xs(a)]=null};q.Q=function(){var a=new ws,b;for(b in this.e)a.e[b]=null;return a};q.ma=function(a){return xs(a)in this.e};q.oa=function(a){return As(this,a)&&As(a,this)};q.forEach=function(a,b){for(var c in this.e)a.call(b,zs(c),void 0,this)};
q.P=Object.keys?function(){return Object.keys(this.e).length}:function(){var a=0,b;for(b in this.e)a++;return a};q.N=Object.keys?function(){return Object.keys(this.e).map(zs,this)}:function(){var a=[],b;for(b in this.e)a.push(zs(b));return a};q.J=function(){for(var a in this.e)return!1;return!0};function As(a,b){for(var c in a.e)if(!(c in b.e))return!1;return!0}q.Ya=function(){return qb(this.N())};function Bs(a,b){this.e=a;this.g=b}function Vp(a,b,c){b=D(a.i,a,b,c);Cs(a.e.e.lc(),b,function(a){return c(a.Z())})}Bs.prototype.i=function(a,b,c){Ds(this,a,b,Qa(c,function(a){return a.get()}))};function Ds(a,b,c,d){for(var e=0;e<d.length;e++)oi(d[e]);a.e.ia(d,b,function(a){return c(a.Z())})};var Y="Amatic SC;Caveat;Comfortaa;EB Garamond;Lobster;Lora;Merriweather;Montserrat;Nunito;Oswald;Pacifico;Playfair Display;Roboto;Roboto Mono;Spectral".split(";"),Es="Baloo;Eczar;Hind;Kalam;Khand;Martel;Modak;Poppins;Tillana;Yantramanav;Yatra One".split(";"),Fs="Alef;Amatic SC;Assistant;David Libre;Frank Ruhl Libre;Miriam Libre;Rubik;Suez One;Varela Round".split(";"),Gs={af:Y,ar:"Amiri;Aref Ruqaa;Cairo;Changa;El Messiri;Harmattan;Lemonada;Mada;Scheherazade".split(";"),az:Y,bg:Y,ca:Y,cs:Y,da:Y,de:Y,
el:"Crimson Text;Fira Mono;Fira Sans;Fira Sans Condensed;Fira Sans Extra Condensed;GFS Didot;Ubuntu;Ubuntu Condensed;Ubuntu Mono".split(";"),en:Y,es:Y,et:Y,fa:["Jomhuria","Katibeh","Lalezar","Mirza"],fi:Y,fil:Y,fr:Y,he:Fs,hi:Es,hr:Y,hu:Y,id:Y,"in":Y,is:Y,it:Y,iw:Fs,kk:Y,lt:Y,lv:Y,mn:Y,mr:Es,ms:Y,nb:Y,ne:Es,nl:Y,no:Y,pl:Y,pt:Y,ro:Y,ru:Y,sk:Y,sl:Y,sr:Y,sv:Y,sw:Y,th:"Athiti Chonburi Itim Kanit Maitree Mitr Pattaya Pridi Prompt Sriracha Taviraj Trirong".split(" "),tr:Y,uk:Y,vi:Y};
function Hs(a){a=(a=a.match(/^\w{2,3}([-_]|$)/))?a[0].replace(/[_-]/g,""):"";return Gs[a]||[]};function Is(){H.call(this)}F(Is,H);Is.prototype.Rb=function(a,b){var c=[],d=new T,e=new T;dj(d,e);U(d,Ea(b,c));Js(this,a,"file",function(b){if(b)for(var e=0;e<b.length;e++)c.push(new Ks(b[e],a));d.e()});Js(this,a,"directory",D(function(b){if(b&&b.length)for(var d=b.length,f=0;f<b.length;f++)this.Rb(a.concat(b[f]),function(a){d--;Za(c,a);0==d&&e.e()});else e.e()},this))};function Ks(a,b){this.e=a;this.g=b};function Ls(a,b,c,d,e,f,h,l,k,p,r){this.n=a;this.I=b;this.i=c;this.o=d;this.B=e;this.j=f;this.e=h;this.l=l;this.q=k;this.g=p;this.k=r}q=Ls.prototype;q.jd=function(a,b,c,d){var e=this;Ms(this).then(function(f){Ns(e,a,f,b,c,d)},function(a){a instanceof Xh?d(kd(a.Z())):d(kd(a))})};function Ns(a,b,c,d,e,f){var h=new Cr;Er(h,b);Er(h,c);b=eb(a.e,function(b){return Up(a.j,b)});Er(h,b);a.g&&Os(a,h);d=D(a.ze,a,e,f,h,d);Js(a.l,["fonts"],"file",d)}
function Ms(a){switch(a.k){case "locale":return Ps(a);case "coreLocale":return Ps(a);case "core":return bf(eb(a.e,function(a){return Up(Y,a)}));default:return bf([])}}function Ps(a){return kj(Tm(a.I)).then(function(b){var c=(b=ti(b,"locale"))?Hs(b):[];return eb(a.e,function(a){return Up(c,a)})})}function Os(a,b){var c=Qs(a,gs);Er(b,c);c=Qs(a,hs);Er(b,c);a=Qs(a,is);Er(b,a)}
function Qs(a,b){b=a.g.get(b);for(var c=[],d=0;d<b.length;d++)Za(c,js(b[d]));bb(c);return eb(a.e,function(a){return Up(c,a)})}q.ze=function(a,b,c,d,e){e=e||[];Cs(this.n,D(this.oe,this,a,b,c,d,e),function(a){return b(a.Z())})};
q.oe=function(a,b,c,d,e,f){f=Rs(f);if(d)for(var h=Dr(f),l=h.length-1;0<=l&&!(60<=c.P());l--){var k=h[l].getFontFamily(),p=h[l].M();c.ma(k,p)||c.set(k,p,!0)}else Er(c,Dr(f));h=Dr(c);l=[];for(var r=0;r<h.length;r++)k=h[r].getFontFamily(),p=h[r].M(),l.push(new or(new Eh(k,p)));Si(qs(this.o,l),D(this.Ae,this,a,b,c,d,e,f),function(a){b(Bj(a))})};
q.Ae=function(a,b,c,d,e,f,h){h=h.e;for(var l=new Cr,k=0;k<h.length;k++){var p=h[k].i,r=h[k].e;l.set(r.getFontFamily(),r.M(),p)}r=new ws(e);p=[];k=[];h=new Cr;for(var u=Dr(f),w=0;w<u.length;w++){var B=u[w],y=B.getFontFamily();B=B.M();var z=f.get(y,B);if(d&&!c.ma(y,B))p.push(z),z=f,y=y+"|"+B,z.e[y]&&(delete z.e[y],z.g--);else{for(var M=this.q,oa=z.getFontFamily(),ja=z.yb(),Va=[],sa=0;sa<ja.length;sa++){for(var wa=ja[sa],rc=[],ob=0;ob<wa.e.length;ob++){var ve=wa.e[ob];rc.push(new wr(ve.getUrl(),ve.i,
ve.hb()))}Va.push(new vr(wa.getFontFamily(),wa.M()||"latin",wa.i,wa.j,wa.q,rc))}z=zr(oa,z.M()||"latin",Va,z.e.version,""!=z.e.domainFont,""!=z.e.inkedSpace,M);h.set(y,B,z);z=Br(z);for(var gb in z)if(z=gb.match(ks),!r.ma(z?z[1]:null)){y=Hh(y);k.push(new Jh(y.e,B,y.g));break}}}d=new T;Ds(this.i,D(d.e,d),D(d.errback,d),p);c=l.N();for(f=0;f<c.length;f++)gb=c[f],p=gb.getFontFamily(),l=gb.M(),r=h.get(p,l),r&&r.oa(gb)||(gb=Hh(p),k.push(new Jh(gb.e,l,gb.g)));k=Ti(this.B,k);f=[];f.push(jj(k),d);k=Nk(f);d=
new Cr;for(f=0;f<c.length;f++)l=c[f].getFontFamily(),d.set(l,c[f].M(),c[f]);h=h.N();for(c=0;c<h.length;c++)f=h[c].getFontFamily(),d.set(f,h[c].M(),h[c]);bj(k,D(this.fe,this,a,b,d,e),b)};q.fe=function(a,b,c,d){var e=this.i;if(d){var f=[];c=c.N();for(var h=0;h<c.length;h++){var l=Br(c[h]),k;for(k in l)f.push(l[k])}d=new ws(d);for(k=0;k<f.length;k++)delete d.e[xs(f[k])];f=d.N();d=[];for(k=0;k<f.length;k++)c=new T,Dp(e.g,["fonts"],f[k],D(c.e,c),D(c.errback,c)),d.push(c);bj(Nk(d),a,b)}else b(Error("No filesystem font files provided."))};
function Rs(a){for(var b=new Cr,c=0;c<a.length;c++){var d=a[c].get(),e=d.getFontFamily();b.set(e,d.M()||"latin",d)}return b};function Ss(a,b){this.e=a;this.g=b};function Ts(a,b,c,d,e){H.call(this);this.e=a;this.g=b;this.l=d;this.n=e;this.j={};this.i=c;this.k=tb(this.g)}F(Ts,H);q=Ts.prototype;q.Rd=0;q.qb=0;q.ic=0;q.hd=0;q.cb=0;q.ff=function(a){if(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];this.g[d.e]||b.push(d)}if(b.length)for(this.ic+=b.length,a=0;a<b.length;a++)c=b[a],Dp(this.e,c.g,c.e,D(this.ce,this),D(this.be,this))}Us(this)};
function Us(a){if(0==a.k)Vs(a);else{var b=P(Zg(),"docs-localstore-sefr"),c;for(c in a.g){var d=a.g[c];if(d.g)if(b&&d.j){var e=a.e,f=a.i.concat(d.e),h=c;d=D(a.ye,a,c,d);d=new Ws(D(e.Ce,e,h,f,d));e.e.getFileUrl(Gp(f),f,h,d)}else Xs(a,c,d);else a.Ec(c,null)}}}q.ye=function(a,b,c){c?this.Ec(a,c):Xs(this,a,b)};function Xs(a,b,c){var d=a.e,e=a.i.concat(c.e);c=c.g;var f=D(a.Ec,a,b),h=D(a.ee,a);a=new Ys(f);f=D(d.le,d,b,e,c,f,h);f=new Fp(D(d.vb,d,f));d.e.addFile(Gp(e),e,b,c,a,f)}
q.Ec=function(a,b){this.j[a]=b;this.Rd++;Vs(this)};q.ee=function(){this.qb++;Vs(this)};q.ce=function(){this.hd++;Vs(this)};q.be=function(){this.cb++;Vs(this)};function Vs(a){var b=a.hd+a.cb;a.k==a.Rd+a.qb&&a.ic==b&&a.n(a)}q.z=function(){Ts.G.z.call(this);delete this.e;delete this.g};function Zs(a){this.e=a}function xp(a,b,c){var d={};d[b.i]=b;Jn(a,d,["templates"],!1,c)}function Jn(a,b,c,d,e){a=new Ts(a.e,b,c,d,e);a.l?a.e.Rb(a.i,D(a.ff,a)):Us(a)};function Gp(a){return 2>a.length?null:"documents"==a[0]?a[1]:null};function $s(a){this.e=a};function an(a){return JSON.parse(a)};function at(a){this.type=a};function bt(a,b,c){this.type=9;this.documentId=a;this.nativeCommandBatches=b;this.isStaged=!1;this.shouldReplace=c}F(bt,at);function ct(a,b,c){this.type=12;this.templateId=a;this.nativeCommandBatches=b;this.shouldReplace=c}F(ct,at);function dt(a,b,c,d,e){this.partId=a;this.revision=b;this.chunkIndex=c;this.timestamp=d;this.serializedCommands=e};function et(a){switch(a.e){case "append-commands":var b=a.i;b=ft(b);return new bt(a.k,b,a.j);case "append-template-commands":return b=a.i,b=ft(b),new ct(a.k,b,a.j);default:throw Error("Operation type "+a.e+" not supported.");}}function ft(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=null;null==e&&(e=-1);for(var f=[],h=d.na(),l=0;l<h.length;l++)f.push(Lk(h[l]));b.push(new dt(String(d.j),d.R(),d.e,e,JSON.stringify(f)))}return b};function Fp(a){this.e=a}Fp.prototype.callback=function(a,b){this.e(a,b)};function gt(a){switch(a){case 1:return 2;default:return 1}};function ht(a,b){gi.call(this,a,b)}t(ht,gi);ht.prototype.z=function(){gi.prototype.z.call(this)};function it(){}function jt(a,b){for(var c=Ya(b);255<a.length;){c.length==b.length&&(a="+"+a);var d=255;265>a.length&&(d=a.length-10);var e=a.substring(0,d);a=a.substring(d);c.push(e)}return new kt(a,c)}function lt(a){var b=a.g,c;a:{for(c=0;c<b.length;c++)if(0==b[c].indexOf("+"))break a;c=-1}if(-1==c)return a;for(var d="",e=c;e<b.length;e++){var f=b[e];e==c&&(f=f.substring(1));d+=f}d+=a.e;return new Ks(d,ab(b,0,c))}function kt(a,b){this.Na=a;this.e=b};function Ys(a){this.e=a}Ys.prototype.callback=function(a,b){this.e(b)};function Ws(a){this.e=a}Ws.prototype.callback=function(a){this.e(a)};function Ep(a){this.e=a||null}Ep.prototype.callback=function(){this.e&&this.e()};function mt(a){this.e=a}mt.prototype.callback=function(a){this.e(a)};function nt(a){H.call(this);this.e=a}F(nt,Is);function Js(a,b,c,d){a:switch(c){case "all":c=0;break a;case "directory":c=1;break a;case "file":c=2;break a;default:throw Error("Unexpected content type: "+c);}a.e.getDirectoryContents(Gp(b),b,c,new mt(d))}q=nt.prototype;q.le=function(a,b,c,d,e,f){var h=jt(a,b);h.Na==a?e(f):(a=new Ys(d),e=new Fp(D(this.vb,this,e)),this.e.addFile(Gp(b),h.e,h.Na,c,a,e))};q.Ce=function(a,b,c,d){var e=jt(a,b);d||a==e.Na?c(d):this.e.getFileUrl(Gp(b),e.e,e.Na,new Ws(c))};
function Dp(a,b,c,d,e){e=D(a.Le,a,c,b,d,e);d=new Ep(e);e=new Fp(D(a.vb,a,e));a.e.removeFile(Gp(b),b,c,d,e)}q.Le=function(a,b,c,d,e){var f=jt(a,b);a==f.Na?e?d(e):c():(c=D(this.Me,this,c,d,e),a=new Ep(c),c=new Fp(D(this.vb,this,c)),this.e.removeFile(Gp(b),f.e,f.Na,a,c))};q.Me=function(a,b,c,d){c&&d?b(c):a()};q.Rb=function(a,b){b=D(this.Be,this,b);nt.G.Rb.call(this,a,b)};q.Be=function(a,b){for(var c=[],d=0;d<b.length;d++)c.push(lt(b[d]));a(c)};
q.vb=function(a,b,c){a(Error("FileStorageAdapter error:"+b+", "+c))};function ot(a,b){this.type=a;this.recordKey=b}F(ot,at);function pt(a){ot.call(this,1,a)}F(pt,ot);function qt(a){this.e=a}qt.prototype.callback=function(a){this.e(a)};function rt(a){this.recordType=a};function st(a){this.recordType=1;this.docId=a}F(st,rt);function tt(){this.e={}}tt.prototype.setStringProperty=function(a,b){this.e[a]=b};tt.prototype.setNumberProperty=function(a,b){this.e[a]=b};tt.prototype.setSerializedObjectProperty=function(a,b){this.e[a]=b};tt.prototype.setNullProperty=function(a){this.e[a]=null};function X(a,b){a=ut(a,b);return A(a)?a:null}function vt(a,b){a=ut(a,b);return pa(a)?a:null}function ut(a,b){a=a.e[b];return null!=a?a:null};function wt(a){this.g=new st(a);this.e={}}F(wt,tt);function xt(a,b){this.propertyType=a;this.propertyName=b};function yt(a){xt.call(this,3,a)}F(yt,xt);function zt(a,b){xt.call(this,0,a);this.numberValue=b}F(zt,xt);function At(a,b){xt.call(this,2,a);this.serializedObjectValue=b}F(At,xt);function Bt(a,b){xt.call(this,1,a);this.stringValue=b}F(Bt,xt);function Ct(a){var b=[],c;for(c in a){if(!c)throw Error("Invalid localStore modifications. Property cannot be null.");var d=a[c];if(pa(d))b.push(new zt(c,d));else if(A(d))b.push(new Bt(c,d));else if("boolean"==typeof d)b.push(new Bt(c,d?"true":""));else if(za(d))b.push(new At(c,JSON.stringify(d)));else if(null===d)b.push(new yt(c));else throw Error("Invalid localStore modifications.");}return b};function Dt(a,b,c,d){ot.call(this,d||0,a);this.isNew=c;this.modifications=b;b=this.e();switch(a.recordType){case 1:if("document"!=b)throw Error("Must use DOCUMENT subtype for updating DOCUMENT records");break;case 0:if("application-metadata"!=b)throw Error("Must use APPLICATION_METADATA subtype for updating APPLICATION_METADATA records");}}F(Dt,ot);function Et(a,b,c){Dt.call(this,new st(a),Ct(b),c);this.hasLastModifiedServerTimestampModification=!1;this.lastModifiedServerTimestampModification=-1;this.hasJobsetModification=!1;this.jobsetModification=null;this.hasFontFamiliesModification=this.isNotCreatedModification=this.hasIsNotCreatedModification=this.isFastTrackModification=this.hasIsFastTrackModification=!1;this.fontFamiliesModification=null;this.hasSnapshotStateModification=!1;this.snapshotStateModification=-1;this.hasSnapshotProtocolNumberModification=
!1;this.snapshotProtocolNumberModification=-1;this.isModelResyncRequiredModification=this.hasIsModelResyncRequiredModification=!1;"lastModifiedServerTimestamp"in b&&(this.hasLastModifiedServerTimestampModification=!0,this.lastModifiedServerTimestampModification=b.lastModifiedServerTimestamp);"jobset"in b&&(this.hasJobsetModification=!0,this.jobsetModification=b.jobset);"isFastTrack"in b&&(this.hasIsFastTrackModification=!0,this.isFastTrackModification=!!b.isFastTrack);"inc"in b&&(this.hasIsNotCreatedModification=
!0,this.isNotCreatedModification=!!b.inc);"modelNeedsResync"in b&&(this.hasIsModelResyncRequiredModification=!0,this.isModelResyncRequiredModification=!!b.modelNeedsResync);if("startupHints"in b&&(a=b.startupHints.fontFamilies)){this.hasFontFamiliesModification=!0;try{this.fontFamiliesModification=an(a)}catch(d){this.hasFontFamiliesModification=!1}}"snapshotState"in b&&(this.hasSnapshotStateModification=!0,this.snapshotStateModification=b.snapshotState);"snapshotProtocolNumber"in b&&(this.hasSnapshotProtocolNumberModification=
!0,b=b.snapshotProtocolNumber,this.snapshotProtocolNumberModification=null===b?-1:b)}F(Et,Dt);Et.prototype.e=aa("document");function Ft(a,b){em.call(this,b);this.n=a}t(Ft,em);
function jp(a,b,c,d){a.n.readDocument(b,!1,new qt(function(b){if(b){var d=new Ai(b.g.docId,X(b,"documentType"),!1);S(d,"title",X(b,"title"));S(d,"lastSyncedTimestamp",vt(b,"lastSyncedTimestamp"));S(d,"jobset",X(b,"jobset"));R(d,"isFastTrack",!!X(b,"isFastTrack"));var e=X(b,"acl");if(null!=e){e=an(e);for(var l in e)xi(d,"acl",l,e[l])}if(l=X(b,"startupHints")){l=an(l);for(var k in l)Hi(d,k,l[k])}(k=vt(b,"lastModifiedServerTimestamp"))&&Ei(d,k);(k=vt(b,"lastColdStartedTimestamp"))&&S(d,"lastColdStartedTimestamp",
k);(k=vt(b,"lastWarmStartedTimestamp"))&&S(d,"lastWarmStartedTimestamp",k);(k=X(b,"docosKeyData"))&&Fi(d,an(k));k=X(b,"inc");null!=k&&R(d,"inc",!!k);k=vt(b,"lastModifiedClientTimestamp");null!=k&&Gi(d,k);k=X(b,"ic");null!=k&&(k=an(k),null!=k&&S(d,"ic",k));k=X(b,"hpmdo");null!=k&&R(d,"hpmdo",!!k);k=X(b,"ips");null!=k&&R(d,"ips",!!k);k=X(b,"fact");null!=k&&S(d,"fact",k);k=X(b,"modelNeedsResync");null!=k&&R(d,"modelNeedsResync",!!k);k=X(b,"ind");null!=k&&R(d,"ind",!!k);k=X(b,"isd");null!=k&&R(d,"isd",
!!k);k=vt(b,"modelVersion");null!=k&&Ii(d,k);k=vt(b,"featureVersion");null!=k&&Ji(d,k);k=vt(b,"rev");null!==k&&(l=(l=X(b,"rai"))?zi(an(l)):null,Di(d,k,l));k=X(b,"pendingCreation");null!=k&&R(d,"pendingCreation",!!k);k=vt(b,"lastServerSnapshotTimestamp");null!=k&&Ki(d,k);k=vt(b,"snapshotState");null===k||Li(d,k);k=vt(b,"pendingQueueState");null===k||Ni(d,k);b=X(b,"odocid");null!==b&&S(d,"odocid",b);d.q=!1;if(!a.k[Ci(d)])throw Error("No document adapter found for type: "+Ci(d));c(d)}else c(null)}),
d?new Fp(function(a,b){d(new ci(gt(a),b))}):null)}Ft.prototype.j=function(a){switch(a.e){case "update-record":return new Et(am(a),a.g,a.i);case "delete-record":return new pt(new st(am(a)));case "append-commands":if(!this.k[a.g])throw Error("No document adapter found for type:"+a.g);return et(a);default:throw Error("Operation type "+a.e+" not supported.");}};function Gt(a){this.recordType=0;this.documentType=a}F(Gt,rt);function Ht(){this.e={}}F(Ht,tt);Ht.prototype.setSerializedInitialCommands=g();function Qp(a){this.e=a}Qp.prototype.callback=function(a){this.e(a)};function It(a,b,c,d){Dt.call(this,new Gt(a),Ct(b),d);this.serializedInitialCommands=c;this.hasJobsetModification=!1;this.jobsetModification=null;"jobset"in b&&(this.hasJobsetModification=!0,this.jobsetModification=b.jobset)}F(It,Dt);It.prototype.e=aa("application-metadata");function Jt(a,b){im.call(this,a);this.k=b}t(Jt,im);function Rp(a){return a?new Fp(function(b,c){a(new ci(gt(b),c))}):null}
Jt.prototype.j=function(a){var b=a.e;if("update-application-metadata"==b){b=null;if(null!=a.j){b=am(a);if(!this.n[b])throw Error("No adapter found for this type: "+b);b=[];if(a.j)var c=a.j;else throw Error("No new initial commands are available.");for(var d=0;d<c.length;d++)b.push(Lk(c[d]))}c=null;b&&(c=JSON.stringify(b));return new It(am(a),a.g,c,a.i)}throw Error("Operation type "+b+" not supported.");};function Kt(a,b,c){this.recordType=3;this.entityId=a;this.entityType=b;this.docId=c}F(Kt,rt);function Lt(){this.e={}}F(Lt,tt);function Mt(a,b,c){Dt.call(this,a,b,c)}F(Mt,Dt);Mt.prototype.e=aa("simple");function Nt(){H.call(this)}t(Nt,km);Nt.prototype.j=function(a){switch(a.e){case "update-record":var b=am(a);return new Mt(new Kt(b[2],b[1],b[0]),Ct(a.g),a.i);case "delete-record":return a=am(a),new pt(new Kt(a[2],a[1],a[0]));default:throw Error("Operation type "+a.e+" not supported.");}};function Ot(a){this.e=a}Ot.prototype.callback=function(a){this.e(a)};function Pt(a,b){this.type=11;this.documentId=a;this.lockLevel=b}F(Pt,at);function Qt(a,b){H.call(this);this.o=a;this.n=b;this.k=new Q;I(this,this.k)}t(Qt,lm);function $o(a,b,c,d){a.o.acquireLock(a.n,b,new Ot(function(a){if(0==a)c(1);else if(1==a)c(2);else throw Error("Lock acquisition result unsupported: "+a);}),new Fp(function(a,b){d(new ci(gt(a),b))}))}
Qt.prototype.j=function(a){var b=a.e;if("document-lock"==b){b=a.g;a=a.i;if(1==a)a=0;else if(2==a)a=1;else throw Error("Document lock requirement level "+a+" not supported by the native document lock capability.");return new Pt(b,a)}throw Error("Operation type "+b+" not supported by the document lock capability.");};function Rt(a){H.call(this);this.j=a}t(Rt,pm);function dp(a,b,c,d){a.j.removeNonSnapshottedDocumentIds(b,new Ep(c),d?new Fp(function(a,b){d(new ci(gt(a),b))}):null)};function St(a){this.e=a}St.prototype.callback=function(a){this.e(a)};function Tt(a,b){this.recordType=6;this.docId=a;this.placeholderId=b}F(Tt,rt);function Ut(a,b){this.g=new Tt(a,b);this.e={}}F(Ut,tt);function Vt(a){a=new qm(a.g.docId,a.g.placeholderId,X(a,"u"),X(a,"ou"),X(a,"f"),X(a,"c"),X(a,"s"),X(a,"oc"),!1);a.q=!1;return a};function Wt(a){H.call(this);this.k=a}t(Wt,tm);function vo(a,b,c,d){a.k.readAllBlobMetadataForDocument(b,new St(function(a){for(var b=[],d=0;d<a.length;d++)b.push(Vt(a[d]));c(b)}),d?new Fp(function(a,b){d(new ci(gt(a),b))}):null)}function ep(a,b,c,d){a.k.clearBlobMetadataForDocument(b,new Ep(c),d?new Fp(function(a,b){d(new ci(gt(a),b))}):null)}
Wt.prototype.j=function(a){switch(a.e){case "update-record":var b=am(a);return new Mt(new Tt(b[0],b[1]),Ct(a.g),a.i);case "delete-record":return a=am(a),new pt(new Tt(a[0],a[1]));default:throw Error("Operation type "+a.e+" not supported.");}};function Xt(a){this.recordType=2;this.docId=a}F(Xt,rt);function Yt(a,b,c){Dt.call(this,new Xt(a),c,b,2)}F(Yt,Dt);Yt.prototype.e=aa("pending-queue");function Zt(a,b,c,d){Dt.call(this,new Xt(a),d,b,4);this.hasCommandsAfterFirstSentBundle=c}F(Zt,Dt);Zt.prototype.e=aa("pending-queue");function $t(a,b,c){Dt.call(this,new Xt(a),c,b,3)}F($t,Dt);$t.prototype.e=aa("pending-queue");function au(a,b,c,d){this.docId=a;this.sessionId=b;this.requestId=c;this.lastEntryIndex=d};function bu(a,b){this.type=5;this.documentId=a;this.lastCommandsIndex=b}F(bu,at);function cu(a,b,c,d,e){Dt.call(this,new Xt(a),c,b,6);this.bundleMetadataArray=d;this.shouldReplaceOldBundles=e}F(cu,Dt);cu.prototype.e=aa("pending-queue");function du(){this.g=this.i=null;this.e={}}F(du,tt);du.prototype.setCommandBundleMetadataArray=m("i");du.prototype.setCommandBatchArray=m("g");function eu(a,b,c){this.type=7;this.documentId=a;this.serializedCommands=b;this.commandsIndex=c}F(eu,at);function fu(a){this.e=a}fu.prototype.callback=function(a){this.e(a)};function gu(a,b,c){Bm.call(this,b,c);this.q=a}t(gu,Bm);
function jn(a,b,c,d){a.q.readPendingQueue(b,new fu(function(b){if(b){var d=b.i,e=b.g;if(!d||!e)throw Error("Command bundle or command batch should not be null");var l=0,k=[],p=[],r=[],u=-1,w=X(b,"documentType"),B=Cm(a,w),y=X(b,"unsentBundleMetadata");if(null===y)y=[];else{var z=null;try{z=an(y)}catch(wa){Vl(a.g,Error("Unable to parse unsent bundle metadata!"),{unsentBundleMetadata:y})}y=Gm(z)}z=!0;for(var M=0;M<e.length;M++){u=e[M];var oa=null;try{oa=an(u.serializedCommands)}catch(wa){Vl(a.g,Error("Unable to parse serialized commands!"),
{serializedCommands:u.serializedCommands})}var ja=k,Va=B.e,sa=oa;oa=E();sa=hh(sa);oa=E()-oa;Va.e.j("md",oa);Za(ja,sa);u=u.commandsIndex;l<d.length?(ja=d[l],ja.lastEntryIndex==u&&(p.push(new tl(k,ja.requestId,ja.sessionId)),k=[],l++)):l<y.length+d.length&&(ja=y[l-d.length],ja.lastEntryIndex==u&&(z=!1,r.push(new tl(k,ja.requestId,ja.sessionId)),k=[],l++))}z&&(y=[]);k.length&&(d=mh(),r.push(new tl(k,0,d)),y.push(new Em(0,d,u)));k=new ul(X(b,"docId"),w,!1,u,p,r);p=vt(b,"accessLevel");null!==p&&S(k,"accessLevel",
p);p=(p=X(b,"revisionAccessInfo"))?zi(an(p)):null;jl(k,vt(b,"revision"),p);p=X(b,"selection");null===p||zl(k,an(p));xl(k,!!X(b,"undeliverable"));kl(k,!!X(b,"unsavedChanges"));p=vt(b,"sentBundlesSavedRevision");null===p||yl(k,p);b=vt(b,"snapshotBundleIndex");x(b)&&hl(k,b);k.q=!1;Al(k,Fm(y));c(k)}else c(null)}),d?new Fp(function(a,b){d(new ci(gt(a),b))}):null)}
gu.prototype.j=function(a){switch(a.e){case "update-record":return new Mt(new Xt(am(a)),Ct(a.g),a.i);case "pq-clear":return new Yt(am(a),a.i,Ct(a.g));case "pq-clear-sent":return new $t(am(a),a.i,Ct(a.g));case "pq-clear-sent-bundle":return new Zt(am(a),a.i,a.j,Ct(a.g));case "pq-mark-sent":for(var b=a.j,c=[],d=am(a),e=0;e<b.length;e++){var f=b[e];c.push(new au(d,f.sessionId,f.requestId,f.lastEntryIndex))}return new cu(d,a.i,Ct(a.g),c,a.l);case "pq-delete-commands":return new bu(a.g,a.i);case "pq-write-commands":return new eu(a.j,
JSON.stringify(a.na()),a.g);default:throw Error("Operation type "+a.e+" not supported.");}};function hu(a){this.recordType=5;this.keyPath=a}F(hu,rt);function iu(){this.e={}}F(iu,tt);function ju(a){var b=an(X(a,"keyPath")),c=an(X(a,"state"));a=an(X(a,"data"));b=new Jm(!1,b,c);b.q=!1;S(b,"data",a);return b};function ku(a){this.e=a}ku.prototype.callback=function(a){this.e(a)};function lu(a){H.call(this);this.k=a}t(lu,Lm);function mu(a,b,c){a.k.getAllSyncObjects(new ku(function(a){for(var c=[],d=0;d<a.length;d++)c.push(ju(a[d]));b(c)}),c?new Fp(function(a,b){c(new ci(gt(a),b))}):null)}lu.prototype.j=function(a){switch(a.e){case "update-record":return new Mt(new hu(JSON.stringify(am(a))),Ct(a.g),a.i);case "delete-record":return new pt(new hu(JSON.stringify(am(a))));default:throw Error("Operation type "+a.e+" not supported.");}};function nu(a){this.recordType=8;this.templateId=a[0]}F(nu,rt);function ou(){this.e={}}F(ou,tt);function pu(a){this.recordType=7;this.templateId=a[0]}F(pu,rt);function qu(){this.e={}}F(qu,tt);function ru(){H.call(this)}t(ru,Nm);ru.prototype.z=function(){Nm.prototype.z.call(this)};function su(a){this.e=a}su.prototype.callback=function(a){this.e(a)};function tu(a){this.e=a}tu.prototype.callback=function(a){this.e(a)};function uu(a,b){Pm.call(this,b);this.k=a}t(uu,Pm);function pp(a,b,c,d){a.k.readAllTemplateMetadata(b,new su(function(a){for(var b={},d=0;d<a.length;d++){var e=vu(a[d]);b[e.e.id]=e}c(b)}),new Fp(function(a,b){return yu(d||null,a,b)}))}function $p(a,b,c,d){a.k.readTemplateMetadata(b,new tu(function(a){c(a?vu(a):null)}),new Fp(function(a,b){return yu(d||null,a,b)}))}function Hp(a,b,c,d){a.k.deleteTemplate(b,new Ep(c),new Fp(function(a,b){return yu(d||null,a,b)}))}
uu.prototype.j=function(a){switch(a.e){case "update-record":return new Mt(zu(a),Ct(a.g),a.i);case "delete-record":return new pt(zu(a));case "append-template-commands":if(!Qm(this,a.g))throw Error("No template adapter found for type: "+a.g);return et(a);default:throw Error("Operation type "+a.e+" not supported.");}};
function vu(a){var b=X(a,"id"),c=X(a,"title"),d=vt(a,"style"),e=vt(a,"category"),f=X(a,"locale"),h=X(a,"creator"),l=X(a,"thumbnailUrl"),k=X(a,"documentType"),p=vt(a,"lastModifiedTimestamp");var r=an(X(a,"fontFamilies"));a=new Om(b,c,d,e,f,h,l,k,p,r,X(a,"brandedAuthor"),X(a,"brandedUrl"),vt(a,"masterTemplate"),!!X(a,"isThumbnailReady"),!!X(a,"isReady"),!!X(a,"isDirty"),!1);a.q=!1;return a}function yu(a,b,c){b=new ci(gt(b),c);if(a)a(b);else throw Error(di(b));}
function zu(a){var b=a.q;if("templateMetadata"==b)return new pu(am(a));if("templateCreationMetadata"==b)return new nu(am(a));throw Error("Unsupported record type "+b);};function Au(a,b){H.call(this);this.j=a;this.k=b}t(Au,Sm);function Ik(a,b){var c=new Rm("mobileUser",!1);R(c,"fastTrack",a.j);S(c,"locale",a.k);b([c])}Au.prototype.g=function(){return[]};function Bu(a){this.e=a}Bu.prototype.callback=function(a){this.e(a)};function Cu(a){this.recordType=4;this.fontFamily=a}F(Cu,rt);function Du(){this.e={}}F(Du,tt);function Eu(a){$m.call(this,X(a,"fontFamily"));this.g=a}t(Eu,$m);function Fu(a){H.call(this);this.k=a}t(Fu,bn);function Cs(a,b,c){a.k.readAllFontMetadata(new Bu(function(a){for(var c=E(),d=[],h=0;h<a.length;h++)d.push(new Eu(a[h]));b(d,c,E()-c)}),c?new Fp(function(a,b){c(new ci(gt(a),b))}):null)}Fu.prototype.j=function(a){switch(a.e){case "update-record":return new Mt(new Cu(am(a)),Ct(a.g),a.i);case "delete-record":return new pt(new Cu(am(a)));default:throw Error("Operation type "+a.e+" not supported.");}};function Gu(a,b,c,d,e,f,h,l,k,p,r,u,w,B,y,z,M){Hm.call(this);this.g=new gu(e,a,M);Im(this,this.g);this.e=new Ft(c,a);Im(this,this.e);this.v=new Qt(f,h);this.k=new Au(y,z);Im(this,this.k);this.A=null;d&&(this.A=new Wt(d),Im(this,this.A));this.i=null;l&&(this.i=new Jt(a,l),Im(this,this.i));this.w=null;k&&(this.w=new Nt(k),Im(this,this.w));this.D=null;p&&(this.D=new Rt(p),Im(this,this.D));this.j=null;r&&(this.j=new lu(r),Im(this,this.j));this.l=null;u&&(this.l=new Fu(u),Im(this,this.l));this.o=null;
B&&w&&(this.o=new uu(B,w),Im(this,this.o));this.F=b}t(Gu,Hm);q=Gu.prototype;q.kc=n("A");q.db=n("i");q.ld=n("D");q.Ob=n("j");q.lc=n("l");q.eb=n("o");function fn(a,b,c,d){for(var e=[],f=0;f<b.length;f++){var h=b[f];(h=Hu(a,h).j(h))&&e.push(h)}a.F.executeOperations(e,new Ep(c),d?new Fp(function(a,b){d(new ci(gt(a),b))}):null)}
function Hu(a,b){var c=b.e;if("update-record"==c||"delete-record"==c){b=b.q;a=a.n[b]||null;if(!a)throw Error("No capability registered for record type "+b);return a}b=b.e;if("pq-clear"==b||"pq-clear-sent"==b||"pq-clear-sent-bundle"==b||"pq-delete-commands"==b||"pq-mark-sent"==b||"pq-write-commands"==b)return a.g;if("document-lock"==b)return a.v;if("append-commands"==b)return a.e;if("update-application-metadata"==b&&a.db())return a.db();if("append-template-commands"==b&&a.eb())return a.eb();throw Error("No capability registered for operation type "+
b);}q.z=function(){Rd(this.g,this.e,this.i,this.w,this.v,this.k,this.j,this.l,this.o);Hm.prototype.z.call(this)};function Iu(a,b,c,d,e,f,h,l,k,p,r,u,w,B,y,z,M,oa,ja,Va){H.call(this);this.l=a;this.V=b;this.F=c;this.U=d;this.ea=e;this.K=f;this.A=h;this.H=l;this.L=k;this.O=p;this.ka=u;this.ga=r;this.g=w;this.ja=B;a=new it;this.v=y?new nt(y,a):null;this.i=z;this.w=M;this.D=oa;this.n=new T;this.j=new T;this.o=Va}F(Iu,H);Iu.prototype.create=function(a){this.e(a);return this.j};
Iu.prototype.e=function(a){var b={},c;for(c in this.l){var d=new ht(c,this.i,this.l[c],a);I(this,d);b[c]=d}d=null;if(this.g)for(c in d={},this.g){var e=new ru(c,this.i,this.g[c],a);I(this,e);d[c]=e}a=new Gu(b,this.V,this.F,this.U,this.ea,this.K,this.A,this.H,this.L,this.O,this.ga,this.ka,d,this.ja,this.w,this.D,this.o);I(this,a);a=new cn(a);I(this,a);this.n.e(a);this.j.e(a);return a};Iu.prototype.k=n("v");function Ju(a){this.e=a}Ju.prototype.clearPendingQueue=function(a){Si(rn(this.e),function(){return a.pendingQueueCleared()},function(){return a.pendingQueueClearFailed()})};function Ku(a,b,c){this.docId=a;this.commandsIndex=b;this.serializedCommands=c};function Lu(a){this.e=null;U(a,D(this.Ge,this))}q=Lu.prototype;q.Ge=m("e");q.provideDocument=function(a){return new wt(a)};q.provideDocumentEntity=function(a,b,c){return new Lt(a,b,c)};q.provideCommandBatch=function(a,b,c,d,e){return new dt(a,b,c,d,e)};q.providePendingQueue=function(a){return new du(a)};q.providePendingQueueCommandBatch=function(a,b,c){return new Ku(a,b,c)};q.providePendingQueueCommandBundleMetadata=function(a,b,c,d){return new au(a,b,c,d)};q.provideApplicationMetadata=function(a){return new Ht(a)};
q.provideFontMetadata=function(a){return new Du(a)};q.provideSyncObject=function(a){return new iu(a)};q.provideLocalStorePendingQueueClearer=function(){return new Ju(this.e)};q.provideBlobMetadata=function(a,b){return new Ut(a,b)};q.provideTemplateMetadata=function(a){return new qu([a])};q.provideTemplateCreationMetadata=function(a){return new ou([a])};function Mu(){}Mu.prototype.create=function(){return hj(null)};Mu.prototype.e=kb("Cannot call #createSynchronously in NoOpLocalStoreFactory");Mu.prototype.k=aa(null);function Nu(){}q=Nu.prototype;q.jc=null;q.bd=!1;q.kd=null;q.Pd=!1;q.setSystemSupportedFonts=m("jc");q.setNativeFontInstaller=g();q.setMenuFontsEnabled=g();q.setAcceleratedNonLatinEnabled=m("bd");q.setAcceleratedNonLatinSyncCheck=g();q.setFormat=m("kd");q.setDomainFontsEnabled=g();q.setSubsetExtractionEnabled=m("Pd");q.setIndependentDefaultFonts=g();q.setNonLatinUi=g();q.setJapaneseSystemFontsAsWebfonts=g();q.setKoreanSystemFontsAsWebfonts=g();
function Ou(a){a.jc||(a.jc=ss);Bh=new Ah(a.bd,a.Pd,!0,a.kd)};function Pu(){this.e={}}function Qu(a,b,c,d){var e=a.e[b];return e?function(a){var b=c.apply(this,arguments);return b?e(b,d):null}:c};function Z(a,b){var c=new Pu;this.e(c);for(var d in this)if("constructor"!=d&&ya(a[d])){var e=kr(b,a[d],a);this[d]=Qu(c,d,e,b)}}Z.prototype.e=ta;function Ru(a,b){Z.call(this,a||{},b)}F(Ru,Z);Ru.prototype.readCommands=function(a,b,c,d){d.callback(0,"Native readCommands is not supported")};function Su(a,b){Z.call(this,a||{},b)}F(Su,Z);Su.prototype.readDocument=function(a,b,c,d){d.callback(0,"Native readDocument is not supported")};function Tu(a,b){Z.call(this,a||{},b)}F(Tu,Z);q=Tu.prototype;q.popUnusedDocumentId=function(a,b,c){c.callback(0,"Native popUnusedDocumentId is not supported")};q.pushUnusedDocumentIds=function(a,b,c,d){d.callback(0,"Native pushUnusedDocumentIds is not supported")};q.getUnusedDocumentIdCount=function(a,b,c){c.callback(0,"Native getUnusedDocumentIdCount is not supported")};q.getApplicationMetadata=function(a,b,c){c.callback(0,"Native getApplicationMetadata is not supported")};
q.getAllApplicationMetadata=function(a,b){b.callback(0,"Native getAllApplicationMetadata is not supported")};function Uu(a,b){Z.call(this,a||{},b)}F(Uu,Z);Uu.prototype.readDocumentEntity=function(a,b,c,d,e){e.callback(0,"Native readDocumentEntity is not supported")};Uu.prototype.readDocumentEntities=function(a,b,c,d){d.callback(0,"Native readDocumentEntities is not supported")};Uu.prototype.readDocumentEntitiesByIds=function(a,b,c,d,e){e.callback(0,"Native readDocumentEntitiesByIds is not supported")};function Vu(a,b){Z.call(this,a||{},b)}F(Vu,Z);Vu.prototype.acquireLock=function(a,b,c,d){d.callback(0,"Native acquireLock is not supported")};Vu.prototype.releaseAllLocks=ta;function Wu(a,b){Z.call(this,a||{},b)}F(Wu,Z);q=Wu.prototype;q.addFile=function(a,b,c,d,e,f){f.callback(2,"Native addFile is not supported")};q.getFileUrl=function(a,b,c,d){d.callback(null)};q.getDirectoryContents=function(a,b,c,d){d.callback([])};q.getAllFilesWithUri=kb("Native getAllFilesWithUri is not supported");q.removeFile=function(a,b,c,d,e){e.callback(2,"Native removeFile is not supported")};q.removeDirectory=function(a,b,c,d){d.callback(2,"Native removeDirectory is not supported")};function Xu(a,b){Z.call(this,a||{},b)}F(Xu,Z);Xu.prototype.pushNonSnapshottedDocumentId=function(a,b,c){c.callback(0,"Native non-snapshotted document id push is not supported")};Xu.prototype.removeNonSnapshottedDocumentIds=function(a,b,c){c.callback(0,"Native non-snapshotted document id removal is not supported")};function Yu(a,b){Z.call(this,a||{},b)}F(Yu,Z);Yu.prototype.executeOperations=function(a,b,c){c.callback(0,"Native executeOperations is not supported")};function Zu(a,b){Z.call(this,a||{},b)}F(Zu,Z);Zu.prototype.readAllBlobMetadataForDocument=function(a,b,c){c.callback(0,"Native blob metadata for a document is not supported")};Zu.prototype.clearBlobMetadataForDocument=function(a,b,c){c.callback(0,"Native clearing of blob metadata for a document is not supported")};function $u(a,b){Z.call(this,a||{},b)}F($u,Z);$u.prototype.readPendingQueue=function(a,b,c){c.callback(0,"Native readPendingQueue is not supported")};function av(a,b){Z.call(this,a||{},b)}F(av,Z);av.prototype.getAllSyncObjects=function(a,b){b.callback(0,"Native getAllSyncObjects is not supported")};function bv(a,b){Z.call(this,a,b)}F(bv,Z);bv.prototype.readCommands=function(a,b,c,d){d.callback(0,"Native readCommands is not supported")};bv.prototype.addCommands=kb("Native addCommands is not supported");function cv(a,b){Z.call(this,a||{},b)}F(cv,Z);cv.prototype.readAllTemplateMetadata=function(a,b,c){c.callback(0,"Native readAllTemplateMetadata is not supported")};cv.prototype.readTemplateMetadata=function(a,b,c){c.callback(0,"Native readTemplateMetadata is not supported")};cv.prototype.readTemplateCreationMetadata=function(a,b,c){c.callback(0,"Native readTemplateCreationMetadata is not supported")};cv.prototype.deleteTemplate=function(a,b,c){c.callback(2,"Native deleteTemplate is not supported")};function dv(a,b){Z.call(this,a||{},b)}F(dv,Z);dv.prototype.readAllFontMetadata=function(a,b){b.callback(0,"Native readAllFontMetadata is not supported")};dv.prototype.readFontMetadata=function(a,b,c){c.callback(0,"Native readFontMetadata is not supported")};function ev(){this.e=new Nu;this.o=!1}F(ev,H);q=ev.prototype;q.oc=null;q.wc=null;q.xc=null;q.rc=null;q.pc=null;q.qc=null;q.uc=null;q.yc=null;q.Bc=null;q.zc=null;q.Ac=null;q.vc=null;q.nc=null;q.tc=null;q.nd=!0;q.xd=null;q.md=new T;q.setNativeDocumentCapability=m("oc");q.setNativePendingBlobCapability=m("wc");q.setNativePendingQueueCapability=m("xc");q.setNativeDocumentLockCapability=m("rc");q.setNativeDocumentCreationCapability=m("pc");q.setNativeNonSnapshottedDocsCapability=m("uc");
q.setNativeDocumentEntityCapability=m("qc");q.setNativeSyncObjectsCapability=m("yc");q.setNativeWebFontsCapability=m("Bc");q.setNativeTemplateAdapter=m("zc");q.setNativeTemplateCapability=m("Ac");q.setNativeOperationExecutor=m("vc");q.setNativeDocumentAdapter=m("nc");q.setNativeFileStorageAdapter=m("tc");q.setFastTrack=m("nd");q.setLocale=m("xd");q.setFakeLocalStore=function(){this.o=!0};q.getWebFontsBuilder=n("e");q.createLocalStoreObjectProvider=function(){return new Lu(this.md)};
function fv(a,b,c,d){if(a.o)return new Mu;if(a.nc&&a.vc&&a.oc&&a.xc&&a.rc){var e={};e[c]=new Ru(a.nc,d);var f=new Yu(a.vc,d),h=new Su(a.oc,d),l=new $u(a.xc,d),k=new Vu(a.rc,d),p=null;a.pc&&(p=new Tu(a.pc,d));var r=null;a.wc&&(r=new Zu(a.wc,d));var u=null;a.qc&&(u=new Uu(a.qc,d));var w=null;a.uc&&(w=new Xu(a.uc,d));var B=null;a.yc&&(B=new av(a.yc,d));var y=null;a.Bc&&(y=new dv(a.Bc,d));var z=null;a.zc&&(z={},z[c]=new bv(a.zc,d));c=null;a.Ac&&(c=new cv(a.Ac,d));var M=null;a.tc&&(M=new Wu(a.tc,d));return new Iu(e,
f,h,r,l,k,!0,p,u,w,B,y,z,c,M,b,a.nd,a.xd,a.md,d)}return null};function gv(a,b,c){L.call(this);this.g={"X-Same-Domain":"1"};!1===c&&(this.g={});this.j="";this.e=b||Un();(a=oc((a||v).location.href,"authkey"))&&hv(this,"authkey",a)}F(gv,L);function iv(a,b){var c=b.length-1;0<=c&&b.indexOf("/",c);a.j=b}gv.prototype.k=function(a){hv(this,"tfe",a)};function hv(a,b,c){var d=a.e;if(c){if(d.e[b]=c,d.g&&(b=d.e.token||null))d.g.e(b),d.g=null}else delete d.e[b];N(a,"C")};function jv(a){L.call(this);this.g=a;this.e=null;this.j=new Tk(this);this.j.Y(this.g,"C",this.k)}F(jv,L);jv.prototype.k=function(){this.e&&this.e.j(this.g.e.e)};jv.prototype.z=function(){this.e&&!this.e.q()&&(this.e.l("tfe_changed",this.g.k,this.g),this.e.e(),this.e.k());this.e=null;J(this.j);jv.G.z.call(this)};!Wc&&!Rc||Rc&&9<=Number(hd)||Wc&&gd("1.9.1");Rc&&gd("9");new Or;function kv(a,b){H.call(this);this.g=[];this.k=a;(this.i=b||null)&&I(this,this.i);this.e=this.j=null;this.i&&(this.e=new yf(500),this.j=new Tk(this),this.j.Y(this.e,"tick",this.l))}F(kv,H);kv.prototype.reset=function(){this.g=[];this.e&&Cf(this.e)};kv.prototype.ma=function(a){return 0<=Oa(this.g,a)};kv.prototype.l=function(){for(;0<this.g.length&&Cq(this.i);)Dq(this.i),this.k(this.g.shift());0==this.g.length&&this.e&&Cf(this.e)};kv.prototype.z=function(){J(this.j);J(this.e);kv.G.z.call(this)};function lv(a,b){K.call(this,"H",a);this.Kd=b}F(lv,K);function mv(a,b,c,d,e,f,h,l,k,p,r,u,w,B,y){L.call(this);this.g=a;this.ja=b;this.n=c;this.k=d;this.v=u||(c?"POST":"GET");this.w=k;this.A=e;this.o=f;this.H=h;this.U=l;this.ga=r;this.O=w;this.j=this.F=this.l=0;this.K=yb(B);this.ea=y||3E4}F(mv,L);var nv=5E3*(.75+.5*Math.random());
mv.prototype.S=function(a){this.l++;this.F=E();this.e=new Vn;this.D.kb(this.e,"complete",D(this.ka,this));this.e.n=Math.max(0,this.ga);"text"!=this.w&&(this.e.l=ov(this.w));var b=lc(this.ja+this.g,a.e.e),c={};Bb(c,this.K,yb(a.g));this.e.S(b,this.v,this.n,c)};mv.prototype.reset=ta;mv.prototype.z=function(){N(this,"I");this.reset();delete this.o;delete this.A;mv.G.z.call(this)};function pv(a,b,c,d,e,f,h,l){L.call(this);this.F=a;this.k=new gv(b,e,h);this.j=new jv(this.k);this.l=new Tk(this);this.v=c||null;c&&this.l.Y(c,"z",this.xe);this.e=d||new Eo;this.D=l||null;this.A=new Nq;this.g=[];this.w=[];this.n=new kv(D(this.hf,this),f);this.o=Qo;this.l.Y(this.j,"B",this.re)}F(pv,L);function Jj(a,b){var c=a.F;b=new qv(a,b,a,a.D,!0);c.e&&(b.q=c.e);b.i=a.k.j;return b}q=pv.prototype;
q.S=function(a){if(!a.q()){var b=this.g;0<=Oa(b,a)||b.push(a);a:{b=this.n;if(b.i){if(!Cq(b.i)||0!=b.g.length){b.g.push(a);Df(b.e);break a}Dq(b.i)}b.k(a)}this.l.kb(a,"I",this.Ne)}};q.hf=function(a){5<=this.e.e.e||(this.e.e==Fo&&Go(this.e,Io),this.l.kb(a,"H",this.td),a.S(this.k))};
q.td=function(a){var b=a.ba;a=a.Kd;"SOON"==a.q["x-restart"]&&zh(this.e.i,null);this.v&&fs(a)&&1!=b.k&&this.v.log(Error("blank JSON response"),cs(a));if("NOW"==a.q["x-restart"])var c=new Sk("j",a.g,a.i);else if(7==a.g)c=null;else{c=a.g;var d=a.i;(0==a.g?0==c&&0==d&&("text"!=a.j||null==a.e):8==c||5==c||6==c&&(0>=d||503==d||405==d||Rc&&12001<=d&&12156>=d))?c="g":(c=a.i,c=6==a.g&&(202==c||401==c||403==c||409==c||429==c||500<=c&&599>=c&&503!=c&&550!=c)||400==c&&null!=es(a)||200==c&&(null==a.k||ds(a)||
fs(a))?"h":0==a.g?"f":"e");c=new Sk(c,a.g,a.i,6==a.g&&500==a.i?ds(a):null)}if(c){d=!0;if("f"==c.type){try{b.A(a),rv(this,b)}catch(k){c=new Sk("i",c.q,c.g),c.k=k,c.i="f",rv(this,b,this.o)}b.W()}else if("g"==c.type||"h"==c.type){var e=c,f=!1;if(200==e.g){var h=ds(a);h&&"XSRF"==W(h,1)&&(sv(this,h.getData()),f=!0)}400==e.g&&(a=es(a))&&W(a,1)&&(sv(this,W(a,1)),f=!0);409==e.g&&this.k.k(null);a=5<=this.e.e.e;h="h"==e.type;a||!(f||1!=b.k&&4>b.l)?3==b.k?(a||(null==this.j.e||h?tv(this,b,!0):this.w.push(b),
uv(this),Go(this.e,vv(this,e.g),b.g)),a=2):a=1:(tv(this,b,!1),a=3);switch(a){case 1:c.i=c.type;c.type="e";break;case 3:d=!1;break;case 2:c.j instanceof $r&&W(c.j,2)}}else"j"==c.type&&(this.v&&this.v.T(Error("Incompatible server")),rv(this,b,Po),d=!1);if("e"==c.type){c.j instanceof $r&&W(c.j,2);try{if(0==b.o(c)&&(d=!1),b.U)rv(this,b);else{var l=b.H(c)||vv(this,c.g);rv(this,b,l)}}catch(k){c=new Sk("i",c.q,c.g),c.k=k,c.i="e",rv(this,b,this.o)}b.W()}d&&(c.l=b.g,N(this,c))}};
q.Ne=function(a){a=a.ba;if(this.n.ma(a)){var b=this.n;Wa(b.g,a);0==b.g.length&&b.e&&Cf(b.e)}else 0<=Oa(this.g,a)&&(this.l.$b(a,"H",this.td),rv(this,a));Wa(this.g,a);Wa(this.w,a)};function rv(a,b,c){var d=a.e.e,e=d,f=c||Ko;c=!c;Wa(a.g,b);Wa(a.w,b);a.n.ma(b);if(!(5<=d.e))if(5<=f.e)Go(a.e,f,b.g);else{var h=null!=a.j.e||Ra(a.g,function(a){return 3==a.k});d==Io?c||!h?0==a.g.length&&(e=Fo):(uv(a),e=f):c?0<a.g.length?(e=Jo,wv(a)):null!=a.j.e&&a.j.e.i()||(e=Fo):e=f;Go(a.e,e,b.g)}}
function uv(a){null!=a.j.e&&1==a.e.e.e&&(a=a.j,a.e.e(),a.e.g())}q.$=n("e");function tv(a,b,c){var d=nv;c&&0!=b.j&&(d=b.j<b.ea?1.5*b.j:b.j);b.j=d;c=Math.max(0,d-(E()-b.F));a.A.Ka(D(a.S,a,b),c)}q.re=function(a){var b=this.e.e;5<=b.e||(a.g?1!=b.e&&(0<this.g.length?(Go(this.e,Jo),wv(this)):Go(this.e,Fo)):Go(this.e,vv(this,a.i)))};function wv(a){var b=a.w.shift();b&&a.S(b)}
function vv(a,b){return 401==b?No:403==b?Mo:421==b?Oo:202==b||405==b||409==b||429==b||500<=b&&599>=b&&550!=b?Lo:400<=b&&499>=b||550==b?a.o:Ko}function sv(a,b){a=a.k;a.e.e.at&&hv(a,"at",b);hv(a,"token",b)}q.xe=function(){Go(this.e,this.o)};q.z=function(){Rd(this.g);J(this.j);J(this.k);J(this.A);J(this.n);J(this.l);pv.G.z.call(this)};function xv(a){var b=this;H.call(this);this.i=a;this.e=new Q;this.g=new ek;I(this,this.g);fk(this.g,a.g,function(a){1==a.i.e!=(1==a.g.e)&&zh(b.e,new bk(1==a.g.e))})}F(xv,H);xv.prototype.isOnline=function(){return 1==this.i.e.e};var yv=/\/d\/([^\/]+)/;function zv(a){a=a.match(bc)[5]||null;return yv.test(a)};function Av(a,b,c){this.g=a;this.I=c;this.i="";this.e=void 0;this.l=null;this.F={};this.B=3;this.v=!1;this.j=ta;this.k=jb;this.n=ta;this.o=-1;this.w=this.D=!1;this.q=new Kn}function Ij(a,b,c){a.g=mc(a.g,b,c);return a}function rl(a){a.w=!0;return a}function Hj(a,b){a.e=b;return a}function Xo(a,b){a.e=b;return a}function ik(a,b){b=sb(b,function(a){return A(a)?a:ue(a)});return Hj(a,jc(b))}function Vo(a){a.v=!0;return a}function Mj(a,b){a.j=b;return a}function Wo(a,b){a.k=b;return a}
function Kj(a,b){a.B=b;return a}function Nj(a,b){a.n=b;return a}Av.prototype.setTimeout=function(a){this.o=a;return this};function Uo(a){a.D=!0;return a}
function Lj(a){a.D&&(A(a.e)||va(a.e));var b=a.o;0>b&&(b=a.H?4E4:2E4);var c=a.g,d=Bv(a);a:{if(va(a.e)){var e=a.e;try{if(P(Zg(),"docs-net-cbfd")&&v.FormData){for(var f=new v.FormData,h=0;h<e.length;h+=2)f.append(e[h],e[h+1]);var l=f}else l=ic(e);var k=l;break a}catch(p){if(p instanceof URIError&&"URI malformed"==p.message){b=[];for(c=1;c<e.length;c+=2)if(d=ph(e[c].toString()))b.push(e[c-1]),b.push(d);e=b.toString().substr(0,100);a=Cv(a).substr(0,100);throw md(p,{illegal_request_content:e,request_uri:a});
}throw p;}}k=a.e}e=new Dv(c,d,k,a.B,a.n,a.j,a.k,!1,"text",a.v,b,a.l,a.q,a.F,void 0);if(!a.A)throw Error("Trying to send a request without a request sender for - "+Cv(a));a.A.S(e);return e}function Cv(a){return Bv(a)+a.g}function Bv(a){if(a.w){if(a=a.i,zv(a)){zv(a);a=a.match(bc);var b=a[5];b=b.replace(yv,"");a=ac(a[1],a[2],a[3],a[4],b,a[6],a[7])}}else a=a.i;return a};function Dv(a,b,c,d,e,f,h,l,k,p,r,u,w,B,y){mv.call(this,a,b,c,d,e,f,h,l,k,p,r,u,w,B,y);this.e=null;this.D=new Tk(this)}F(Dv,mv);
Dv.prototype.ka=function(){var a=this.e;var b="";var c=null;try{""==a.l?b=ho(a):b=io(a),c=a.Tb("Content-Type")}catch(p){}var d=Ev(a.l),e=a.$(),f=a.j,h={};a=a.Sb().split("\r\n");for(var l=0;l<a.length;l++)if(!/^[\s\xa0]*$/.test(Ob(a[l]))){var k=a[l].split(": ");2==k.length&&(h[k[0]]=k[1])}b=new bs(b,d,c,e,f,h,{ReqUri:this.g,ReqContent:this.n,ReqMethod:this.v},this.O);this.reset();N(this,new lv(this,b))};Dv.prototype.reset=function(){this.e&&(this.e.W(),this.e=null)};
Dv.prototype.z=function(){J(this.D);Dv.G.z.call(this)};function Ev(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";case "text":return"text";case "":return"text";default:throw Error("Unsupported Xhr Response Type - "+a);}}function ov(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";default:return""}};function qv(a,b,c,d,e){Av.call(this,b,c,d);this.A=a;this.H=!!e}F(qv,Av);function Fv(){this.e=null};function Gv(a,b,c,d,e){H.call(this);this.i=a;this.j=b;this.e=c;this.k=e;this.g=new Tk(this);I(this,this.g)}F(Gv,H);Gv.prototype.l=function(a,b){this.e.T(Error(di(b)));a()};
Gv.prototype.n=function(a,b,c,d){try{var e=Oj(d)}catch(k){this.e.T(Error("Could not interpret result of /getappmetadata "+(d.e||"")));c();return}var f=e;if(f&&f.newModelCommands&&f.jobset){d=hh(f.newModelCommands);e=f.jobset;var h=f.docosKeyData;f=f.version;var l=new gm(this.i,!0);S(l,"jobset",e);l.i=d.concat();l.g=!0;h&&S(l,"docosKeyData",h);x(f)&&S(l,"version",f);d=l}else d=null;d?a.ia([d],b,D(this.l,this,c)):b()};Gv.prototype.z=function(){Gv.G.z.call(this);delete this.g;delete this.e};function Hv(a,b,c){H.call(this);this.e=a;this.j=b;this.g=c}F(Hv,H);Hv.prototype.i=function(a,b){this.g.T(Error(di(b)));a()};Hv.prototype.k=function(a,b,c,d){var e=ah("docs-offline-nnodi");d<.9*e?(a=Lj(Kj(Mj(Nj(Ij(Jj(this.j,"/getids"),"num",String(e-d)),D(this.l,this,a,b,c)),c),2)),I(this,a)):b(0)};
Hv.prototype.l=function(a,b,c,d){try{var e=Oj(d)}catch(f){this.g.T(Error("Could not interpret result of /getids: "+(d.e||"")));c();return}e&&0!=e.length?(a=a.e.db())?(c=D(this.i,this,c),a.k.pushUnusedDocumentIds(this.e,e,new Ep(Ea(b,e.length)),Rp(c))):b(e.length):b(0)};function Iv(a,b,c,d,e){H.call(this);this.j=a;this.g=new Hv(a,b,c);this.e=new Gv(a,b,c,d,e)}F(Iv,H);Iv.prototype.i=function(a,b,c,d){var e=Ea(b,d);b=this.e;d=Ea(e,!0);e=Ea(e,!1);a=Kj(Mj(Nj(Ij(Jj(b.j,"/getappmetadata"),"smv",String(b.k)),D(b.n,b,a,d,e)),e),2);c&&Ij(Ij(a,"forcehl","1"),"hl",c);c=Lj(a);I(b,c)};Iv.prototype.toString=function(){return"EditorMetadataFetcher for "+this.j};Iv.prototype.z=function(){J(this.g);delete this.g;J(this.e);delete this.e;Iv.G.z.call(this)};Fa(g().prototype,g().prototype);function Jv(){this.g=!1}F(Jv,Rj);Jv.prototype.e=function(a,b,c,d,e){"labelpath"==c.entityType?(c=JSON.parse(c.path),a=new jm(b,a,"labelPath",c,!0),e.push(a)):Jv.G.e.call(this,a,b,c,d,e)};function Kv(a,b){Z.call(this,a||{},b)}F(Kv,Z);Kv.prototype.onSyncResult=lb(ta,0);Kv.prototype.onSyncResult2=function(a){this.onSyncResult(a.getRequestId(),a.getSyncResult())};Kv.prototype.fatalError=ta;function Lv(a,b){this.Xc=a;this.e=b}Lv.prototype.Jc=function(){return null!=this.Xc&&null==this.e};function Mv(a){Q.call(this);this.value=null;this.value=a}t(Mv,Q);function Nv(a){Mv.call(this,a)}t(Nv,Mv);function Ov(){}t(Ov,Of);function Pv(a,b,c){var d=this;this.B=a;this.k=null;this.q=b;this.l=c;this.e={};this.i=[];this.I=new Nv(!0);oj(this.q,function(a){d.k=a;a=d.i;d.i=[];Qv(d,a)})}
function sr(a,b){for(var c=[],d=[],e={},f=0;f<b.length;e={Dc:e.Dc},f++){var h=Fh(b[f].e),l=a.e[h];l?(e.Dc=b[f].e,l=qj(l,function(a){return function(b){b.Jc()&&(b=b.Xc,b=new Lv(new Hr(a.Dc,b.i,b.g),null));return b}}(e))):(c.push(b[f]),a.e[h]=l=wj());d.push(l)}var k=wj();Si(sj(d,!1),function(a){for(var b=[],c={},d=0;d<a.length;d++){var e=a[d];if(!e.e)throw Error("Deferred result should always be successful after a whole flight.");e=e.g();e.Jc()?b.push(e.Xc):(e=e.e,c[Fh(e)]=e)}V(k,new ns(b,ub(c)))},
function(a){return k.errback(a)});Rv(a);Sv(a,c);return k}function Sv(a,b){if(b.length){for(var c=qs(a.B,b),d=[],e=0;e<b.length;e++)d.push(b[e].e);Si(c,function(b){var c=b.e;b=b.g;b.length&&a.j("Fetch failed",b,"Individual fetches failed.");b=[];for(var d=0;d<c.length;d++){var e=c[d];switch(e.g){case "sync-needed":b.push(e);break;case "sync-needed-non-blocking":b.push(e);a.g(e);break;case "sync-not-needed":a.g(e)}}Qv(a,b)},function(b){a.j("Entire fetch failed",d,b?Bj(b):null)})}}
function Qv(a,b){if(1!=a.q.e)if(a.k)for(var c={},d=0;d<b.length;c={errback:c.errback,Pb:c.Pb},d++){var e=b[d],f=a.k.i(e);if("sync-needed"==e.g){var h=D(a.g,a);c.errback=D(a.j,a,"Local syncing of remote resource failed",[e.e]);Si(f,h,function(a){return function(b){b?a.errback(b.Z()):a.errback(null)}}(c))}else h=ta,c.Pb=D(a.n,a,"Local non-blocking syncing of remote resource failed",[e.e]),Si(f,h,function(a){return function(b){b?a.Pb(b.Z()):a.Pb(null)}}(c))}else for(c=0;c<b.length;c++)"sync-needed"==
b[c].g&&a.g(b[c]);else a.i=a.i.concat(b)}Pv.prototype.g=function(a){var b=Fh(a.e),c=this.e[b];c?(delete this.e[b],V(c,new Lv(a,null))):(b={resultIdString:b},b.syncStatus=a.g,b.totalDeferreds=Object.keys(this.e).length,this.l.T(Error("Missing deferred for completed fetch result"),b));Rv(this)};Pv.prototype.n=g();Pv.prototype.j=function(a,b){for(a=0;a<b.length;a++){var c=Fh(b[a]),d=this.e[c];delete this.e[c];V(d,new Lv(null,b[a]))}Rv(this)};
function Rv(a){var b=a.I;a=!vb(a.e).length;if(!Pf(b.value,a)){var c=b.value;b.value=a;zh(b,new Ov(c,a))}};function Tv(){}Tv.prototype.e=ta;function Uv(a,b){this.e=a;this.g=b}Uv.prototype.i=function(a){a.errback("Sync update server error");this.e.log(Error("Sync update server error"))};Uv.prototype.j=function(a,b){try{var c=Mn(b.e||"")}catch(f){a.errback("Could not interpret result of /sync/get");this.e.log(Error("Could not interpret result of /sync/get"));return}b=[];if(c)for(var d=0;d<c.length;d++){var e=c[d];try{b.push(e)}catch(f){a.errback("Invalid sync update");this.e.log(Error("Invalid sync update"));return}}a.e(b)};function Vv(a,b){this.e=a;this.g=b};function Wv(a,b,c){this.j=a;this.g=b;this.e=c||[]}Wv.prototype.i=function(a){mu(this.j,D(this.l,this,a||ta),Ea(a||ta,0))};Wv.prototype.l=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=new Vv(wi(b[d]),Km(b[d])),f={};f.keyPath=e.e;f.state=e.g;c.push(f)}b=[];for(d=0;d<this.g.length;d++)b.push(Xv(this.g[d],c));c=Nk(b);U(c,D(this.q,this,a));bj(c,null,Ea(a,0),void 0)};
Wv.prototype.q=function(a,b){for(var c=[],d=0;d<b.length;d++)c.push.apply(c,b[d]);b=[];for(d=0;d<this.e.length;d++){var e=new T;vs(this.e[d],c,D(e.e,e),D(e.errback,e));b.push(e)}b=new Mk(b);U(b,D(this.k,this,a,c))};Wv.prototype.k=function(a,b,c){for(var d=0,e=0;e<c.length;e++)c[e][0]||d++;a(b.length,0<d?d+" post processors failed.":null)};function Yv(a,b){this.g=a;this.i=b}function Xv(a,b){var c=new T,d=a.g,e=new T;b=["syncStates",ue(b)];d=Hj(Mj(Nj(Jj(d.g,"/sync/get"),D(d.j,d,e)),D(d.i,d,e)),ic(b));d.l="POST";Lj(Kj(d,2));U(e,D(a.e,a,c));a=D(c.errback,c);bj(e,null,a,void 0);return c}
Yv.prototype.e=function(a,b){var c=this.i;a=D(a.e,a);for(var d=[],e=0;e<b.length;e++){var f=b[e],h=f.keyPath,l=f.state;f=f.data;if(!h||!l||!f)throw Error("Serialized SyncUpdate missing required key.");if(!h.length)throw Error("SyncUpdate key may not be empty.");d.push(Zr(c,new Sr(h,l,f)))}c.g&&c.g.ia(d,Ea(a,d))};function Zv(a,b,c){this.j=b;this.g=a;this.k=c;this.e=!1}Zv.prototype.i=function(a){if(!this.e){var b=this.j,c=this.g,d=c?c.e.Ob():null;c&&d?(b.g=new Rr(c,d,b.j),c=b.g,d=D(b.k,b),b=D(b.e.errback,b.e),mu(c.i,Ea(c.j,d),b)):b.e.e();this.e=!0}this.k.i(a)};function $v(){ev.call(this);this.v=[];this.l=this.i=null;this.w=!1;this.g=0;this.k=null;this.j=this.n=!1}F($v,ev);q=$v.prototype;q.buildForKix=function(a,b){return aw(this,"kix",a,b)};q.buildForRitz=function(a,b){return aw(this,"ritz",a,b,"top","chunk",new Rj(!0))};q.buildForPunch=function(a,b){return aw(this,"punch",a,b,void 0,void 0,new Jv)};q.buildForDrawings=function(a,b){return aw(this,"drawing",a,b,void 0,void 0,new Jv)};q.setSupportedFonts=m("v");q.setBlobTransporter=m("i");
q.setSupportsIncrementalXHRRead=m("w");q.setImageUrlRevoker=m("l");q.setSupportedModelVersion=m("g");q.setFirstChunkSize=m("k");q.setNonLatinInfrastructure=function(a,b){this.e.setAcceleratedNonLatinEnabled(a);this.e.setAcceleratedNonLatinSyncCheck(b)};q.setUseLatestTemplateMetadataIos=m("n");q.setEnableModelMetadataVersionParam=m("j");
function aw(a,b,c,d,e,f,h){var l=new Kk,k=new fr(void 0,void 0,void 0,!1);k.g["docs.offline.mobilenative.SyncApplication"]="true";Ou(a.e);var p=new Kv(d,k);hr(k,new nr(p.fatalError,p));var r=fv(a,l,b,k);if(!r)throw Error("Incomplete sync application.");var u=new pv(new Fv);iv(u.k,c);d=new Iv(b,u,k,l,a.g);var w=r.e(function(){Vl(k,Error("Unexpected sync application localstore error"))});if(w.g)throw Error("Called setWritable on an already writable localstore.");w.g=!0;r=r.k();var B=null,y=null;r&&
(B=new Zs(r),y=new $s(B));var z=null,M=null,oa=w.e.Ob()?new Xr(k):null,ja=w.e.lc(),Va=[Dh()];if(ja&&r&&B){z=new os(u,k);var sa=wj();M=new Pv(z,sa,k);var wa=new pr(new tr(new ts(a.v)));M=new rr(wa,M,new Tv);V(sa,new Ir(w,B));sa=new Bs(w,r);wa=ls().concat(ms);P(Zg(),"docs-emfms")&&Va.push("menu");var rc=null;rc=Ch().e?"locale":"core";z=new Ss(new Ls(ja,w.e.k,sa,z,M,wa,Va,r,k,oa,rc),sa)}sa=ja=null;if(wa=w.e.Ob()){sa=new Uv(k,u);var ob;M&&(ob=[new us(M,Va)]);ja=new Zv(w,oa,new Wv(wa,[new Yv(sa,oa)],ob))}ob=
new xv(new Eo);a=new Pp(w,w.e.e,d,new kp(c,u,l,w,y,M,k,a.l,a.i,ob,a.w,a.g,a.k,a.j,e,f,h),p,b,z,ja,r,B,c,k,M,a.n);I(a,w);I(a,d);M&&I(a,M);return a};qa("createApplicationBuilder",function(){return new $v});}).call(this);
